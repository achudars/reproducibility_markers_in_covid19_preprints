JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

1

EpiMob: Interactive Visual Analytics of Citywide
Human Mobility Restrictions for Epidemic
Control

arXiv:2007.03180v2 [cs.HC] 26 Jan 2021

Chuang Yang*, Zhiwen Zhang*, Zipei Fan*, Renhe Jiang†, Quanjun Chen, Xuan Song†,
and Ryosuke Shibasaki
Abstract—The outbreak of coronavirus disease (COVID-19) has swept across more than 180 countries and territories since late
January 2020. As a worldwide emergency response, governments have taken various measures and implemented policies, such as
self-quarantine, travel restrictions, work from home, and regional lockdown, to control the rapid spread of this epidemic. The common
intention of these countermeasures is to restrict human mobility because COVID-19 is a highly contagious disease that is spread by
human-to-human transmission. Medical experts and policy makers have expressed the urgency of being able to effectively evaluate the
effects of human restriction policies with the aid of big data and information technology. Thus, in this study, based on big human
mobility data and city POI data, we designed an interactive visual analytics system named EpiMob (Epidemic Mobility). The system
interactively simulates the changes in human mobility and the number of infected people in response to the implementation of a certain
restriction policy or combination of policies (e.g., regional lockdown, telecommuting, screening). Users can conveniently designate the
spatial and temporal ranges for different mobility restriction policies, and the result reflecting the infection situation under different
policies is dynamically displayed and can be flexibly compared. We completed multiple case studies of the largest metropolitan area in
Japan (i.e., Greater Tokyo Area) and conducted interviews with domain experts to demonstrate that our system can provide illustrative
insight by measuring and comparing the effects of different human mobility restriction policies for epidemic control.
Index Terms—Human mobility simulation, epidemic control, visual analytics, interactive system, big trajectory data

F

1

I NTRODUCTION

C

ORONAVIRUS disease (COVID-19) has been spreading
in more than 180 countries and territories since late
January 2020, and has caused significant losses to public
health services as well as to the worldwide economy. In response to the COVID-19 emergency, governments have implemented various measures and policies to restrict human
mobility such as self-quarantine, travel restrictions, working
from home, canceling events, and regional lockdown. Stateof-the-art research [1], [2] has revealed the effects of the
implementation of mobility restriction policies at an early
stage in China. However, the effect of the pandemic on
the world continues to change, and governments need to
flexibly implement different policies according to the fundamental situation in their country and gradually adjust
their policies as the epidemic develops. The rapid and userfriendly simulation and demonstration of the actual effect
of a certain restriction policy or combination of policies
has become a significant and urgent problem, especially for
medical experts and policy makers.
SEIR, as one of the most fundamental compartmental
models in epidemiology, has been widely applied to predict

•
•

•

* Equal contribution; † Corresponding Author.
C. Yang, Z. Zhang, Z. Fan, R. Jiang, Q. Chen, X. Song, and
R. Shibasaki are with the Center for Spatial Information Science,
The University of Tokyo. E-mail: {fanzipei,chen1990}@iis.u-tokyo.ac.jp,
{chuang.yang,zhangzhiwen,jiangrh,songxuan,shiba}@csis.u-tokyo.ac.jp.
Z. Fan, R. Jiang, Q. Chen, X. Song, and R. Shibasaki are also with
SUSTech-UTokyo Joint Research Center on Super Smart City, Southern
University of Science and Technology.

Manuscript received xx xxx, 202x; revised xx xxx, 202x.

infectious diseases that are transmitted from humans to humans, and where recovery confers lasting resistance, such as
measles, mumps, and rubella [3]. The model consists of four
compartments: S for the number of susceptible individuals,
E for the number of exposed individuals, which means the
individuals who are in the incubation period but not yet
infectious, I for the number of infected individuals, and
R for the number of recovered or deceased (or immune)
individuals. In particular, researchers have extended the
standard SEIR model to a city-to-city spatial SEIR model
to predict the COVID-19 epidemic peaks and magnitude
thereof at the nationwide level [4]. However, because the
model is based on city-to-city inflow and outflow data (i.e.,
the number of people moving from one city to another
within one day) [5], it is difficult to apply it to fine-grained
simulation at a citywide level.
Therefore, in this study, we collaborated with experts
from the public health and urban computing domains to
propose a novel trajectory-based SEIR model that assumes
that each person has a certain probability of being infected
by the other persons inside the same grid at the same
timestamp. Given the human trajectories of one city and
a set of disease parameters, our model can dynamically
and continuously perform grid-level fine-grained simulation at a fixed time frequency (i.e., every 5 min) for a
large metropolitan area (i.e., the Greater Tokyo Area). Furthermore, a two-stage simulation mechanism is designed
for different human mobility restriction policies. We first
generate a new set of human trajectories via a mobility
generative model, and then feed the new trajectories and

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

2

A

B
A1

A2

A3

A4

C
A5

Fig. 1. EpiMob System–an interactive visual analytics system for evaluating and simulating the effects of human mobility restriction policies for
epidemic control. Panel (A) enables the user to specify the mobility restriction policies including (A1)“regional lockdown,” (A2)“screening,” and
(A3)“telecommuting.”. To adapt to different diseases and different local environment, user could further set the essential epidemic parameters (A4,
A5). The results of the analysis of the transmission and infection situation are displayed in the policy result overview panel (B). In addition, the user
can perform a comparative analysis of different policies, and the results are displayed in panel (C).

disease parameters to our SEIR model to trigger a new
simulation. Finally, together with the experts, we designed
an interactive visual analytics system for epidemic control,
named EpiMob (Epidemic Mobility), which is capable of
interactively manipulating the epidemic model (i.e., setting
inputs) and intuitively demonstrating the simulation results
(i.e., visualizing outputs).
The main user interface of EpiMob is shown in Fig.1.
The interface enables users to specify the mobility restriction
policies, including “screening,” “telecommuting,” and “region lockdown” by using the console panel on the left side
of Fig.1-A. In particular, users can conveniently designate
spatial and temporal ranges for different mobility restriction
policies. For example: (1) starting to lockdown one of 23
wards of Tokyo from Apr 1st, 2020; (2) starting a telecommuting policy for the entire 23 wards of Tokyo from Mar
1st, 2020. And the result simulating the infection situation
is dynamically displayed on the result display panel (Fig.1B). By conducting thorough evaluations and domain expert
interviews, we demonstrate that our system can provide
illustrative insight in measuring and comparing the effects
of different human mobility restriction policies for epidemic
control.
To the best of our knowledge, EpiMob is the first interactive visual analytics system that can provide epidemic
control policy simulation at fine-grained spatiotemporal
granularity by utilizing citywide human mobility data and
city POI data as inputs. The major contributions of our study
are summarized as follows:
•

•

We propose a novel trajectory-based SEIR model to
simulate the spreading of an epidemic based on realworld human trajectory big data and city POI data.
We designed a “trajectory replacement” simulation
strategy to accommodate different settings on hu-

•

•

2
2.1

man mobility restrictions. Based on this strategy,
we implemented an online web system with wellmodularized system architecture.
We provide a comfortable user interface with a set of
visualization techniques to visually and interactively
help the end user measure and compare the quantitative effects of different human mobility restriction
policies.
We evaluated our system by conducting multiple
case studies as well as interviews of domain experts
and demonstrate the superior performance, functionality, and usability.

R ELATED W ORK
Epidemic Analytics and Visualization

To help prevent the spread of COVID-19, researchers have
performed epidemic data analytics and have developed
some epidemic prediction models. For instance, the effect
of transmission control and intervention in response to the
early outbreak in China [1] and Italy [6] was investigated.
As one of the most effective mobility restriction policies,
travel restrictions and their effects were analyzed [2]. A
mathematical prediction model was proposed to nowcast
and forecast the spread of COVID-19 inside and outside of
China [7]. Using Baidu Qianxi data (i.e., city-to-city inflow
and outflow data) [5], a modified SEIR and AI prediction
model was proposed to predict the COVID-19 epidemic
peaks and sizes [4]. Some studies specifically analyse and
estimate the epidemiological parameters of COVID-19 [8],
[9]. A trajectory-based algorithm has been proposed to
efficiently detect persons suspected to be infected among
a large crowd of people [10].
Prior to the recent COVID-19 studies that focused on
modeling and predicting the spread of the disease, epidemic

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

visualization has already received attention in our research
community. For example, the spatial interaction patterns on
a dataset of population movement and pandemic spread
were visually analyzed to provide decision support [11]. Interactive decision support tools were developed to evaluate
epidemic control strategies such as the use of pesticides and
quarantine measures [12]; VoroGraph [13] was developed as
an extension of GLEAMviz [14] to be able to explore both
local and long range epidemic spreading patterns.
The objective of our study is similar to that of previous studies [11], [12], [13], [14]; however, we distinguish
ourselves from them in the following aspects: (1) compared
with [12], [13], [14] who used a macro-epidemic simulation
model (i.e., simulation on the country to global level), our
simulation model is based on large-scale human GPS trajectory data, such that city or metropolitan scale simulation
could be conducted at a finer-grained spatiotemporal resolution (i.e., 500-meter mesh and 5-minute time interval);
(2) Real human mobility data implies the mobility characteristics of different groups of people, time range, and
locations; therefore, our simulation could be carried out at
a finer granularity with fewer model parameters than other
research. For example, the model in a related study requires
a large number of parameters to be set, and applies policies
as scale factors to parameters on their model [12]; (3) the
pandemic dataset of [11] was generated from an agentbased simulation model [15]. It could simulate contacts
between agents at the micro-level, but the time complexity
is significantly large to support interactive decision-making.
2.2

Mobility Analytics and Simulation

Human mobility has been analyzed by using big trajectory
data such as GPS data from mobile phones or taxis. Researchers have proposed a family of algorithms to efficiently
identify different patterns from a large trajectory database,
such as “Convoy” [16], “Swarm” [17], and “Gathering”
[18]. A robust and fast algorithm was proposed to discover
similar trajectories given on the query trajectory [19]. At the
same time, mobility simulation at a citywide level has been
a major challenge since the last decade. The Brinkhoff generator [20] was proposed to generate and simulate networkbased trajectories given the road network of a city. MNTG
[21] extends the Brinkhoff generator [20] to a web-based
traffic generator. SUMO [22] can simulate human mobility in
a large urban area. Multi-agent transport simulation (MATSim) [23] is a state-of-the-art solution for citywide traffic
simulation in the field of transportation engineering.
By employing the machine learning technologies, datadriven methodologies have been proposed for mobility simulation or generation for a large urban area [24], [25], [26],
[27]. In addition, a human mobility simulator was specifically developed for disaster situations (i.e., the 2011 Great
East Japan Earthquake) [28], [29]. Although these studies
could be applied to simulate citywide human mobility in
normal or emergency situations, the simulation or generation of citywide human mobility under different restriction policies in an epidemic or pandemic situation has not
yet been reported. Motivated to address this shortcoming,
we propose a novel replacement-based mobility generation
mechanism.

3

2.3

Spatiotemporal Visualization and Visual Analytics

Information visualization and visual analytics have become
a significant research field in computer science [30], [31].
Especially, for the highly complex spatiotemporal data, researchers have conducted various studies from the following aspects. Related studies are summarized below.
First, researchers focused on visualization theories and
techniques applicable to spatiotemporal data, including
classic trajectory or movement data [32], [33], [34], temporal
event data [35], and social media data [36]. Specifically, to
obtain an improved visual abstraction of human mobility,
a series of origin-destination (OD) flow maps were proposed [37], [38], [39], [40]. Novel location encodings were
developed to obtain a more effective visual representation
of urban locations [41], [42]. Other researchers developed
methods to transform the raw trajectories into spatial time
series or density maps [43], [44]. Ranking visualization
[45], and real-time visualization [46] were also specifically
addressed for spatiotemporal data.
Second, based on these visualization theories and techniques, researchers also used visual analytics to examine
taxi GPS data [47], [48], geo-tagged social media data [49],
and telco data [50] to improve their understanding of the
data and for pattern discovery [51]. In particular, researchers
leveraged interactive visual analytics to comprehend the
transportation system [52], [53], [54], [55], [56], to solve
urban problems [57] including air pollution [58], [59], traffic
congestion [60], and bus route planning [61]; to explore
route diversity [62], significant places [63], [64], [65], and
urban network centralities [66]; and to find ideal home locations [67] and billboard locations [68] for commercial use.
These visual analytics studies design new visualizations and
integrate them in a novel way to deliver a comprehensive
exploration for enhancing analysts’ perception.
Our study falls into the second category, which emphasizes the incorporation of spatiotemporal interaction into
city-scale epidemic simulators and the delivery of effective
visual analytics on the simulation results by using novel
spatiotemporal elements.

3

BACKGROUND

In this section, we first formulate our problem, after which
we provide the task analyses based on the discussion with
domain experts, and finally describe the data source used in
our study.
3.1

Problem Formulation

Disease transmission always co-occurs with human migration, and the most direct signal of human migration is
trajectories, that is, when, where, and how. Therefore, we
collaborated with three experts (EA-EC) with the aim of
utilizing trajectory data to develop a visualization-based
decision support system for epidemic control. EA is an
infectious disease specialist with more than three decades of
experience. EB is a physicist who has worked on nonlinear
dynamics and complex networks for over ten years. He
conducted several studies of human mobility networks and
nonlinear dynamics modeling of infectious diseases. EC is
a GIS expert who focused on spatial mathematical modeling, spatial epidemiology, and geo-visualization for over

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

20 years. We consulted all three experts while designing
the epidemic model. Specifically, EB and EC also acted as
consultants by advising us on modeling human mobility
under restrictions and visualization design, respectively.
This collaboration aimed to pool expertise and build a reasonable, insightful, and user-friendly visualization system
for decision-makers. Based on the structured interviews we
conducted with these experts, we constructed a three-stage
workflow for efficient policy-making.
Exploration Stage: At this stage, the experts aim to determine two types of information. (i) The disease transmission
parameters in the target city. As our experts said “The parameters are extremely important and sensitive to the epidemic model,
and a small change would have a pronounced effect on the result.”
Taking COVID-19 as an example, the parameters include
the recovery/death rate, incubation period, and the number
of adequate exposures per unit of time. For an epidemic
transmission model, parameter setting is indispensable and
changes from city to city. The setting of appropriate parameters for each target city is highly important. (ii) Potential
regions in which to deploy policies. Experts would expect
our system to supply reference information to facilitate the
identification of regions for policy deployment.
Simulation Stage: Given the model parameters and policies,
the design of a simulation model utilizing trajectory data
is of critical importance at this stage. The classic SEIR
model could model the disease from an overall perspective
but does not capture the spatial characteristic. The agentbased model is slow, and the meta-population model is
coarse. Following our discussions with experts, we decided
to construct a grid-based SEIR model (i.e., trajectory-based
SEIR model) that balances granularity and speed. Therefore,
this stage requires us to devise a simulation mechanism that
could balance granularity and speed and is well suited to
accept complicated policy inputs.
Evaluation Stage: This stage is designed to evaluate the
simulation results of a single policy and compare the advantages and disadvantages of different policies. Given a
set of simulation results, our experts indicated their desire
to conveniently find the optimal set with different criteria. We need to provide at least one comparison criterion.
Moreover, owing to the diversity of potential geographical
spaces available for selection, assisting users to distinguish
different policies has also become a challenge. Therefore, the
outcome of this stage would be an intuitive result display
and visual comparison.
3.2

Task Analysis

To develop a reasonable and practical visualization system
for efficient policy-making, we conducted in-depth material
research and revised the workflow by cooperation with
our expert team. Specifically, we held bi-weekly virtual
meetings with the experts during a period of four months
and brainstormed the visualization design. During this time,
we iteratively improved our workflow and derived the
following requirements:
Exploration Stage (E).
E1. Flexible basic parameter setting of propagation model.
The experts required a parameter setting board to set the
disease parameters, that is, recovery/death rate, incubation

4

period, in particular, the number of adequate exposures per
unit of time β (a healthy person who has adequate exposure
to an infectious person is expected to become infected). In
terms of the first two parameters, our experts considered
assigning values to them to be relatively easy because they
are relatively stable in a given area. However, for setting β ,
the experts commented: “The classic SEIR model only has one
β , which is not realistic, the value of beta should vary according to
the spatial/temporal position; β is highly related to the functions of
a region.” For instance, compared with a forest park, people
are more likely to be exposed to others in an entertainment
center, which would give rise to a higher β value. In consultation with the experts, to build a fine-grained epidemic
model, our system should allow users to assign a spatialtemporal vary β value. Since the point of interest (POI) data
adequately reflect the function of the region. Our experts
were of the opinion that mapping grid’s POI information
to grid’s β value is a reliable choice. Furthermore, different
POI types’ infection risks are considerably different, treating
all POI equally in one grid is illogical. The risk difference
among POI should be considered when estimating the β
value of each grid unit. They suggest us to design an easyto-use risk adjustment panel allowing users to set the risk of
the different types of POI.
E2. A set of informative spatial views assists policymaking. After discussing the matter with the experts, we
decided that our system should support three widely used
policies: telecommuting, screening, and regional lockdown.
Owing to the vast potential for selecting spaces for policymaking, the corresponding visualization views were required. Our experts indicated that they considered the
following information to be the most useful: (i) “Where
are the infection hotspots?” An infection hotspot means that
many people are infected in the area relative to other areas.
Weighing the economy against the infection scale may lose
less to block hotspot areas than block whole city. However,
realistically, the accurate locations of these areas are hard to
trace before outbreak. The ability to accurately locate these
areas would be helpful for epidemic control. (ii) “Where
should we put screening points?” The government health
management department often needs to set up screening
points in certain areas. Where would it make more sense
to deploy screening points? A visual display to assist with
the identification of a potential screening point is necessary.
(iii) “Where are the high-frequency visited workplaces?” Many
workplaces emerge as clusters of infections; thus, identifying workplaces with high-frequency visitation is important
to enable users to decide where to enforce remote working.
A view is required to facilitate decision-making with regard
to potential telecommuting regions.
E3. Intuitive and convenient spatial-temporal policy setting. A specific restriction policy must be based on concrete spatio-temporal information (i.e., the implementation
period and regions). When the user determines the target
regions in which to launch a policy, how to convey the
intent to our system becomes important. Because the experts
wish to set/edit the time range and regions intuitively and
conveniently, they suggested that we design an interactive
module that would allow these settings.
Simulation Stage (S).
S1. Simulation model supporting dynamic parameter

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

change. As discussed in E1, our system needs to be designed
such that users are allowed to assign a dynamic β value over
grids. We choose to utilize the POI information of grids to
meet this requirement, and taking the POI risk difference
into consideration. Thus our grid-based SEIR model should
accept the POI and corresponding risk information as part
of inputs.
S2. An extensible and mixable simulation mechanism.
With respect to the simulation mechanism, our team of
experts had two further requirements. (i) They suggested
that our simulation support both single strategy and multistrategy policies because “the real scenario may be quite complicated, the government implements many strategies at the same
time.” (ii) They prefer our simulation to be extensible, which
means it should enable other developers to easily contribute
their newly designed strategies (e.g., to prohibit traveling of
a certain nature) instead of being limited to using a few
specific types. Therefore, we need to design an extensible
and mixable simulation mechanism.
Evaluation Stage (L).
L1: Informative display of single control policy result.
The experts requested us to design a view to visualize the
results. Because infectious disease contagion simulations
generally have randomness. They want to know: “What is
the effect and its uncertainty ?” Moreover, there may be many
sets of simulation with only slight setting differences (e.g.,
a user launched two policies, both including a variety of
regions, and the two sets of regions intersect to a large
extent.). “How can we differentiate among different policies?”
Therefore, such a visualization view should have clear metrics (e.g., cumulative number of infections, total number of
deaths), integrate the confidence interval (CI), and easily
differentiate.
L2: Comparative visual analysis of different control policies. To find the best policy for the target area, experts need
to compare the effect of different control policies based on
performance criteria (e.g., the policy with minimum cumulative number of infections). An easy-to-use interactive logic
is required to enable users to select policies for comparison
and then display the comparison results.
3.3

5

the positioning function is automatically turned off to save
power. Moreover, the age distribution of the dataset skews
slightly towards young users because the young preferred
to use a mobile phone with a positioning function compared
to users from other age groups (e.g., the elderly). To verify
the representativeness of our dataset, we cite previous work
[69] in which the quality of our dataset was evaluated. The
home location of each user in our dataset was identified and
compared with the home places distribution from census
data on a 1km*1km grid [69]. The following linear correlation was found:

NGP S = 0.0063048 ∗ Ncensus + 0.73551, R2 = 0.79222 (1)
where NGP S is the estimated population size, Ncensus is
the population size provided by the national census data,
and R2 is the coefficient of determination. In this study,
we selected the Greater Tokyo Area (including Tokyo City,
Kanagawa Prefecture, Chiba Prefecture, and Saitama Prefecture) as the target area for the epidemic simulation. The user
ID is selected for inclusion in our experimental data if 80%
of the user trajectory points are located in the Greater Tokyo
Area. As a result, we obtained 145,507 user trajectories in
total.
3.3.2 City POI Data
The distribution of the POIs (points of interest) has a strong
relationship with the parameter settings of our trajectorybased SEIR simulation model. Therefore, we collected the
Telepoint Pack DB of POI data in February 2011 provided
by ZENRIN DataCom Co., Ltd [70]. In the original database,
each record is a registered landline telephone number with
its coordinates (latitude, longitude) and industry category
information included. We treated each “telepoint” as one
specific POI. All POIs were classified into 39 categories. The
total number of POIs for Greater Tokyo Area is 1,418,563.

4

M ODEL

In this section, we first elaborate on our simulation mechanism. Then, we introduce the design of the model on which
our simulation is based in detail.

Data Description

3.3.1 Human Mobility Data
To model real-world human mobility for epidemic simulation, we collected a GPS log dataset anonymously from
approximately 1.6 million real mobile phone users in Japan
over a three-year period (from August 1st, 2010, to July 31st,
2013). This dataset contains approximately 30 billion GPS
records, more than 1.5 TeraBytes, covering approximately
1% of the real-world population. The data were collected
by a mobile operator (NTT DoCoMo, Inc.) and a private
company (i.e., ZENRIN DataCom Co., Ltd.) with the consent
of the mobile phone users. These data were processed collectively and statistically to conceal private information such
as gender or age. By default, the positioning function on the
users’ mobile phones is activated every 5 min; thus, their
positioning data (i.e., latitude and longitude) are uploaded
onto the server. However, data acquisition is affected by
several factors, such as loss of signal or low battery power.
In addition, when a mobile phone user stops at a location,

4.1

Basic Concepts

To elaborate our model, we formally define some terms
related to citywide human mobility.
Human Trajectory: The human trajectory collected for an
individual person essentially comprises a 3-tuple sequence:
(timestamp, latitude, longitude), which can indicate a person’s location according to a captured timestamp. It can be
further denoted as a sequence of (t, l)-pairs to which the
user ID uid is attached by simplifying timestamp as t and
(latitude, longitude) as l.

traj = {uid, (t1 , l1 ), (t2 , l2 ), ..., (tn , ln )}

(2)

Citywide Human Mobility: Citywide human mobility Γ
refers to a large group of user trajectories in a given urban
area. Given a user ID uid, we can retrieve their personal
trajectory from Γ as follows:

Γuid = {(t1 , l1 ), (t2 , l2 ), ..., (tn , ln )}

(3)

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

6

Grid-mapped Interpolated Human Trajectory: Raw human
trajectory data is usually not sampled at a constant rate.
After applying the typical prepocessing method proposed in
[71], [72], we can obtain the interpolated human trajectory
with a constant sampling rate ∆τ as follows:

Γuid = {(t1 , l1 ), (t2 , l2 ), ..., (tn , ln )},
∀i ∈ [1, n) , |ti+1 − ti | = ∆τ

Γ0 = FM OB (Γ ; Φ)
(4)

where ∆τ is set to 5 min in this study. Furthermore, we
map the interpolated human trajectory onto the mesh grid
as follows:

Γuid = {(t1 , g1 ), (t2 , g2 ), ..., (tn , gn )},
∀i ∈ [1, n] , li ∈ gi

Two-stage Epidemic Simulation

To satisfy the requirement S2, we devised a two-stage
simulation mechanism: (1) Generating new citywide human trajectories for the given restriction policy settings.
(2) applying the trajectory-based SEIR model to the newly
generated trajectories. Before proceeding with the two-stage
simulation, we introduce a few basic concepts:
Trajectory-Based Epidemic Simulation: We can simulate an
epidemic with the trajectory-based SEIR model FSEIR as
follows:
Esim = FSEIR (Γ ; Θ)
(6)
where Γ is the given citywide human mobility, Θ refers to
the parameters of the SEIR model, and Esim denotes the
simulation result. Every time we give a set of (Γ, Θ) to the
trajectory-based SEIR model, we could run the epidemic
simulation anew.
Mobility Restriction Policy: Our study focuses on evaluating and measuring the effects of different restriction policies.
Specifically, we list the restriction policies being employed
in this study as follows:
•

•

•

Screening refers to setting up an infection screening
point at a specific location such as the roadside or a
station to screen whether a person is infectious.
Telecommuting is a corporate policy that allows employees to work from home using information and
communication technologies instead of commuting
to the office.
Regional Lockdown is a government policy that implements mandatory geographic quarantine to all of the
citizens living in a specific region (city or ward).

Next, we formally illustrate how to run the epidemic simulation for different mobility restriction policies with the twostage simulation mechanism.
Stage 1-Restricted Mobility Generation: Given one mobility restriction policy or a combination of several policies Φ,

(7)

Stage 2-Epidemic Simulation with Restricted Mobility:
Given the restricted citywide human mobility Γ0 w.r.t Φ
and disease transmission parameters Θ0 , simulation of the
0
epidemic for the restriction policy settings Esim
could be
implemented as follows:
0
Esim
= FSEIR (Γ0 ; Θ0 )

(5)

In this study, we utilize a third-party geospatial coding
library H3 [73] to finish the grid mapping. H3 divides the
earth into seamlessly spliced hexagons with different spatial
resolution. We choose the resolution to be level 8 (grid size
is approximately 0.737km2 ), which is an appropriate size
to balance granularity and speed. At this point, we have
performed preprocessing including interpolation and gridbased mapping to citywide human mobility data.
4.2

citywide human mobility will forcibly change owing to the
given Φ. In our study, we utilize a mobility replacement
model denoted as FM OB to generate the restricted human
mobility Γ0 w.r.t Φ as follows:

(8)

This reflects the extendibility of our simulation mechanism.
Any developer could design new restriction strategies at
Stage 1 and use their trajectory-based epidemic model at
Stage 2.
4.3

Trajectory-Based Epidemic Model

To model the contagious process by considering human mobility, we first preprocess the raw Citywide Human Mobility to
Grid-mapped Interpolated Human Trajectory, as we discussed
in Section.4.1. Then, we extend the conventional SEIR model
to our grid-base SEIR model, which is designed to simulate
contagion process in grid g at time slot t.
4.3.1

Extended SEIR model

The extended conventional SEIR model is as follows:

dSg, t
dt
dEg, t
dt
dIg, t
dt
dRg, t
dt
Ng, t

Sg, t Ig, t
Ng, t
Sg, t Ig, t
= βg, t
− σEg, t
Ng, t

= −βg, t

= σEg, t − γIg, t

(9)

= γIg, t
= Sg, t + Eg, t + Ig, t + Rg, t

where Sg, t , Eg, t , Ig, t , and Rg, t are the number of susceptible, exposed, infected, and recovered users at grid g at
time slot t. Ng, t denotes the total number of people located
in grid g at time slot t. σ and γ are the incubation rate
and recovery/death rate, respectively. βg, t is the number
of adequate exposures per unit of time at grid g at time slot
t, designed to support the dynamic β setting (S1). It consists
of the base (βbase ) and variation parts (∆ g, t ) as shown in
Equation 10. βbase is the basis of the change in dynamic β .
∆ g, t indicates the variation of βbase at grid g at time slot t
when taking the POI risk information into account.

βg, t = βbase + ∆ g, t

(10)

As many types of POI are scattered in a grid, and over
a time interval t, some are open for business, some are
closed. Our idea is to request the experts to assign a risk
value to each POI based on their experience. Then, using
the cumulative risk value of all opening POIs at grid g at
time slot t as ∆ g, t . However, the cumulative risk value and
β value are not in the same order of magnitude. Thus, we

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

7

introduce a scale adjustment factor k to balance two orders
of magnitude. Equation 11 formulates our idea.

∆ g, t = k × Rg, t
n
X
Rg, t =
pg, t, i × ri

(11)

i=1

For grid g at time slot t: Rg, t denote its cumulative risk
value; pg, t, i indicates the number of open POIs belonging
to category i; and ri expresses the risk value of each POI in
category i. To obtain ∆ g, t , our model requires the users to
specify ri and k .
Compared to obtaining βbase , it is relatively easy to
estimate a spatial-temporal non-vary βglobal , on which researchers have performed many efforts [8], [9], [74]. Our
experts assume that there exists the following relationship
(Equation 12) between βbase and the βglobal .

βglobal = βg, t
= βbase + ∆ g, t

E
I
R
simulation Ul,S t+1 , Ug,
t+1 , Ul, t+1 , and Ul, t+1 . By iterating
the process over the target time range, we trace each user’s
state change and collect the infection events as our simulation result. During the simulation process, once a user’s
health state changes from S (susceptible) to E (exposed), the
corresponding user id, infection time and infection location
(i.e., grid g and time slot t) are recorded as an infection
event. To start the iterative simulation process, we conduct
random sampling to select I0 initially infected people and
update their user state as “infected.” By default, I0 = 10 in
this work.

Contagion stage
At time slot T,
spread of disease

Spread

(12)

βg, t and ∆ g, t are the average value of βg, t and ∆ g, t
respectively. Thus, to obtain βbase , our model requires user
to specify βglobal .
4.3.2 Simulation Process
We propose an iterative simulation process of ”contagion
+ movement” as shown in Fig.2. In the contagion stage, we
assume that each person has a certain probability of being
infected by the other persons inside the same grid at the
same time slot. In the movement stage, people introduce the
disease to other grids. The details are as follows:
Contagion Stage In this stage, we update the user state
at each grid. We denote the list of user IDs at grid g at
time t by Ug, t , and the susceptible, exposed, infected, and
S
E
I
R
recovered subsets as Ug,
t , Ug, t , Ug, t , and Ug, t , respectively.
By solving the differential Equation 9, we obtain the simulated incremental number ∆Sg, t , ∆Eg, t , ∆Ig, t , and ∆Rg, t
S
E
I
at time t, and update the lists of users Ug,
t , Ug, t , Ug, t , and
R
Ug, t by sampling newly exposed, infected, and recovered
users in corresponding increments. Note that the increments
cannot be ignored, although they are always very small (the
spatial and temporal resolution is high and the number
of increments in a small area during a short time period
is always very small). However, to simulate the infection
process, the infection is discrete, with a minimal change
of 1. Thus, to obtain the discrete values of the increments
∆Ŝg, t , ∆Êg, t , ∆Iˆg, t , and ∆R̂g, t , we quantify the number
of increments by implementing a sampling strategy to use
randomness to represent the small values. For example, if
our simulated incremental number of susceptible users is
−0.001 at location g at time t, then we sample one new exS
posed user from the susceptible list Ug,
t with a probability
of 0.001.
Movement Stage. In this stage, we update the user list of
each grid. As time proceeds, the users’ movements will
S
E
I
R
update the user lists Ug,
t , Ug, t , Ug, t , and Ug, t . For example,
for one infected user u moves from g0 to g1 between time
t and t + 1, we update the user lists by 1) remove u from
UgI0 , t , and 2) add u to UgI1 , t+1 .
S
E
I
Combining these two updates to Ug,
t , Ug, t , Ug, t , and
R
Ug, t , we obtain the initial state for the next time step

Movement stage
From time slot T to T+1,
individuals move among girds

Move

Fig. 2. The illustration of the simulation process, which includes two
iterative stages: contagion and movement. The contagion stage simulates the spread of the disease at each grid and updates the user state.
The movement stage updates the user list of each grid in response
to the users’ movements. The humanoid marker’s color indicates the
user state: red means infected and black means susceptible. If someone
gets infected at the contagion stage, then its marker color becomes red.
Note: We simplify the picture for drawing purposes. (a) There are only
two states of an individual’s health, but in fact the SEIR model contains
four states. (b) The cells denotes hexagons instead of squares.

Unlike the classical SEIR model, our model has randomness. Given a set of (Γ, Θ) to our model, the simulation
result Esim is unstable (i.e., the total number of infection
events, and their occurred time and location varies among
results). Thus, multiple simulations are necessary. In this
work, for any simulation setting, we set the number of
repetitions m = 100, and preserved the results whose
number of total infections fell within the 95% CI. Thus,
each Esim contains many simulation results with the same
configuration. Moreover, we applied parallel computing for
the above repetition simulations to ensure computational
efficiency.

4.4

Replacement-Based Restricted Mobility Model

When a user is affected by a mobility restriction policy, their
mobility behavior is influenced accordingly. For example, a
user frequents a shopping mall every weekend. On a particular day, the mall is locked because of the epidemic, then
their future trajectory will not cover it. Individuals react
differently to different restriction policies, and essentially
it is a replacement. The affected trajectory is replaced by an
unaffected one, which we refer to as the trajectory replacement model. In this section, we elaborate on the replacement
methodology for each restriction policy implemented in our
system.

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

4.4.1

Telecommuting

During the Covid-19 pandemic, telecommuting was often
adopted by countries as a control strategy because the office
is a high-risk location with many opportunities for people to
make face-to-face contact. To implement telecommuting, it is
necessary to extract users’ home and workplace addresses.
Therefore, we first introduce the home&work places extraction methodology, and then enter the dedicated trajectory
replacement strategy.
Home & Workplaces Extraction. (i) Extract the stay points
for each individual. We applied the stay point extraction
algorithm [75] to the raw trajectory dataset to identify the
stops at which the object remained for at least one hour
within a distance of 500 m from a given point. (ii) Find
the Top-1 stay grid during working hours and after hours, respectively. After extracting each user’s stay points, we map
the coordinates of these stay points’ to the corresponding
grid and count the total length of stay for each grid during
working hours (11: 00–17: 00) and after hours (00: 00–06:
00) separately. Note that the working hours do not include
the period 09: 00–11: 00 because of the high possibility of
commuting. We then select the grid with the longest stay
time during working hours and after hours as a candidate
workplace and home address, respectively. (iii) Filter out
the substandard candidate home and workplaces. Some candidate places may be substandard. For example, during the
working hours in one month, the time Jim stays on each
grid is (G1 , 20h), (G2 , 19h), (G3 , 18h), and it is difficult to
distinguish the workplace. Therefore, we set a threshold for
the stay rate, which is the length of stay in a particular grid
divided by the total number of working hours (e.g., for a
trajectory of 30 days, the total number of working hours is 30
× 6 = 180h) to extract the qualifying home and workplaces.
In this work, we set it as 75% and obtain 38,452 qualified
trajectories from our Greater Tokyo Area dataset. (Note:
Here, we merely introduced the method used in EpiMob.
Though there are many other ways to detect work locations,
this is not the focus of this article.)
Working Trajectory Replacement. The government’s control policy often relates to administrative districts, which are
easier to handle. Therefore, after acquiring mobile phone
users’ homes and workplaces, we identify the administrative districts in which their workplaces are located and
support the telecommuting policy at the administrative
district level. Given a group of telecommuting districts and
a corresponding time range, we first determine the affected
users, which means their workplaces are in the target districts. Then, we determine each affected user’s status in the
time range on a day-by-day basis, that is, whether they go
to work. For the days on which a user goes to work, we
replace their trajectory of that day with the home address,
which means that they stay at home and work remotely. For
the days on which the user does not go to work, we do not
make any changes.
4.4.2

Regional Lockdown

Regional lockdown is a harsh infectious disease control
policy that may cause considerable losses to our society.
On January 23, 2020, China imposed a lockdown in Wuhan
and other cities in Hubei province to place the center of

8

the COVID-19 outbreak under quarantine. The effectiveness and necessity of such efforts have been proven in
several studies [7], [9]. In our system, given a group of
lockdown regions (i.e., polygons) and time range, we first
map the regions to a set of mesh grids covering the regions.
Then, we divide the affected users into two categories. For
users who stayed in the restricted area at the beginning of
the lockdown period, their location remained unchanged
throughout this period. For users who visit the restricted
area during the lockdown, we replace their influenced trajectories with the unaffected trajectories. To be specific, we
built a historical trajectory database for users. For each day
on which a user is affected, we randomly select this user’s
one-day trajectory that has not passed the restricted area
from the historical database, and set it as the replacement.
Moreover, we designed a series of indexes to help with the
efficient retrieval of the affected person and corresponding
days.
4.4.3 Screening
Screening is a common control policy that sets infection
screening points in a specific location, such as at the roadside or a station, to screen persons that are potentially infectious. To set up the screening point and select the appropriate tests for implementation at the point is a crucial problem
for infection screening. In our system, we allow users to
set temperature screening points at the grid level. Contrary
to the other two mobility restriction policies, we applied
screening to the selected grids in the epidemic simulation
process. Specifically, given a set of screening points and time
range, we detect all the people in the grid at each timestamp.
If a person is healthy or in an incubation/latent period, we
assume that the probability of abnormal temperature is 0. If
a person is infected, the probability of abnormal temperature is 87.9%, which is set according to the newest research
on COVID-19 [76]. Once an infected person is detected, they
are quarantined (i.e., subsequent trajectories are discontinued) to prevent them from infecting others. Note: Without
loss of generality, our system could support screening types
other than temperature screening. For example, the nucleic
acid test can detect latent patients with a certain probability.
To illustrate our screening methodology, we merely employ
temperature screening in this work.

5

S YSTEM A RCHITECTURE

EpiMob is a web application with separate frontend and
backend architecture. The frontend is implemented by React.js (for building user interfaces) and DECK.GL (for visual
analysis of large-scale spatial data). The backend is designed
as a Restful API implemented by Python. A set of integrated
modules was utilized to construct the EpiMob system, as
depicted in Fig.3. The data preprocessing module builds the
data foundation of EpiMob. It performs data cleansing, interpolation, and indexing for raw citywide human mobility
data and POI data, and then stores these data in LevelDB;
The interactive module consists of an epidemic parameter setting view and three interactive policy setting views to help
users specify the epidemic parameters and control policies;
The query processing module receives policy settings from the
interactive module. It first extracts the people affected by the

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

9

Evaluation Module

Interactive Module

A
Policy Setting & Parameter Setting

Results Visualization & Analysis

Query Processing Module

Simulation Module

Affected Population
Extraction

Trajectory
Replacement

A
Default
Parameter

Non-Restricted
Mobility

Parameter A

B

Restricted
Mobility A

Parameter B

Restricted
Mobility B

(ri ) and the scale adjustment factor k . To make the risk setting convenient and reasonable simultaneously, we retained
three POI categories that are highly relevant to epidemic
simulation, namely: Entertainment Place—high possibility for
close contact, difficult to maintain social distance; Restaurant—
masks removed when eating; and Supermarket and Shopping
Mall—big, confined spaces after discussions with the experts.
Moreover, the selection of the simulation periods is
supported. The user has the flexibility to choose the time
range (several days, two weeks, one month, etc.) of the data
they wish to include in the simulation. Suppose the dataset
covers a particular time range. In that case, this function
could help experts explore the impact of periodic changes in
human behavior on epidemic control (e.g., human mobility
behavior in winter and summer differs significantly [77]).

Data Preprocessing Module
POI Data

(Date,Grid)-Uids Index
(Date,Uid)-Traj Index
(Uid,Grid)-Dates Index

Storage

Index Building

Interpolation

Cleansing

Trajectory Data

Fig. 3. System Architecture of EpiMob. EpiMob comprises three parts:
data storage, backend, and frontend. Data storage (i.e., data preprocessing module) preprocesses data and indexes the preprocessed data
in the database. Frontend includes the interactive module to help users
specify the epidemic parameters and control policies, and the evaluation module to evaluate the simulation results. The backend includes
the query-processing module that interprets the control policies and
generates the restricted trajectory dataset, and the simulation module
simulating the epidemic spreading.

6.2

In this section, we introduce three interactive views of the
restriction settings to meet the task requirements E2 and E3.
The view of each setting includes a spatial view displayed
on a map (E2) and a setting panel (E3). The switch located
in the upper right corner of each panel (Fig.1-A1,A2,A3)
sets the visibility of corresponding spatial views. Users
can obtain sufficient and effective prior knowledge, such
as the potential infection hotspots, through these views to
formulate control policies.
6.2.1

given policy and then generates a substitution trajectory for
each of those affected people; Given the restricted mobility
dataset and epidemic parameters, the simulation module simulates the spread of the epidemic using our trajectory-based
SEIR model; The evaluation module acquires and displays the
results of our simulation. Moreover, to assess the effectiveness of the policies, the module enables the results to be
comparatively analyzed.

6

V ISUAL D ESIGN

To address the experts’ requirements that were identified in
Section 3, we divided our visualization module in three progressive submodules: the epidemic parameters setting (E1),
the policies setting (E2, E3), and the result evaluation (L1,
L2) submodules. Corresponding to a complete manipulation
cycle in EpiMob, the epidemic parameters of the disease are
set first (E1), after which the control policies (E2, E3) are set
interactively; finally, the results are displayed and compared
(L1, L2).
6.1

Epidemic Parameter Setting View

This view is designed to assist the policymaker to flexibly
specify the epidemic parameters (E1). As shown in Fig.1A4, we provide a parameter settings panel for this purpose.
Because σ and γ are relatively simple to decide, we created
two input boxes for them to enable users to enter their value
directly. In terms of the dynamic β , our epidemic model
(Section 4.3) is designed with an input box to allow the
user to set the value of βglobal , and a POI risk adjustment
panel (Fig.1-A5) to set the risk value for each type of POI

Spatiotemporal Restriction Setting View

Screening View

In practice, most of the screening points are set at the
entrance and exit of POIs. These POIs are either at high
risk of infection like entertainment places (i.e., bar, karaoke,
game room, etc.) and restaurants, or have high human traffic
such as the stations, large shopping malls, and public space
(i.e., park, zoo, tourist attractions, etc.). Moreover, to deploy
screening points more efficiently, managers tend to choose
locations where certain types of POIs are denser (e.g., places
with many stations and entertainment places). Thus, we
chose a superimposable scatter plot to display the POI information. Users can select one or several types of POIs simultaneously to explore potential screening points. To improve
the user experience, we allow the user to set up while exploring. When the user finds a target region, they can draw
selection areas directly on the map or drag markers to the
locations of interest, as shown in the screening control panel
(Fig.1-A2). After successfully adding a screening point, a
mark is generated on the selected grid, indicating that the
screening will be performed here. Besides, the time range
for policy implementation also can be set. In the subsequent
simulation, all people passing the screening points during
the implementation of policy are screened according to the
screening model in Section 4.4.3. Fig.4 shows an example of
screening points that were set. The user selected places with
a higher portion of entertainment POIs in the central part of
Tokyo.
6.2.2

Telecommuting View

To help policymakers determine remote-work policies, we
designed a telecommuting view, including a spatial view to
identify workplaces that are frequented more regularly and

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

10

6.2.3

Regional Lockdown View

To help policymakers formulate appropriate lockdown policies, we devised the regional lockdown view, which consists
of a map view showing the regional infection severity (Fig.6)
and a setting panel (Fig.1-A1) allowing the corresponding
parameters to be specified. Here, we first give a definition
of regional infection severity:
•

Fig. 4. A case of the screening points setting. The yellow scatter plot
gives the spatial distribution of Entertainment POIs in the Greater Tokyo
Area. The user selects the locations with a denser distribution of entertainment places as screening points, indicated by the red markers.
During the policy implements, all persons passing the marker covering
regions will accept a temperature check. Users can select multiple
spatial distributions of POIs simultaneously to visualize on the map,
including five categories: entertainment place, restaurant, subway & bus
station, public space, and supermarket & shopping mall.

a setting panel to finish the configuration of the concrete
policy.
Fig.5 shows spatial view that displays all users’ workplaces on a heatmap. The darker the color (i.e., red in this
case), the more people are working there. Because people’s
workplaces tend to have a high degree of overlap, e.g., many
people working in a single building, we selected the heat
map to depict the distribution of workplaces. Compared to
a scatter plot, the heat map depicts the spatial accumulation
of points more effectively. Moreover, when the mouse is
hovered over the heat map, the name of the administrative
district of the area is displayed. With this information, policymakers could obtain the name of the regions to implement
telecommuting.
Fig.1-A3 shows the panel for setting the telecommuting
view. Policymakers could set a series of regions to execute
telecommuting here. In practice, working remotely is not
possible for all occupations. Thus, EpiMob enables the “reduction rate” of regions to be specified, i.e., the percentage
of people working in the target region who are working
from home. For example, “Region Toshima Reduction 70%”
means that 70% of people working in Toshima are working
from home. Moreover, according to the conditions of each
region, the strength of the policy executive can be quantified
by setting the start date and duration.

Fig. 5. Workplace heat map of the Greater Tokyo Area. The color range
from yellow to red indicates increasing numbers of people working there.
The name of its administrative district is displayed by hovering the
mouse over a region, for example, “Minato district” in this case.

Given a region R, and a simulation result Esim , the
infection severity of R indicates the total number of
infection events happened in it.

As we discussed in E2-i, an infection hotspot means that
many people get infected there relative to other places. To
this end, we define the regional infection severity as the
reference indicator to determine the hotspots. To visualize
the regional infection severity, specifying a simulation result
Esim is required. We placed a select box—“Bind with” in the
setting panel (Fig.1-A1) where all existing simulation results
are listed to allow users to choose from. When using the
regional lockdown view for the first time, it is recommended
to perform a no-policy simulation first and then bind its
result with this view to explore the infection hotspots under
no policy intervention.
A2

A3

Zoom in

A1

Zoom in

B
Click

Fig. 6. (A) shows the regional infection severity of the Greater Tokyo
Area under no policy intervention at different spatial scales. Each marker
indicates a cluster of infection events at that spatial scale. The polygon
emerged when the mouse hovering on the marker denotes the spatial
coverage range of the cluster. The number expresses the infection
severity of the region covered by the marker, which is equal to the
number of infection events happened in it. The color range from green
to red reflects the infection severity from low to high. (B) By clicking
the marker covering the central part of the Tokyo area, we got its
hourly distribution of infection events in a histogram. The vertical-axis
represents the percentage of the infection events that occurred at that
hour to the total infection events that occurred at that region.

Given the infection events of a simulation result Esim ,
the regional infection severity view, derived from markercluster [78] view, visualizes the regional infection severity at
multi spatial scale, as shown in Fig.6-A. Markers represent
the spatial clusters of infection events at that spatial scale,
and have a corresponding spatial range. While the mouse
hovers on a maker, its spatial coverage will be displayed
on the map (Fig.6-A3). The number in the marker indicates
the infection severity of the region it covered. The greater
the number, the severer the infection situation. Besides,
we map the number to the marker’s color, conveying the
severity using color signals (from green to orange to red).
The spatial scale switched when performing zoom in/out,

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

and the marker will cluster together to one marker/split
into several markers (Fig.6-A1, A2, A3). Thus, users can
observe infection hotspots at different spatial scales to formulate the different policies. With the assistance of the prior
knowledge supplied by this view, the policymaker can use
the mouse to select the regions (i.e., polygons) they want
to place under lockdown. For each selected region, EpiMob
generates a configuration row in the setting panel, in which
policymakers could specify the start date and duration of
the lockdown.
Using the markercluster view [78] is more suitable for
presenting events than a heat map or scatter plot. In addition to location information, events also have other properties such as the time of occurrence. The markercluster makes
it easy to aggregate and analyze events at multiple spatial
scales by merely correlating the analysis with the marker’s
EventListener (e.g., mouse click). In our system’s case, the
experts indicated that it is useful to analyze the temporal
distribution of a cluster’s infection events to identify the
high infection severity periods. Thus, we added a mouse
click event on the marker, which shows the hourly distribution of infection events with histogram when clicked (Fig.6B).
6.3 Simulation Result View
We designed this view to assist policymakers to intuitively
observe the simulation results and conduct a comparative
analysis (L1, L2). The view includes two subviews: Single
Policy Result View (L1) and Comparative Analysis View
(L2).
Single Policy Result View. In this view, we use the cumulative number of infections as the evaluation indicator;
plot the confidence intervals to demonstrate the uncertainty
of the results; put the naming initiative in the hands of
users to help policymakers distinguish different policies,
and add the clips to present details of the policy setting. Fig.7 shows an instance of this view, named “lockdown tokyo center from 20120715,” referring to the policy
imposing lockdown on central Tokyo since July 15th. The
blue curve represents the cumulative number of infections,
and the purple area represents the 95% CI. The clips under
the title represent the basic parameters and restriction types
of this policy (i.e., regional lockdown). Hovering the mouse
on the corresponding position displays specific details of
that position. In addition, the checkbox in the upper right
corner of the view is designed to enable a comparative
analysis to be conducted conveniently. The analysis can be
carried out by using the checkbox to first select the target
policies, and then clicking the compare button (bottom right
corner of Fig.1-B). The corresponding result is displayed in
the Comparative Analysis View.
Comparative Analysis View. After the user selects several
single policies to compare, a new comparative view is generated, which combines multiple curves for the comparative
analysis (Fig.1-C). Similarly, the user can customize the
name of the analysis result, and the evaluation indicator is
the cumulative number of infections.

7

E VALUATION

In this section, we first describe the quantitative analysis
we conducted of our model to show its rationality and

11

Fig. 7. Simulation result for imposing lockdown on the central area of
Tokyo since July 15th. The simulation date range is 2012-07-01 to 202007-31. And the essential epidemic parameters are βglobal = 0.302,
σ = 0.2, and γ = 0.1. The blue curve reveals how the cumulative
number of infections changes over time. Mouse hover triggers a hover
box, displaying the infection details of a date. This case shows that until
2012-07-28, the cumulative number of infections is 215, and the 95%CI
is 191 to 238.

sensitivity. Then, we present two actual usage scenarios and
expert interviews to demonstrate EpiMob’s practicality and
effectiveness. Here we first provide preliminary descriptions
of the experimental settings in this section.
•

•

•

7.1

All the experiments and case studies of this section
focus on the outbreak of COVID-19 in the Great
Tokyo Area.
By consultation with our experts, we refer to the essential parameters of COVID-19 from [8]: incubation
rate σ = 0.2, the average rate of recovery/death
γ = 0.1. The number of adequate contacts per unit
time βglobal is set to 0.302 when the unit time is 1 day,
estimated by the fitting method proposed in [74]. The
data used for fitting comes from the real reported
patient data of the Greater Tokyo Area. To simulate
the effect of different policies, we need to eliminate
the interference of real-world prevention and control
policies on the simulation results. Thus, we merely
selected the data between the date of the first case
until the eve of the emergency declaration to perform
the fitting.
For POI-related settings, referring to the POI risk
analysis section of [79], considering the real situation of Japan, and discussing with our experts, the
risk value of “Entertainment Place”, “Restaurant”,
“Supermarket and Shopping Mall” are set to 8,2,1
respectively, and the scale adjustment factor k is set
to 0.0003.
Quantitative Analysis

7.1.1 Model Rationality
The classical SEIR model could not capture fine-grained
spatial characteristics of the infection. For example, it would
consider the Greater Tokyo Area in its entirety and generate one infection curve. We applied the classical SEIR
model to each prefecture of the Greater Tokyo Area to
verify this drawback. As a control group, we ran the same

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

12

(a) Ground Truth
Until 2020/10/24

(b) Trajectory-based SEIR Model
Simulation Result
17.2%
10.5%
7.5%

17.1% 11.5%
9.8%

(c) Classical SEIR model
Simulation Result

Chiba

Saitama

17.2%
25.3%
37.4%

Kanagawa

Tokyo

Fig. 8. Distribution of residential address of infected people in the
Greater Tokyo Area. The size of each sector on the pie chart shows the
proportion of infections in each prefecture to the total number of infections in the Greater Tokyo Area. (a) Distribution of the home addresses
of persons who were actually reported to be infected until 2020/10/24.
(b)&(c) are the simulated distribution of the home addresses of infected
persons generated by trajectory-based SEIR simulation and the classical SEIR model, separately.

7.1.2

(b) Fix global=0.302, =0.1, I0=10
3500
1/ =1
6000
1/ =3
3000
1/ =5
5000
2500
1/ =7
4000
1/ =9
2000
3000
1500
2000
1000
1000
500
0
0
0 5 10 15 20 25 30
0 5 10 15 20 25 30
(c) Fix global=0.302, 1/ =5, I0=10 (d) Fix global=0.302, 1/ =5, =0.1
1000
I0 = 5
=0.05
3000
I0 = 10
=0.1
800
I0 = 20
2500
=0.2
I0 = 40
=0.4
2000
600
I0 = 80
=0.8
1500
400
1000
200
500
0
0
0 5 10 15 20 25 30
0 5 10 15 20 25 30
Days of transmission
(a) Fix 1/ =5, =0.1, I0=10

20.1%

64.8%

61.6%

determined the sensitivity of our model. The experimental
dataset consists of the one-month (July 2012) trajectories of
30,000 users, who were randomly selected from our dataset.
Analysis of Results: Fig.9(a) displays the sensitivity of
βglobal . As it becomes larger, the number of infections increases dramatically. We can conclude, that compared to
other parameters, βglobal has the most significant impact
on the results of the model, which is consistent with the
judgments of our infectious disease experts; Fig.9(b) displays the effect of σ on the cumulative number of infections.
The results show that, the shorter the incubation period, the
more massive the infection scale. The result indicates that
if a disease has a short incubation period, one person can
become infectious faster, then spread it to others; Fig.9(c)
illustrates the impact of the recovery/death rate γ . It is clear
that as γ increases, the cumulative number of infections
declines rapidly. We can infer from this that the faster
infectivity is eliminated, the lesser the risk of the spread
expanding; Fig.9(d) shows the impact of the number of
initially infected persons (I0 ) on the spread of the disease.
The greater the number of initially infected persons, the
larger the cumulative infected scale of the persons will be.
Our experts considered the experimental results in Fig.9 to
be consistent with their professional judgment.

Number of cumulative infected persons

simulation with our trajectory-based model to demonstrate
the advantages of our model in terms of capturing spatial
characteristics.
Experiment setting: (1) For both models, we fix the initial
number of infections I0 to 10 in the Greater Tokyo Area
and the simulation length as one month. Other essential
epidemic parameters were set as mentioned at the start of
this section. (2) For the classical SEIR model, the number
of initial infections in each prefecture is proportional to its
population size, which is obtained from the census data. (3)
For the trajectory-based SEIR model, we first extracted the
trajectories of 38,452 users for a single month (July 2012)
from our dataset. All these trajectories show the exact home
and work positions. However, compared to census data, the
spatial distribution of these users’ home locations is biased.
Thus, we resampled 30,000 trajectories from 38,452 to make
them conform to the distribution of census data.
Results Visualization: To show the difference in the spatial
characteristics between our model and the traditional ones,
we used a pie chart to present the spatial distribution information of infected individuals (Fig.8). Treating the Greater
Tokyo Area in its entirety, we divided the infected persons
living in this area into four groups according to their place of
residence (i.e., Tokyo, Chiba, Saitama, and Kanagawa). Each
sector in the pie chart represents a prefecture. The size of
each sector shows the number of infections as a proportion
of the total number of infections in the Greater Tokyo Area.
Results Analysis: Fig.8(a) shows the spatial distribution information of real infections obtained from the website of the
Government of Japan for the period ending on 2020/10/24.
Note that we did not choose this date intentionally. The
distribution of the residential addresses of infected people in
the Greater Tokyo Area has remained stable to date. Fig.8(b)
and Fig.8(c) presents the simulation results of our model
and those of the classical method, respectively. As we can
observe from the results, our model performs very well
Proportion
of infected
total infected population by home place
compared
to the population
classical to
model.

Model Sensitivity

Experimental setting: As shown in Fig.9, using the cumulative number of infected persons as measurement, fixing
other parameters, and varying a particular parameter, we

global = 0.5*0.302
global = 1.0*0.302
global = 1.5*0.302
global = 2.0*0.302
global = 2.5*0.302

Fig. 9. Sensitivity charts of epidemic parameters, including the Sensitivity of (a) the number of adequate contacts per unit time–βglobal , (b)
the incubation rate–σ , (c) recovery/death rate–γ , (d) the initial number of
infected persons–I0 . The horizontal- and vertical-axes indicate the number of days included in the transmission simulation, and the cumulative
number of infections, respectively.

7.2

Case Study

Before conducting the case studies, we arranged a training
seminar (30 min) to introduce the interactive logic of our
system. Subsequently, we pre-uploaded the raw GPS trajectories of 30,000 mobile users collected for a period of one
month (July 1st to 31st, 2012). These users were randomly
selected from the dataset of the Greater Tokyo Area. Subsequently, the experts first launched a no-policy simulation

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

to identify the potential infection hotspots when COVID19 spreads in the Greater Tokyo Area, and then explored
the effect of different control policies on epidemic spread,
that is, regional lockdown, telecommuting, and screening.
Furthermore, they also explored the effect of multi-policy
combinations on epidemic spread. These exploratory procedures enabled the experts to gain helpful insights that could
potentially guide pandemic prevention and control. Finally,
we interviewed the experts to collect their precious feedback
and suggestions.
7.2.1

Epidemic Hotspots Exploration

Ikebukuro

Eastern Chiyoda
Shinjuku

Shibashi & Ginza Area
Shibuya

Fig. 10. Top-5 infection hotspots in Tokyo under no policy intervention.
The number of infection events in each of these hotspots exceeded
1,000, much higher than that of surrounding areas. The histogram
shows the hourly distribution of the infection events, revealing the infections’ time pattern in these areas.

One of the experts wishes to explore the potential hotspots
of infection. Therefore, he launched a basic no-policy epidemic simulation with our system and bound it with the
Regional Lockdown View. The essential epidemic parameters he specified are the same as the values mentioned at the
start of Section 7, and the time range of simulation is from
July 1st to 31st, 2012. Then, the infection hotspots of the city
appeared on the map (Fig.10). He discovered that most of
the infection occurred in the central part of Tokyo. Specifically, they distribute in five infection hotspots, including the
Shibashi&Ginza Area, Shinjuku, Shibuya, Ikebukuro, and
eastern part of Chiyoda. The infection numbers of these
areas are all over 1,000.
Such a finding is reasonable, as Shibashi&Ginza Area,
Shinjuku, Shibuya, and Ikebukuro are well-known commercial, entertainment and office areas in Japan, with extremely high human density and flow. And the Eastern
part of Chiyoda is the home of many of Japan’s largest
companies. In 2020, there had been much news reporting the clusters of infections in these places. Furthermore,
to explore these areas’ temporal patterns of infection, he
clicked the corresponding markers one-by-one to obtain
their hourly infection distribution. He found that Shinjuku
has the highest number of infections than the other hotspots
during the night (00:00–06:00), and most of the infections
in the Eastern Chiyoda occurred during work hours (11:0017:00). And that makes sense because Shinjuku is known as

13

Japan’s largest city that never sleeps, and Eastern Chiyoda’s
day/night population ratio is the highest of all municipalities in Japan. Besides, all these five areas have a part
of infections that happened at nighttime, yet few people
lived in these places according to the census data. Thus,
he commented “nighttime infections were probably caused by
stores that were open at night (e.g., nightclubs, izakaya, karaoke).”
Based on the explored situation, he proposed prevention
and control proposals for these areas. He concluded that the
government should closely monitor the situation in these
places and urge the public not to go; the government could
shorten the nighttime business hours in these areas especially Shinjuku to prevent and control the infection cluster
at night. The news confirmed his conclusion: to prevent the
spread of infection, since April 2020, Tokyo Metropolitan
Government (TMG) shortened the night time business hours
of stores that were open at night [80], [81]. Since Jan 17th,
2021, TMG closed the pedestrian street of Shinjuku, Ginza,
and Akihabara (locating in eastern Chiyoda) [82].
7.2.2 Epidemic Simulation under Control Policies
Step 1: Single Policy. Firstly, the experts would like to
evaluate each type of control strategy individually using our
simulation system. For every single simulation, our experts
first completed the appropriate spatiotemporal settings (i.e.,
when and where, implement what policies). Then, clicked
the submission button (the bottom left corner of Fig.1) to
trigger the simulation. Finally, clicked the analysis button
(the bottom left corner of Fig.1) to evaluate the result.
Step 1.1: Regional Lockdown Policy. The experts would
like to identify potential infection hotspots in the Greater
Tokyo Area for the purpose of imposing a lockdown policy.
The experts first ran a no-policy simulation and obtained
the region-lockdown view of the Greater Tokyo Area. They
found that the central part of Tokyo clearly has a high
infection severity compared with other areas, especially for
“Shinjuku” and “Shinbashi&Ginza Area” (the number of
infection events are around 5,000). Thus, they manually
locked these two areas (Fig.11-A1-a) and launched a series of simulations with different durations of lockdown
(from July 1st, July 8th, July 15th, July 22rd until July 31st,
separately). After obtained the results, the experts made a
comparison (Fig.11-A1-b). Compared to the result under nopolicy intervention, they found that the cumulative number
of infections reduced. Besides, the sooner such a policy was
launched, the more significant the effect. To further reduce
the scale of infections, they expanded the lockdown area to
the central part of Tokyo (Fig.11-A2-a) and kept the other
settings not change. Fig.11-A2-b displays the simulation
results. Compared to the previous results, the spreading
was further mitigated. However, as lockdown started later,
the extent of mitigation became weaker. Besides, for the
lockdown policies with the same spatial setting, the importance of the start time of lockdown becomes more apparent.
For example, lockdown the central part of Tokyo in the
early stages (July 1st) significantly reduced the cumulative
number of infections. However, the effect will be feeble if
they postpone the start time until three weeks later (July
22rd). Thus, they concluded that “the later the policy was
implemented, the less effectively the spread would be controlled.”.
Moreover, by observing the trend of the curves, they found

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

14

Central part of Tokyo (Tokyo Center)

A

B

Central part of Tokyo (Tokyo Center)

Shinjuku

Shinbashi&Ginza

C

Entertainment Venues

C1-a

C5-a

A1-a

A2-a

A1-b

A2-b

Supermarket&Shopping mall
(Store)

C2-a

B1

B2

B3

C1-b

C2-b

C3-b

C4

C6

C7

Public Space

C3-a

C5-b

Fig. 11. Comparison of epidemic results under restriction policies: (A) different lockdown policies; (B) different telecommuting policies; (C) various
screening strategies; In particular, the outline of each cumulative infection curve under different policies represents the 95% CI; Note: Sometimes
in the legend, we express the Tokyo Center (i.e., the central part of Tokyo) with “tc”, and the Greater Tokyo Area with “gta”.

that none of the partial lockdown policies could cut down
the spread of disease. They commented “Partial lockdown
policies just could slow down the outbreak, because some infected
people had took the disease to other areas before.”, which coincided with the newest researches [83], [84].
Step 1.2: Telecommuting Policy. The experts would like
to identify the high-frequency visited workplaces for the
purpose of imposing the telecommuting policy. Using the
telecommuting view, the experts got the heat map of workplaces. They found that the central part of Tokyo are the
most frequented workplaces compared with other areas,
which is consistent with their prior knowledge. Thus, they
tried to implement a “strict” telecommuting policy in the
central part of Tokyo (Fig.11-B1), which is specifying the
percentage of working of home people in this area as 90%

from the first day of simulation (working remotely is not
possible for all occupations). Fig.11-B2 shows the result,
they found that such a “strict” policy has only a slight
effect. Therefore, keeping the other settings not change,
they expanded the telecommuting area to the whole Tokyo
and whole Greater Tokyo Area, respectively. However, the
efforts are still less effective, as shown in Fig.11-B3. Based on
the results, the experts concluded that: “The reason why the
policy is not so effective may be that the extreme telecommuting
pushed more people stay at home, but these people are still
free to move around on non-working days, thus leading to the
increased clustering of household cases.” The latest research [85]
corroborates our conclusions.
Step 1.3: Screening Policy. The experts would like to
determine the appropriate screening points to impose the

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

A
B

Fig. 12. (A) Lockdown the central part of Tokyo and set up screening
points on the places where the entertainment venues and stores are
denser in Tokyo’s surrounding area. (B) Comparison of simulation results between multiple type of strategies. All above four policies were
launched from July 8th.

screening policy. The experts first opened the screening view
and got the POI distribution on the map. They found that
the central part of Tokyo is the densest area of the POI
distribution compared with surrounding areas. Thus, they
preliminarily tried to set up screening points in the central
part of Tokyo. They set up three groups of screening points
at the places with denser entertainment venues, stores (i.e.,
supermarkets&shopping malls), and public places, respectively, as shown in Fig.11-C1-a, C2-a, C3-a. The spatial
distribution of restaurants covers almost the entire central
Tokyo area tightly, and that of subway&bus stations is too
sparse. Thus the experts did not choose them as references.
Subsequently, for each group of selected screening
points, they launched four simulations with different durations of screening. Fig.11-C1-b, C2-b, C3-b display the results separately. They noticed that all three screening strategies had a better effect than the previous lockdown results
and telecommuting results. Moreover, by comparing the
three screening strategies (Fig.11-C4), they discovered that
setting up temperature screening points on public places
denser area was less effective than setting up screening
points on the areas where the entertainment venues or stores
denser. To explore more effective screening strategies, the
experts stacked the spatial distribution of entertainment
venues and stores together. After that, keeping the other
settings not change, they selected all the denser areas of
such two POI types in Tokyo’s central part as the screening
points. Fig.11-C6 shows the corresponding results. They
found that there was nearly no improvement. Because the
there is a lot of overlap between the denser area of these two
POI types. To further flatten the curve, they expanded such
screening strategy to the whole Greater Tokyo Area (Fig.11C5-a) and kept the other settings not change. Under such
a screening strategy, the curves flattened quickly, keeping a
slightly rising trend (Fig.11-C5-b), which was the best group
of results among all existing strategies (Fig.11-C7). According to the results, the experts concluded that:“In the Greater
Tokyo Area, screening plus Isolation is a very effective prevention
and control strategy, especially the large scale screening, because
we fast found and cut off the source of infections” The latest
research [86], [87] confirmed our judgements.
Step 2: Multi-Policy. To find an optimal solution to control
the spread of the epidemic, the experts finally tried to implement and analyze the combination of multiple policies.

15

To explore the effect of regional lockdown combine temperature screening, they (a) lockdown the central part of Tokyo and
set up screening points on the places where the entertainment
venues and stores are denser in Tokyo’s surrounding area (Fig.12A). As a control group, they selected three of the existing
simulation results to compare, including: (b) lockdown the
central part of Tokyo; (c) setting up screening points on the
places where the entertainment venues and stores are denser in
the central part of Tokyo; (d) setting up screening points on
the places where the entertainment venues and stores are denser
in the whole Greater Tokyo Area. Moreover, all above four
policies will be launched from July 8th. Because (i) it is not
realistic to launch a restriction policy since the first day of
spreading, the government requires time to do response; (ii)
as observed in Fig.11, for two control policies with the same
restriction type and spatial setting, the effect of launching
since the first day of simulation (July 1st) and since one
week later (July 8th) are quite similar.
Fig12-B shows the comparison result, they found that
(d)-temperature screening on the entertainment venues and stores
denser area in the whole Greater Tokyo Area is still the most
effective one. Besides, they discovered that: relative to (c),
(a) was almost no improvement, which highlights the importance of screening in the central part of Tokyo.
7.3

Interviews with Domain Experts

We conducted informal interviews with the experts to obtain
their feedback, and then summarized the feedback with
respect to three aspects: visual design, epidemic model, and
restricted mobility generation.
Visualization Design. All the experts appreciated that our
visualization design was “intuitive and easy to use, convenient
to set up and compare various policies” They also provided
some suggestions for improvement. EA commented that
the view of the results “has only one indicator (the cumulative number of infections)” He recommended adding more
comparative indicators, such as “the average number of people
infected by an infected person, the R0 curve over time, which is
more instructive for professionals”’. Moreover, the current UI
does not allow the number of persons who were initially
infected and their corresponding locations to be specified.
EC therefore advised us to modify EpiMob such that it
supported “user customized initial infection status” to apply
to wider scenarios in the future.
Epidemic Model. Our model reproduced the distribution of
people infected by prefecture and discovered several potential infection hotspots. For this, EA commented: “The result of
the no policy simulation was impressive. Not just for COVID-19,
it will be very useful for future epidemic condition” EC shared
the view of EA, saying that “it is beneficial for allocating our
limited medical resources and helping to develop local emergency
plans”. All the experts considered the trajectory-based finegrained epidemic simulation to be promising.
Restricted Mobility Generation. EB praised the conciseness
of our restricted mobility generation strategy and the fact
that it is practical and could be widely applied in other
fields such as traffic control. Apart from this, the restriction
strategies are more diverse in reality, “How about restricting
the specific type of trips?” He recommended that we reproduce the existing trip purpose inference algorithm [88], to

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

help assess the impact of different daily activities on the
epidemic.

8

C ONCLUSION

In this study, we designed an interactive visual analytics
system we named EpiMob to effectively measure and evaluate different human mobility restrictions (i.e., screening,
telecommuting, and regional lockdown) for epidemic control. First, a novel trajectory-based SEIR model is proposed
to simulate the spread of an epidemic based on real-world
human mobility data and city POI data. Then, we designed
a “trajectory replacement” strategy to generate a new set
of human trajectories according to mobility restrictions. The
newly generated trajectories were input into our trajectorybased SEIR model to trigger a new round of simulation.
EpiMob enables users to easily select one policy or a combination of policies as the simulation target with interactive visual assistance. By employing advanced visualization
techniques, these simulation results could be confirmed and
compared in a well-organized and user-friendly layout. The
functionality and usability of our system were validated by
conducting multiple case studies and interviews with domain experts. In the future, we plan to continue to improve
our system in the following respects: (1) integrating additional epidemic control policies; (2) enhancing the trajectory
processing capability for larger amounts of trajectory data;
and (3) modifying the user interface to improve the user
experience.

R EFERENCES
[1]

H. Tian, Y. Liu, Y. Li, C.-H. Wu, B. Chen, M. U. Kraemer, B. Li,
J. Cai, B. Xu, Q. Yang et al., “An investigation of transmission
control measures during the first 50 days of the covid-19 epidemic
in china,” Science, 2020.
[2] M. Chinazzi, J. T. Davis, M. Ajelli, C. Gioannini, M. Litvinova,
S. Merler, A. P. y Piontti, K. Mu, L. Rossi, K. Sun et al., “The effect
of travel restrictions on the spread of the 2019 novel coronavirus
(covid-19) outbreak,” Science, 2020.
[3] https://en.wikipedia.org/wiki/Compartmental models in
epidemiology#The SIR model.
[4] Z. Yang, Z. Zeng, K. Wang, S.-S. Wong, W. Liang, M. Zanin, P. Liu,
X. Cao, Z. Gao, Z. Mai et al., “Modified seir and ai prediction
of the epidemics trend of covid-19 in china under public health
interventions,” Journal of Thoracic Disease, vol. 12, no. 3, p. 165,
2020.
[5] https://qianxi.baidu.com/.
[6] G. Giordano, F. Blanchini, R. Bruno, P. Colaneri, A. Di Filippo,
A. Di Matteo, and M. Colaneri, “Modelling the covid-19 epidemic
and implementation of population-wide interventions in italy,”
Nature Medicine, pp. 1–6, 2020.
[7] J. T. Wu, K. Leung, and G. M. Leung, “Nowcasting and forecasting
the potential domestic and international spread of the 2019-ncov
outbreak originating in wuhan, china: a modelling study,” The
Lancet, vol. 395, no. 10225, pp. 689–697, 2020.
[8] N. M. Linton, T. Kobayashi, Y. Yang, K. Hayashi, A. R. Akhmetzhanov, S.-m. Jung, B. Yuan, R. Kinoshita, and H. Nishiura, “Incubation period and other epidemiological characteristics of 2019
novel coronavirus infections with right truncation: a statistical
analysis of publicly available case data,” Journal of clinical medicine,
vol. 9, no. 2, p. 538, 2020.
[9] J. M. Read, J. R. Bridgen, D. A. Cummings, A. Ho, and C. P. Jewell,
“Novel coronavirus 2019-ncov: early estimation of epidemiological parameters and epidemic predictions,” MedRxiv, 2020.
[10] H. He, R. Li, R. Wang, J. Bao, Y. Zheng, and T. Li, “Efficient
suspected infected crowds detection based on spatio-temporal
trajectories,” arXiv preprint arXiv:2004.06653, 2020.

16

[11] D. Guo, “Visual analytics of spatial interaction patterns for pandemic decision support,” International Journal of Geographical Information Science, vol. 21, no. 8, pp. 859–877, 2007.
[12] S. Afzal, R. Maciejewski, and D. S. Ebert, “Visual analytics decision support environment for epidemic modeling and response
evaluation,” in 2011 IEEE conference on visual analytics science and
technology (VAST). IEEE, 2011, pp. 191–200.
[13] C. Dunne, M. Muller, N. Perra, and M. Martino, “Vorograph:
visualization tools for epidemic analysis,” in Proceedings of the 33rd
Annual ACM Conference Extended Abstracts on Human Factors in
Computing Systems, 2015, pp. 255–258.
[14] D. Balcan, V. Colizza, B. Gonçalves, H. Hu, J. J. Ramasco,
and A. Vespignani, “Multiscale mobility networks and the spatial spreading of infectious diseases,” Proceedings of the National
Academy of Sciences, vol. 106, no. 51, pp. 21 484–21 489, 2009.
[15] S. Eubank, H. Guclu, V. A. Kumar, M. V. Marathe, A. Srinivasan,
Z. Toroczkai, and N. Wang, “Modelling disease outbreaks in
realistic urban social networks,” Nature, vol. 429, no. 6988, pp.
180–184, 2004.
[16] H. Jeung, M. L. Yiu, X. Zhou, C. S. Jensen, and H. T. Shen,
“Discovery of convoys in trajectory databases,” Proceedings of the
VLDB Endowment, vol. 1, no. 1, pp. 1068–1080, 2008.
[17] Z. Li, B. Ding, J. Han, and R. Kays, “Swarm: Mining relaxed temporal moving object clusters,” Proceedings of the VLDB Endowment,
vol. 3, no. 1-2, pp. 723–734, 2010.
[18] K. Zheng, Y. Zheng, N. J. Yuan, S. Shang, and X. Zhou, “Online discovery of gathering patterns over trajectories,” IEEE Transactions
on Knowledge and Data Engineering, vol. 26, no. 8, pp. 1974–1988,
2013.
[19] L. Chen, M. T. Özsu, and V. Oria, “Robust and fast similarity
search for moving object trajectories,” in Proceedings of the 2005
ACM SIGMOD international conference on Management of data, 2005,
pp. 491–502.
[20] T. Brinkhoff, “A framework for generating network-based moving
objects,” GeoInformatica, vol. 6, no. 2, pp. 153–180, 2002.
[21] M. F. Mokbel, L. Alarabi, J. Bao, A. Eldawy, A. Magdy, M. Sarwat,
E. Waytas, and S. Yackel, “Mntg: An extensible web-based traffic generator,” in International Symposium on Spatial and Temporal
Databases. Springer, 2013, pp. 38–55.
[22] M. Behrisch, L. Bieker, J. Erdmann, and D. Krajzewicz, “Sumo–
simulation of urban mobility: an overview,” in Proceedings of
SIMUL 2011, The Third International Conference on Advances in
System Simulation. ThinkMind, 2011.
[23] A. Horni, K. Nagel, and K. W. Axhausen, The multi-agent transport
simulation MATSim. Ubiquity Press London, 2016.
[24] M. Baratchi, N. Meratnia, P. J. Havinga, A. K. Skidmore, and B. A.
Toxopeus, “A hierarchical hidden semi-markov model for modeling mobility data,” in Proceedings of the 2014 ACM International
Joint Conference on Pervasive and Ubiquitous Computing, 2014, pp.
401–412.
[25] M. Yin, M. Sheehan, S. Feygin, J.-F. Paiement, and A. Pozdnoukhov, “A generative model of urban activities from cellular data,” IEEE Transactions on Intelligent Transportation Systems,
vol. 19, no. 6, pp. 1682–1696, 2017.
[26] K. Ouyang, R. Shokri, D. S. Rosenblum, and W. Yang, “A nonparametric generative model for human trajectories.” in IJCAI,
2018, pp. 3812–3817.
[27] X. Kang, L. Liu, D. Zhao, and H. Ma, “Trag: A trajectory generation
technique for simulating urban crowd mobility,” IEEE Transactions
on Industrial Informatics, 2020.
[28] X. Song, Q. Zhang, Y. Sekimoto, R. Shibasaki, N. J. Yuan, and
X. Xie, “A simulator of human emergency mobility following
disasters: Knowledge transfer from big disaster data,” in TwentyNinth AAAI Conference on Artificial Intelligence, 2015.
[29] Z. Fan, X. Song, R. Shibasaki, T. Li, and H. Kaneda, “Citycoupling:
bridging intercity human mobility,” in Proceedings of the 2016 ACM
International Joint Conference on Pervasive and Ubiquitous Computing,
2016, pp. 718–728.
[30] D. A. Keim, “Information visualization and visual data mining,”
IEEE transactions on Visualization and Computer Graphics, vol. 8,
no. 1, pp. 1–8, 2002.
[31] S. Liu, W. Cui, Y. Wu, and M. Liu, “A survey on information visualization: recent advances and challenges,” The Visual Computer,
vol. 30, no. 12, pp. 1373–1393, 2014.
[32] G. Andrienko, N. Andrienko, S. Rinzivillo, M. Nanni, D. Pedreschi, and F. Giannotti, “Interactive visual clustering of large

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

[33]
[34]

[35]
[36]

[37]

[38]

[39]
[40]

[41]

[42]

[43]

[44]

[45]

[46]

[47]

[48]
[49]

[50]

[51]

collections of trajectories,” in 2009 IEEE Symposium on visual analytics science and technology. IEEE, 2009, pp. 3–10.
N. Andrienko and G. Andrienko, “Visual analytics of movement:
An overview of methods, tools and procedures,” Information Visualization, vol. 12, no. 1, pp. 3–24, 2013.
C. Tominski, H. Schumann, G. Andrienko, and N. Andrienko,
“Stacking-based visualization of trajectory attribute data,” IEEE
Transactions on visualization and Computer Graphics, vol. 18, no. 12,
pp. 2565–2574, 2012.
Y. Chen, P. Xu, and L. Ren, “Sequence synopsis: Optimize visual
summary of temporal event data,” IEEE transactions on visualization and computer graphics, vol. 24, no. 1, pp. 45–55, 2017.
S. Chen, S. Li, S. Chen, and X. Yuan, “R-map: A map metaphor for
visualizing information reposting process in social media,” IEEE
Transactions on Visualization and Computer Graphics, vol. 26, no. 1,
pp. 1204–1214, 2019.
T. Von Landesberger, F. Brodkorb, P. Roskosch, N. Andrienko,
G. Andrienko, and A. Kerren, “Mobilitygraphs: Visual analysis
of mass mobility dynamics via spatio-temporal graphs and clustering,” IEEE transactions on visualization and computer graphics,
vol. 22, no. 1, pp. 11–20, 2015.
Y. Yang, T. Dwyer, S. Goodwin, and K. Marriott, “Many-tomany geographically-embedded flow visualisation: An evaluation,” IEEE transactions on visualization and computer graphics,
vol. 23, no. 1, pp. 411–420, 2016.
B. Ni, Q. Shen, J. Xu, and H. Qu, “Spatio-temporal flow maps
for visualizing movement and contact patterns,” Visual Informatics,
vol. 1, no. 1, pp. 57–64, 2017.
Z. Zhou, L. Meng, C. Tang, Y. Zhao, Z. Guo, M. Hu, and W. Chen,
“Visual abstraction of large scale geospatial origin-destination
movement data,” IEEE transactions on visualization and computer
graphics, vol. 25, no. 1, pp. 43–53, 2018.
G. Sun, R. Liang, H. Qu, and Y. Wu, “Embedding spatio-temporal
information into maps by route-zooming,” IEEE transactions on
visualization and computer graphics, vol. 23, no. 5, pp. 1506–1519,
2016.
M. Zhu, W. Chen, J. Xia, Y. Ma, Y. Zhang, Y. Luo, Z. Huang, and
L. Liu, “Location2vec: a situation-aware representation for visual
exploration of urban locations,” IEEE Transactions on Intelligent
Transportation Systems, vol. 20, no. 10, pp. 3981–3990, 2019.
N. Andrienko, G. Andrienko, L. Barrett, M. Dostie, and P. Henzi,
“Space transformation for understanding group movement,” IEEE
transactions on visualization and computer graphics, vol. 19, no. 12, pp.
2169–2178, 2013.
R. Scheepens, N. Willems, H. Van de Wetering, G. Andrienko,
N. Andrienko, and J. J. Van Wijk, “Composite density maps for
multivariate trajectories,” IEEE Transactions on Visualization and
Computer Graphics, vol. 17, no. 12, pp. 2518–2527, 2011.
D. Weng, R. Chen, Z. Deng, F. Wu, J. Chen, and Y. Wu, “Srvis:
Towards better spatial integration in ranking visualization,” IEEE
transactions on visualization and computer graphics, vol. 25, no. 1, pp.
459–469, 2018.
C. Liu, C. Wu, H. Shao, and X. Yuan, “Smartcube: An adaptive
data management architecture for the real-time visualization of
spatiotemporal datasets,” IEEE transactions on visualization and
computer graphics, vol. 26, no. 1, pp. 790–799, 2019.
N. Ferreira, J. Poco, H. T. Vo, J. Freire, and C. T. Silva, “Visual
exploration of big spatio-temporal urban data: A study of new
york city taxi trips,” IEEE transactions on visualization and computer
graphics, vol. 19, no. 12, pp. 2149–2158, 2013.
H. Liu, S. Jin, Y. Yan, Y. Tao, and H. Lin, “Visual analytics of
taxi trajectory data via topical sub-trajectories,” Visual Informatics,
vol. 3, no. 3, pp. 140–149, 2019.
S. Chen, X. Yuan, Z. Wang, C. Guo, J. Liang, Z. Wang, X. Zhang,
and J. Zhang, “Interactive visual discovering of movement patterns from sparsely sampled geo-tagged social media data,” IEEE
transactions on visualization and computer graphics, vol. 22, no. 1, pp.
270–279, 2015.
W. Wu, J. Xu, H. Zeng, Y. Zheng, H. Qu, B. Ni, M. Yuan, and L. M.
Ni, “Telcovis: Visual exploration of co-occurrence in urban human
mobility based on telco data,” IEEE transactions on visualization and
computer graphics, vol. 22, no. 1, pp. 935–944, 2015.
G. Andrienko, N. Andrienko, G. Fuchs, and J. Wood, “Revealing
patterns and trends of mass mobility through spatial and temporal
abstraction of origin-destination movement data,” IEEE transactions on visualization and computer graphics, vol. 23, no. 9, pp. 2120–
2136, 2016.

17

[52] W. Zeng, C.-W. Fu, S. M. Arisona, A. Erath, and H. Qu, “Visualizing mobility of public transportation system,” IEEE transactions on
visualization and computer graphics, vol. 20, no. 12, pp. 1833–1842,
2014.
[53] W. Chen, F. Guo, and F.-Y. Wang, “A survey of traffic data visualization,” IEEE Transactions on Intelligent Transportation Systems,
vol. 16, no. 6, pp. 2970–2984, 2015.
[54] R. Scheepens, C. Hurter, H. Van De Wetering, and J. J. Van Wijk,
“Visualization, selection, and analysis of traffic flows,” IEEE transactions on visualization and computer graphics, vol. 22, no. 1, pp. 379–
388, 2015.
[55] G. Andrienko, N. Andrienko, W. Chen, R. Maciejewski, and
Y. Zhao, “Visual analytics of mobility and transportation: State
of the art and further research directions,” IEEE Transactions on
Intelligent Transportation Systems, vol. 18, no. 8, pp. 2232–2249, 2017.
[56] W. Pei, Y. Wu, S. Wang, L. Xiao, H. Jiang, and A. Qayoom, “Bvis:
urban traffic visual analysis based on bus sparse trajectories,”
Journal of Visualization, vol. 21, no. 5, pp. 873–883, 2018.
[57] Y. Zheng, W. Wu, Y. Chen, H. Qu, and L. M. Ni, “Visual analytics
in urban computing: An overview,” IEEE Transactions on Big Data,
vol. 2, no. 3, pp. 276–296, 2016.
[58] Z. Deng, D. Weng, J. Chen, R. Liu, Z. Wang, J. Bao, Y. Zheng, and
Y. Wu, “Airvis: Visual analytics of air pollution propagation,” IEEE
transactions on visualization and computer graphics, vol. 26, no. 1, pp.
800–810, 2019.
[59] H. Qu, W.-Y. Chan, A. Xu, K.-L. Chung, K.-H. Lau, and P. Guo,
“Visual analysis of the air pollution problem in hong kong,” IEEE
Transactions on visualization and Computer Graphics, vol. 13, no. 6,
pp. 1408–1415, 2007.
[60] Z. Wang, M. Lu, X. Yuan, J. Zhang, and H. Van De Wetering, “Visual traffic jam analysis based on trajectory data,” IEEE transactions
on visualization and computer graphics, vol. 19, no. 12, pp. 2159–2168,
2013.
[61] D. Weng, C. Zheng, Z. Deng, M. Ma, J. Bao, Y. Zheng, M. Xu,
and Y. Wu, “Towards better bus networks: A visual analytics
approach,” arXiv preprint arXiv:2008.10915, 2020.
[62] H. Liu, Y. Gao, L. Lu, S. Liu, H. Qu, and L. M. Ni, “Visual analysis
of route diversity,” in 2011 IEEE conference on visual analytics science
and technology (VAST). IEEE, 2011, pp. 171–180.
[63] G. Andrienko, N. Andrienko, M. Mladenov, M. Mock, and
C. Pölitz, “Discovering bits of place histories from people’s activity
traces,” in 2010 IEEE symposium on visual analytics science and
technology. IEEE, 2010, pp. 59–66.
[64] G. Andrienko, N. Andrienko, C. Hurter, S. Rinzivillo, and S. Wrobel, “From movement tracks through events to places: Extracting
and characterizing significant places from mobility data,” in 2011
IEEE Conference on Visual Analytics Science and Technology (VAST),
2011, pp. 161–170.
[65] G. Andrienko, N. Andrienko, C. Hurter, S. Rinzivillo, and S. Wrobel, “Scalable analysis of movement data for extracting and exploring significant places,” IEEE transactions on visualization and
computer graphics, vol. 19, no. 7, pp. 1078–1094, 2012.
[66] X. Huang, Y. Zhao, C. Ma, J. Yang, X. Ye, and C. Zhang, “Trajgraph:
A graph-based visual analytics approach to studying urban network centralities using taxi trajectory data,” IEEE transactions on
visualization and computer graphics, vol. 22, no. 1, pp. 160–169, 2015.
[67] D. Weng, H. Zhu, J. Bao, Y. Zheng, and Y. Wu, “Homefinder
revisited: Finding ideal homes with reachability-centric multicriteria decision making,” in Proceedings of the 2018 CHI Conference
on Human Factors in Computing Systems, 2018, pp. 1–12.
[68] D. Liu, D. Weng, Y. Li, J. Bao, Y. Zheng, H. Qu, and Y. Wu, “Smartadp: Visual analytics of large-scale taxi trajectories for selecting
billboard locations,” IEEE transactions on visualization and computer
graphics, vol. 23, no. 1, pp. 1–10, 2016.
[69] T. Horanont, A. Witayangkurn, Y. Sekimoto, and R. Shibasaki,
“Large-scale auto-gps analysis for discerning behavior change
during crisis,” IEEE Intelligent Systems, vol. 28, no. 4, pp. 26–34,
2013.
[70] https://joras.csis.u-tokyo.ac.jp/dataset/show/id/14000201400.
[71] R. Jiang, X. Song, Z. Fan, T. Xia, Q. Chen, S. Miyazawa, and
R. Shibasaki, “Deepurbanmomentum: An online deep-learning
system for short-term urban mobility prediction.” in AAAI, 2018,
pp. 784–791.
[72] R. Jiang, X. Song, Z. Fan, T. Xia, Q. Chen, Q. Chen, and
R. Shibasaki, “Deep roi-based modeling for urban human mobility
prediction,” Proceedings of the ACM on Interactive, Mobile, Wearable
and Ubiquitous Technologies, vol. 2, no. 1, pp. 1–29, 2018.

JOURNAL OF LATEX CLASS FILES, VOL. XX, NO. XX, XXX 202X

[73] I. Brodsky, “H3: Uber’s hexagonal hierarchical spatial index,”
2018.
[74] T. Kuniya, “Prediction of the epidemic peak of coronavirus disease
in japan, 2020,” Journal of clinical medicine, vol. 9, no. 3, p. 789, 2020.
[75] L. Pappalardo, F. Simini, G. Barlacchi, and R. Pellungrini, “scikitmobility: a python library for the analysis, generation and risk
assessment of mobility data,” 2019.
[76] W.-j. Guan, Z.-y. Ni, Y. Hu, W.-h. Liang, C.-q. Ou, J.-x. He, L. Liu,
H. Shan, C.-l. Lei, D. S. Hui et al., “Clinical characteristics of 2019
novel coronavirus infection in china,” MedRxiv, 2020.
[77] J. Zhang, Y. Zheng, and D. Qi, “Deep spatio-temporal residual
networks for citywide crowd flows prediction.” in AAAI, 2017,
pp. 1655–1661.
[78] https://github.com/Leaflet/Leaflet.markercluster.
[79] S. Chang, E. Pierson, P. W. Koh, J. Gerardin, B. Redbird, D. Grusky,
and J. Leskovec, “Mobility network models of covid-19 explain
inequities and inform reopening,” Nature, pp. 1–6, 2020.
[80] https://office-show.com/cooperation.
[81] https://www3.nhk.or.jp/news/html/20200410/
k10012381201000.html.
[82] https://www.yomiuri.co.jp/national/20210115-OYT1T50268/.
[83] H. Lau, V. Khosrawipour, P. Kocbach, A. Mikolajczyk, J. Schubert,
J. Bania, and T. Khosrawipour, “The positive impact of lockdown
in wuhan on containing the covid-19 outbreak in china,” Journal of
travel medicine, vol. 27, no. 3, p. taaa037, 2020.
[84] C. Signorelli, T. Scognamiglio, and A. Odone, “Covid-19 in italy:
impact of containment measures and prevalence estimates of
infection in the general population.” Health, vol. 25, p. 01, 2020.
[85] K. Prem, Y. Liu, T. W. Russell, A. J. Kucharski, R. M. Eggo,
N. Davies, S. Flasche, S. Clifford, C. A. Pearson, J. D. Munday
et al., “The effect of control strategies to reduce social mixing on
outcomes of the covid-19 epidemic in wuhan, china: a modelling
study,” The Lancet Public Health, 2020.
[86] N. Johanna, H. Citrawijaya, and G. Wangge, “Mass screening vs
lockdown vs combination of both to control covid-19: A systematic
review,” Journal of public health research, vol. 9, no. 4, 2020.
[87] J. Taipale, P. Romer, and S. Linnarsson, “Population-scale testing
can suppress the spread of covid-19,” MedRxiv, 2020.
[88] J. Yuan, Y. Zheng, and X. Xie, “Discovering regions of different
functions in a city using human mobility and pois,” in Proceedings
of the 18th ACM SIGKDD international conference on Knowledge
discovery and data mining, 2012, pp. 186–194.

Chuang Yang received his B.S. degree in
Computer Science and Technology from Southern University of Science and Technology
(SUSTech) in 2019. From 2019, he became a research student at Department of Socio-Cultural
Environmental Studies, The University of Tokyo.
His current research interests are in the area of
spatio-temporal data analysis, data visualization
and ubiquitous computing.

Zhiwen Zhang received the B.E. and M.S. degree in Artificial Intelligence from Nankai University, China, in 2016 and 2019 respectively. From
2019, he is currently pursing the Ph.D. degree
at Department of Socio-Cultural Environmental
Studies, The University of Tokyo. His current
research interests include urban computing and
data visualization.

18

Zipei Fan received his B.S. degree in Computer
Science from Beihang University, China, in 2012,
both M.S. and Ph.D. degree in Civil Engineering
from The University of Tokyo, Japan, in 2014
and 2017 respectively. From 2017, he became
a Project Assistant Professor at the Center for
Spatial Information Science, The University of
Tokyo. His research interests include ubiquitous
computing, machine learning, spatio-temporal
data mining, and heterogeneous data fusion.

Renhe Jiang received his B.S. degree in Software Engineering from Dalian University of
Technology, China, in 2012, M.S. degree in Information Science from Nagoya University, Japan,
in 2015, and Ph.D. degree in Civil Engineering
from The University of Tokyo, Japan, in 2019.
From 2019, he became an Assistant Professor at
Information Technology Center, The University
of Tokyo. His research interests include ubiquitous computing, deep learning, and spatiotemporal data analysis.

Quanjun Chen received his B.S. degree in Automation from Hunan University, China, in 2011,
M.S. degree in Pattern Recognition and Intelligent System from Beihang University, in 2014,
and Ph.D. degree in Civil Engineering from The
University of Tokyo, Japan, in 2017. From 2017,
he became a Post-Doctoral Researcher at the
Center for Spatial Information Science, The University of Tokyo. His research interests include
ubiquitous computing, machine learning, and
traffic accident analysis.

Xuan Song received his B.S. degree in Information Engineering from Jilin University, China, in
2005 and Ph.D. degree in Signal and Information Processing from Peking University, China,
in 2010. He was promoted to Project Assistant
Professor and Project Associate Professor at
the Center for Spatial Information Science, The
University of Tokyo, in 2012 and 2015 respectively. His research are mainly artificial intelligence, computer vision, and robotics, especially
on smart city, intelligent system design, multitarget tracking, sensor fusion, abnormality screening.

Ryosuke Shibasaki was born in Fukuoka,
Japan. He received his B.S., M.S., and Doctoral
degrees in Civil Engineering from The University of Tokyo, Japan, in 1980, 1982, and 1987,
respectively. From 1982 to 1988, he was with
the Public Works Research Institute, Ministry
of Construction. From 1988 to 1991, he was
an Associate Professor in the Civil Engineering
Department, The University of Tokyo. In 1991,
he joined the Institute of Industrial Science, The
University of Tokyo. In 1998, he was promoted to
a Professor in the Center for Spatial Information Science, The University
of Tokyo. His research interests cover three-dimensional data acquisition for GIS, conceptual modeling for spatial objects, and agent-based
microsimulation in a GIS environment.

