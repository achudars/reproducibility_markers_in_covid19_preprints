arXiv:2011.09277v1 [physics.soc-ph] 13 Nov 2020

Assessing Risk in the Retail Environment during the
COVID-19 Pandemic
C. Budd1 , K. Calvert2,6 , S. Johnson3,5 , S. O. Tickle4,6
School of Mathematical Sciences, University of Bath, Bath, United Kingdom
2
Department of Mathematics, University of Manchester, United Kingdom
3
School of Mathematics, University of Birmingham, Birmingham, United Kingdom
4
School of Mathematics, University of Bristol, Bristol, United Kingdom
5
Alan Turing Institute, London, United Kingdom
6
Heilbronn Institute for Mathematical Research
1

November 19, 2020

Abstract
The COVID-19 pandemic has caused unprecedented disruption, particularly in retail. Where
essential demand cannot be fulfilled online, or where more stringent measures have been relaxed,
customers must visit shop premises in person. This naturally gives rise to some risk of susceptible
individuals (customers or staff) becoming infected. It is essential to minimise this risk as far as
possible while retaining economic viability of the shop. We therefore explore and compare the
spread of COVID-19 in different shopping situations involving person-to-person interactions: (i)
free-flowing, unstructured shopping; (ii) structured shopping (e.g. a queue). We examine which
of (i) or (ii) may be preferable for minimising the spread of COVID-19 in a given shop, subject
to constraints such as the geometry of the shop; compliance of the population to local guidelines;
and additional safety measures which may be available to the organisers of the shop. We derive
a series of conclusions, such as unidirectional free movement being preferable to bidirectional
shopping, and that the number of servers should be maximised as long as they can be well
protected from infection.

Keywords: COVID-19; Queues; Shopping; Unsafe Interactions; Viral Exposure

1

Introduction

Many of us do our shopping for food, drink, and other essential items, in a supermarket or at a
takeaway. During the COVID-19, or indeed any other, epidemic this leads to a possible risk of
infection. The group of people going shopping is typically open in that it is drawn from a diverse
population who will come from many different locations and who are, usually, unknown to each
other. Whilst this group can be quite large, and diverse, the time spent in contact with each other
1

in such a situation is often relatively short. The question remains as to what is the best way to
organise the dynamics of the shoppers in a supermarket, or takeaway, so as to minimise the overall
risk of infection. During the course of the 2020 COVID-19 pandemic various measures have been
considered/implemented including directed shopping and the compulsory use of face masks. In this
paper we make a partial assessment of the effectiveness of both of these measures, through the use
of mathematical models.
During the epidemic, a typical shopping experience comprises a wait (in a socially distanced queue)
by the entrance outside the shop. This queue is then allowed into the shop, typically on a one-in oneout basis. Whilst inside the shop, shoppers are largely free to move as they wish. Finally, on exit,
the shoppers form an ordered queue (or queues) to be served. In a takeaway, a similar procedure
is involved, although customers typically move straight from the entrance to the serving queue.
Unsafe interactions can occur at any of these points. It is natural to want to try and minimise the
frequency and duration of any such interactions, whilst also maintaining the economic viability of
the shop. These objectives are not necessarily compatible. This leads to the issue of determining
the optimal way of organising both the ‘free-form’ shopping (with reasonable constraints consistent
with modelling the shopping experience) and also the queue (or queues) being served. This is the
’managing the crowd’ principle outlined in [1] and is affected by both the internal geometry of the
shop and also by the way the crowd is directed around this geometry. For example, should the
crowd move ’randomly’ in a self-organised fashion, or should it in some way be ’directed’ as an
ordered queue throughout the shop. Similarly in the case of the checkout queue, the safety of the
customers in the queue will be affected by the number, and level of protection, of the servers and of
each other. These considerations must also be balanced against the risk to the servers themselves.
In this paper, we address some of these issues by constructing a mathematical model of the above
shopping process looking at both the movement in the shop and also in the queues. This model helps
to determine the total viral dose experienced by an average shopper. It is based on certain simple
assumptions of the way that the virus spreads within the shop and between people, and also of the
way that the people move within the store as they make their shopping choices. We emphasise that
these conclusions are obtained by the use of mathematical models based on certain assumptions
and caveats which we describe alongside the models. At this stage we have not considered any
actual data for the COVID-19 case (although we do draw in places on data for other diseases),
and the conclusions are the results only of the simulations and mathematical arguments. However,
we show through the modelling experiments, and looking at the level of uncertainty in the model
predictions, that the conclusions are reasonably robust to changes in the assumptions themselves.
We emphasise that these studies are in some senses preliminary, and we hope that they will lead
to further, data-driven investigations.
Our approach comprises an agent based (ABM) social force model of the crowd (of varying density)
within the shop acting as ’typical shoppers’ [11], combined with a queuing model of the checkout
itself, and models for the viral spread and the impact of PPE. Other approaches to studying the
issues associated with the retail environment have also been considered by the Royal Society RAMP
initiative. In particular, we compare the results of this approach with that considered in [27] which
examines several possibilities for managing the crowd within a supermarket environment, including
unidirectional aisles and enforced capacity in popular areas of the shop, and determines the viral
dose as a function of the arrival rate of the shoppers. See also the use of Poisson process model for
calculating the spread of COVID-19 in the retail environment [22].
2

In Section 2 of this paper we consider an agent-based model for free-flowing shoppers in the supermarket, with a probabilistic model for the way in which they move as they choose their goods. Such
a model assumes that there are many shoppers who interact with each other over a short period of
time, a proportion of whom may be infected. During such interactions the shoppers accumulate a
likely viral dose which is then linked to their risk of infection. The analysis in Section 2 comprises
the use of a social force model of the crowd making certain assumptions of their mode of shopping,
combined with a model for the transport of the virus from one crowd member to another.
In Section 3 we move the shoppers to the queue, or queues, at the exit of the shop (which they may
move to directly if the shop is a takeaway) and use queuing theory to assess the risk of infection in
this (as it turns out quite dangerous) situation. A clear problem in this phase of the shopping is that
the queue may be slow moving, and this significantly increases the risk to both the shoppers and the
servers. In the modelling of the queue we consider the relative risk to both shoppers and servers,
and rigorously study how it changes with the dynamics of the queue, the number of queues/servers,
and the level of protection given to both the servers and the shoppers. In particular, we model the
wearing of masks by lowering the probability of an infection spread in an unsafe interaction with
an infected person.
Applying these mathematical models leads to a number of tentative conclusions which, as described
above, are fairly robust to the modelling assumptions that we have made.
Moving around the shop:
A first conclusion from modelling the movement of the crowd in Section 2 is that minimising the
duration of interactions can be more effective than focusing only on the distance between people.
(This conclusion depends only weakly on the precise model used for the aerosol transmission.) Thus
a 2m separation may be quite dangerous if the people interacting spend a long time at this distance,
whereas a separation of less than 2m may be safer if the interaction is shorter.
We find that bidirectional shopping leads to higher viral particles inhaled. However, this structure
also makes a significant difference to the efficiency of shopping. Unidirectional shopping led to
the lowest viral exposure, as long as shoppers went against the direction if they forgot an item.
Lower efficiency of shopping leads to shoppers spending longer in store and hence to higher viral
doses. Unidirectional shopping, with the assumption that shoppers did break the directional rules
if they needed, was the most efficient and led to the lowest exposure in every situation. However,
the difference gained or lost by different shopping mechanics was dwarfed by the effect of differing
aisle widths. Shops with 2m aisle widths led to up to 10 times more viral exposure than the same
system in a 3m or 4m wide aisle. These conclusions follow the reasonable assumptions that people
act in response to social and physical forces and that the viral particles from an individual disperse
with isotropic diffusion (proportional to r12 with distance r from an individual). This is not known
about COVID-19 particles, however our conclusions are robust to changing the viral model to being
proportional to ar + rb2 + rc3 for any positive constants a, b, c.
This result complements previous work which has found efficiency to be the main disadvantages to
organised shopping [27], and suggests that venues which have already implemented such measures
might reconsider their policy if it is leading to significantly longer shopping experiences. It would
3

also be prudent to analyse shop layout and flow with a view to minimising the time spent shopping.
Furthermore, venues which have the capacity to widen aisles should consider implementing this as
of utmost importance in lowering risk.
Organising the exit queue:
In Section 3 we draw the following tentative conclusions for organising the exit queue(s): (i) unsafe
interactions should be kept to a minimum, (ii) protective mask wearing should be maximised, and
mandatory for the queue servers, (iii) mandatory extra protection should be provided for the servers,
(iv) the number of servers should be maximised (under the constraint of keeping them safe from
each other), (v) wherever possible, customers should be organised into separate, non-interacting
queues, each with a single server, rather than a single queue serviced by a number of servers.
These conclusions follow from the reasonable assumption that COVID-19 spreads primarily through
unsafe interactions which occur between pairs of people, with these unsafe interactions occurring
with greater frequency in situations in which, for example, customers are closer together on average.
We assume that a given queuing system will have some time-invariant unsafe interaction rate for
any pair of people who can come into contact in the exit queue. Note that, in practice, this rate
is unlikely to be uniform between different pairs; for instance, certain customers may be more
observant of social distancing rules than others.
Additionally, we assume that, when an unsafe interaction occurs between an infected and an uninfected person, the virus spreads with some person-invariant probability. Again, in reality, it is
likely that there exist ”super-spreaders” of the virus, for whom the probability of transmission is
greater, given an unsafe interaction. Transmission probabilities are also known to be affected by,
for instance, the length of time since infection.
Central to all of these results is the model of the safety effect of wearing masks. This effect is
assumed to be asymmetric: in an unsafe interaction between an uninfected and infected person
in which both wear masks, more of the benefit of the mask wearing is believed to come from the
mask worn by the infected person, see, for instance, [25]. For this reason, without masks, servers
have a potentially increased chance of becoming super-spreaders of the virus within an open group
of shoppers. This principle is also seen in the novel theory developed in Section 3, in which we
examine the spread of infection in two queuing systems: (i) multiple queues with a single server
each (as in a supermarket); and (ii) a single queue with multiple servers (as in a coffee takeaway
shop or a self-service queue in a supermarket).
The conclusion that wearing masks is important is of course of no surprise, indeed mask wearing
is now compulsory in UK shops. However, we hope that the reasoning behind this observation will
help guide decisions on the future use of masks as the current crises starts to ease.

2

Many-to-one interactions in a crowded supermarket

In this section, we consider a two-dimensional model for supermarket shopping which represents
the shoppers moving in a crowd as small circles (which are in turn cross-sections of cylinders). The
4

central assumption of this section is that there is a large number, N , of shoppers who come from
an originally well mixed and open population, who are in close proximity with each other for a
relatively short time period.

2.1

A particle model of a supermarket crowd.

To simulate, and then to analyse, the crowd of shoppers in a supermarket, we consider a particle
model to represent each person in a two-dimensional domain representing a typical supermarket, as
illustrated in Figure 2. The shoppers will then act as agents, moving around the store according to
certain rules governing the way that they are likely to shop, and will come into contact with other
shoppers as they do so. This domain can be thought of as a supermarket with constraints such as
walls and aisles. We set out to compare the behaviour of the crowd in different shopping structures
of the store, and how these structures may influence viral exposure and shopping progress.
In the model, each shopper, indexed by α, is considered to be a separate particle with a position xα ,
a velocity vα , and an acceleration aα and radius rα . The positions and velocities of the shoppers
then evolve due to the acceleration of the public actors. Such motion is governed using Newton’s
second law of motion, fα = mα aα , where fα is the force on the public actor (a combination of social
force, intelligent intent and geometrical constraint), mα is the mass, and aα is the acceleration of
the public actor. The system of ODEs that governs the position and velocity is then
d
d
1
xα = vα ,
vα =
fα ,
dt
dt
mα
For simplicity, we take mα = 1, for all values of α. We model each shopper as a cross-section of
a cylinder of radius rα . For our model, we will consider the shoppers to be initially distributed
randomly throughout the supermarket. The forces acting on each shopper are then dependent on
their surroundings, the nearby shoppers and their intent and mode of shopping. Following [11], we
consider four forces that act on the shoppers: a strong repulsion force from the supermarket walls,
f walls ; a strong repulsion force, f repel , which ensures that shoppers don’t inhabit the same space; a
weak repulsion (social) force representing social distancing, given by f sd ; and an attraction force f α
representing a shopper’s intent to buy a particular item. It is the force f α which is most dependent
on the individual concerned, and the the hardest to model. The force on the shopper α, is then
expressed as a sum of all the forces discussed, giving us
fα = fαwalls + fαrepel + fαsd + fαattract .

The motion of the crowd arising from these forces then depends upon the precise description of
each individual force. We now discuss these in detail. Each force is governed by a set of parameters
which we then choose informed by established work in agent based models. However not every
shopper is the same. To avoid homogeneity every parameter for each shopper is chosen on a
normal distribution with a mean informed by established theory and a variance of one quarter of
the mean. In the following descriptions we give mean values for the parameters.

5

2.1.1

Forces acting on shoppers

Wall forces
The wall repulsion force, f walls , is a force felt by the shopper α from the closest point of the wall
xw provided that the distance to that point in the wall dw = |xw − xα |, is smaller than a chosen
threshold distance. The resulting force is then given by

f

walls


obstacle
= − fmax

1
obstacle
+ gmax
exp
1 + (dw /rα )p



dw
σwall



xα − xw
.
dw

(1)

The first term in the brackets in (1) is taken from [11]. This is a mid-range force and models the
desire of people to not be too close to walls. The second term taken from [12] is the force adjacent
to the wall/aisle and models a shopper’s inability to move through then walls. In this expression,
the constant f obstacle is the maximum mid-range force, g obstacle and σwall control the short-range
force. Following the recommendations of [17] for parameters p = 2 and f obstacle as around 2 times
the maximal acceleration we define f obstacle to be 4. We ran experiments to define the values of
g obstacle and σ)wall such that shoppers used the most amount of space when required but did not
pass through the wall. We set g obstacle = 1000 and σ wall = 0.01m and define the threshold distance
at 1m.

Forces between the shoppers
The repelling force from one shopper to another is split into two forces. The first is a near-range,
social distancing force, describing the situation when a shopper α comes within a short distance
of another shopper β, so that they are fully aware of each other, but they are not in contact. We
note that the strength of this force can reflects imposed social distancing rules, so that it will be
stronger if a 2m separation rule is enforced rather than a 1m rule. This force is combined with a
contact force, which occurs when then shoppers are touching, so that they are closer than rα + rβ .
[17]. The repelling force is therefore defined by

fαsd + fαrepel =

X
β6=α

!
repel
repel
fmax
gmax
u+a
u .
1 + (dα )p2
1 + (dαβ )p3

(2)

In this expression, s, ρα , ραβ and a are defined as
|xβ − xα |
|xβ − xα |
x β − xα
u=
, dα =
, dαβ =
, a=
|xβ − xα |
rα
rα + rβ

(
1
2

if dαβ ≤ 1,
if dαβ > 1.

repel
The maximal social distancing force is governed by the constant fmax
, and the decay of the social
repel
distancing force is dictated by p2 . Similarly, the contact force is governed by constants gmax
and
p3 .

6

repel
repel
Again following [17] we define fmax
(resp. gmax
) to be around two (resp. four) times maximal
repel
acceleration. We take maximal acceleration to be 2ms−2 and set the parameters to be fmax
=
repel
4, gmax = 8. We set rα to be .25m.

Attractive forces modelling the intelligent intent of the shopper.
Following [11], each shopper has a desired velocity vαdesire , which in the context of this paper will
model the way in which the shopper will proceed with doing their shopping. The force compelling
them to travel at this velocity is
fαattract = vαdesired − vα ,
where vα is the shopper’s current velocity. Calculating the (changing) desired velocity of a shopper
vαdesired as they go about their shop, is a very subtle part of this modelling procedure, and the most
open to the assumptions made on the way that people shop. A shopper entering a supermarket
has as a main goal, the desire to pick up the products on their list. Usually a shopper does not
do this randomly, nor do they usually do this with exact precision. As a consequence, whilst their
passage around the store is not completely random, it is also usually sub-optimal. As a model for
this behaviour we randomly generate a number of points in the store domain for each shopper.
These points then become their shopping list of desired items. In a perfect world each shopper
would sort their list entirely and therefore only have to travel around the aisles in the store in one
direction. We model this scenario by initially fully sorting each shoppers list by considering the
location of the items in the store along an optimal path. However in reality shoppers might forget
something, or not be infallible in their organisation, or simply not know in advance where the item
which they want to buy is in the store. (In the authors’ experience this is the rule rather than
the exception!) Hence they will often have to double back during their passage around the store.
This motion can then represented by a partially sorted list. We implement this by taking the fully
sorted list and applying a small number of random permutations to it to give a partially sorted
list. The shopper will then move around the store going from one item in this partially sorted list
to the next. Let xdesired represent the desired point of a shopper α with desired speed sα we define
the desired velocity:
xα − xdesired
vαdesired = sα
.
|xα − xdesired |
We take sα to be from a normal distribution with mean 1.4ms−1 , this follows data acquired by [15]
from measurements in shopping centres.

Supermarket Structure, Unidirectional, Bidirectional, Strict-Unidirectional
We have designed our model to implement three different supermarket structures. The first structure is a one-way system. Every shopper is told to go in one direction around the shop. However in
this system shoppers do go back on themselves. The second structure is a two-way system where
shoppers are allowed to travel either way around the supermarket. The final structure, a strict
one-way structure. In this system if a shopper had to turn back more than 1m they don’t break
the rules and they go all the way around the loop again. We believe this is less realistic. Note that
if shoppers’ lists were fully sorted both one way systems would be identical. In Figure 1 we display
the path of an individual in an empty aisle under different supermarket structures.

7

Sorted shopping list

Partially sorted bidirectional

Partially sorted strict unidirectional

Figure 1: Plots of the path of a single shopper moving around a looped aisle with differing shopping
structures: sorted, partially sorted bidirectional, partially sorted strict unidirectional.
We presume that each shopper is guided by their partially ordered list as follows. They are initially
attracted to the position of the first item on the list. When they get within 1m of this item then at
every time step they pick up this item with probability p. This models the empirical observation
that shoppers may take some time to decide which precise item they want to buy. Once they pick
up that item they are then attracted to the second item in their list and this continues until the
list is complete. In our model we monitor the progress of the shoppers. This is defined to be the
number of items a shopper has picked up in the time-frame during which the model is run.

2.1.2

Viral exposure

We next consider calculating the viral dose of customers in the supermarket as they move through
the store.
In our model, we will consider that one (random) individual is deemed to be infected. The infected
individual is asymptomatic. This information originates from experiments done by [19] which agree
with previous experiments [7, 9, 20].
The density of the viral particles.
We next make the assumption that the viral density is proportional to r−2 , where r is the distance
from the infected individual. This assumes that the viral particles disperse uniformly with distance,
that is there is an equal number of viral particles in every one metre annulus around the infected
individual. A better understanding of the mechanics of the Covid-19 particle transmission in the
air will naturally lead to improvements on this model However, later in this paper we will consider
other rules for the decay of the viral density with distance and will show that the conclusions from
the model are fairly robust to the precise details of the particle dispersion. Our model of the density
of the viral particles in the air will thus be initially:
ρ(t, r) =

Λ
particles per m3 ,
r2
8

(3)

for a suitably chosen constant Λ. We will choose Λ = 103 so that ρ(0.1m) = 105 particles per cubic
meter. This matches the experimental measurements of viral particles under normal breathing [19,
7, 9, 20].
Exposure of individuals to the viral particles.
Let V inhaled be the proportion of the surrounding air inhaled by an individual. We model the viral
dose σα inhaled by a healthy shopper α at a distance r = |xα −xinf ected | from an infected individual
located at the position xinf ected as
d
V inhaled
.
σα = Λ
dt
|xα − xinf ected |2
The average lung capacity is 6 litres [5] and the average breath rate is 12 − 20min−1 [23]. If we
assume that an individual breathes from a 1m3 volume every 4 seconds (a rate of 15 per minute),
then we can estimate V inhaled as 6×10−3 × 41 = 1.5×10−3 m3 . For every individual we define Vαinhaled
to be a value taken from a normal distribution with mean V inhaled and variance 0.25V inhaled .
This subsection describes what is only a rough estimation of the behaviour of the viral particles.
The full aerodynamic motion of viral particles is hard to simulate, we are not able to include that
in our simplified model. We have however run the exact same visualisations with viral density
proportional to 1r , r12 and r13 . Although the exact results were different for the differing exponents
we found that the comparisons of viral exposure per item were still valid and robust under the
change of exponent. One could view the viral density as a probability density of viral particles. If
the particles decay slowly or currents spread them further then an exponent larger than −2 may
be required, while if particles drop to the ground quickly then perhaps an exponent smaller than
−2 is more appropriate. This is expanded in in Section B of the supplementary materials.
obstacle were set from recommendations of well established
Every parameter except Λ, σwall and gmax
obstacle . Slightly varying
agent based models [11, 12, 17]. We ran experiments to set σwall and gmax
these values had the effect of narrowing the domain but did not change the results very much. Our
aim is to make comparisons between different shopping mechanics, the value of Λ does not alter
the comparisons that we make. We will not be using the actual values of viral exposure in our
conclusions. The domain we use for the numerical experiments is a looped aisle which models a
structured aisle based system as shown in Figure 2. This is a simplification of a supermarket. The
results stated here apply to a simple loop, further work would need to be conducted to rigorously
conclude this applies to more complicated domains.

2.2

Results

We now consider combining the above models of the crowd dynamics, and of the viral exposure,
to determine the viral dose of a typical shopper moving in the crowd. We compare the viral
exposure encountered in the different structured shopping environments discussed in the section on
supermarket structure 2.1.1.

9

Figure 2: Modelling an aisle as a corridor loop.
2.2.1

Numerical experiments

For our numerical experiments we fix the looped shopping aisle to have an area of 200m2 . We
compare three different aisle widths: 4m,3m and 2m, three different populations numbers: 7, 15, 25
and five different shopping list structures: sorted unidirectional, sorted bidirectional, partially
sorted unidirectional, partially sorted bidirectional, partially sorted strict unidirectional. We then
ran the crowd simulation model for a series of 20 visualisations at each crowd population N ,
aisle width and supermarket structure. The simulation modelled a typical shopping experience for
T = 15 minutes. The model described is implemented on MATLAB using the ODE solver ode45
[10]. We recorded the viral dose σα for each individual α the number of items picked up itemsα ,
and the viral exposure per product σα /itemsα .

Figure 3: Plots of viral exposure per item for differing shopping structures and population N = 25
in an aisle widths of 2m, 3m and 4m. We refer the reader to Figure 5 of the supplementary materials
for plots with different values of N .

2.2.2

Conclusions from the numerical experiments

For larger aisle widths (W ≤ 3 Figure 3) the different shopping mechanics made little effect on the
total viral dose σα for a given density and geometry. However the mechanics made a substantial
difference to the progress of shoppers itemsα . A strict unidirectional system was the least efficient
for shoppers while the fully sorted unidirectional system was most efficient, although perhaps a
little unrealistic. This suggests that a supermarket with larger aisle widths should choose rules
10

and regulations that increase efficiency. For narrow aisle widths (W = 2 Figure 3), bidirectional
shopping lead to higher viral doses and less efficient shopping, this was due to shoppers taking
more time to get past each other. Strict unidirectional shopping was also poor because it forces
more shoppers to pass each other.
In every simulation when shoppers travelled in one direction and were happy to turn back if
necessary the viral dose per item was lowest. However strict unidirectional shopping where shoppers
would not turn back if they had missed an item often lead to the highest values of viral dose per
item. When a shopper didn’t turn back they had to do a full loop to retrieve an incorrectly ordered
item, this meant they passed or even got stuck behind many shoppers.
Aisle width made a huge impact on viral exposure. Shoppers in a 4m or 3m wide aisle were exposed
to a factor of ten less viral particles to shoppers in a 2m aisle. For Aisle widths of 2m it is more
important that a unidirectional system is implemented. In bidirectional models of narrow aisles
shoppers struggled to move past each other, both increasing viral dose and severely decreasing
the efficiency of the shopping experience. It would be prudent for supermarkets to evaluate their
shoppers experience. If a supermarket can widen their aisles by 50 percent they could potentially
decrease viral doses experience by a factor of ten. If this is not possible the driving factor of
exposure in a supermarket appears to be time spent in the supermarket. Work should be done to
make shopping as efficient as possible. This could be done by implementing a one way system as
seen in many current supermarkets, however it should somehow be communicated or emphasised
that breaking this one way system in the name of efficiency is good. Also supermarkets would
benefit from arranging their shops in a way such that shoppers spend the least amount of time
inside. These conclusions agree with [27] that the driving factor of viral dose was time spent in the
supermarket.

2.3

Walking past an infected individual with various decay laws for the droplet
density.

The model described above also allows for simple calculations about the viral dose associated with
different possible trajectories of both the infected and the susceptible shoppers. For example, we
can ask whether it is better to walk past an infected individual, coming quite close briefly, or to
remain for a longer period of time at a safer distance. This question may be relevant when deciding
whether to allow shoppers to walk about freely, or rather to organise them into some kind of queue
or structured flow. We now consider this, and also look at the robustness of our conclusions to
changes in model concerning the rate of spread of the virus droplets.
Consider a susceptible individual who walks in a straight line past an infectious person at a relative
velocity v, passing them at a minimum distance δ. We now compare this situation with that in
which another uninfected individual remains at a constant distance D from the infectious individual
for a time T . The viral dose σ received by the moving individual is
Z ∞
Z ∞
Λ
πΛ
σm =
ρ[r(t)] dt =
dt =
,
(4)
2
2
2
δv
t=−∞
t=−∞ v t + δ
√
where r(t) = v 2 t2 + δ 2 is the distance between the infected and susceptible individuals at time t,

11

and ρ[r(t)] is given by equation (3). For the static individual the viral dose will be
σs =

ΛT
.
D2

(5)

Figure 4: Critical distance, δc , against exposure time, T , for static individual distances D = 1, 2,
3 and 4 m, as given by Eqs. (10) and (12). Panels are for γ = 1, 2, 3 and 4, where ρ ∝ r−γ .
Whether it is preferable to be static or moving depends on the ratio σm /σs (regardless of the
probability of infection given a viral dose, which we analyse below). There will thus be a critical
shortest distance δc such that it is safer to walk past than remain at a distance D from an infectious
individual:
πD2
δc =
.
(6)
vT
Note that this expression does not depend on uncertain quantities such as Λ.
In the above and in the previous subsections we have considered the density of virus in the air, ρ,
to decay with the square of the distance from the viral source. This corresponds to making the
assumption that the particles move primarily by isotropic diffusion in three dimensions. To test
the robustness of the conclusions from this assumption we now generalise equation (3) to account
for either a shorter or a longer range decay, to take the more general form:
ρ(r) =

Λ
,
rγ

(7)

with γ a constant. If the virus is only carried in relatively large droplets, which tend to fall to the
ground, then this would translate into taking a value of γ > 2. However, there is also evidence that
12

these droplets can be transported on convection currents, such as wind, air-conditioning, coughing
and sneezing. Such a transmission method would then decrease the value of γ. There are also
reports of the virus being carried, in some settings, by aerosols, such as small droplets created
by ventilation in hospitals, or other particles in polluted environments [14]. These would diffuse
further than larger droplets, making γ closer to 2. The value of γ will also depend on conditions
such as temperature and humidity. For instance, a drier environment will result in smaller droplets
which can diffuse further.
For values of γ ≥ 2, the viral doses for the static and moving individuals are, respectively given by
the expressions
ΛT
σs = γ
(8)
D
and
βγ Λ
σm = γ−1 ,
(9)
vδ
where βγ is a coefficient. The values of βγ for integer γ ∈ [2, 10] are given in Table 1. The critical
distance is therefore

 1
βγ Dγ γ−1
δc =
.
(10)
vT

Table 1: Several values of the coefficient βγ .
γ 2 3 4 5 6
7
8
9
10
βγ

π

2

π
2

4
3

3π
8

16
15

5π
16

32
35

35π
128

In the case that γ = 1, the expression in (4) diverges. We therefore consider that the total duration
of the walk is T (instead of infinity). In this case we obtain


2Λ
2vT
σm (γ = 1) =
ln
,
(11)
v
δ
which gives a critical distance


vT
δc (γ = 1) = 2vT exp −
.
2D

(12)

Note that the only uncertain quantity appearing in these expressions for the critical distance, δc , is
the decay exponent, γ. Figure 4 shows δc against exposure time T , for different values of the static
individual’s distance D and the exponent γ. The velocity is taken to be v = 1.4 m/s, which is a
normal walking speed.
As we can see, δc is quite low for T on the order of a few minutes and D of metres. For example,
in the γ = 2 case, it would be safer to walk past an infectious individual, passing at just δ = 10
cm, than to remain for T = 2 minutes at a distance of D = 2 m. Even if γ = 4, it is safer to walk
past at 50 cm than to spend 5 minutes at 2 m.

13

2.4

Probability of infection

Thus far we have only considered the viral dose to which susceptible individuals are exposed, but
ultimately we are interested in estimating whether they will become infected. Let us define P (σ)
as the probability that an individual exposed to a dose σ will be infected. To the best of our
knowledge, there are as yet no data on this probability for SARS-CoV-2, although expert opinion
seems to support the notion that there will be a minimum infectious dose (MID) of at least a
few hundred or thousand virions, and that P will increase with dose [8]. For other viruses P has
been found to follow a sigmoidal curve [2, 24]. For instance, Memoli et al. [18] exposed healthy
volunteers to different doses of influenza A/H1N1 via nasal inoculation. As we show in Section
3 of Supplementary Materials, the probability of becoming infected in these data conforms well
to a sigmoid. For instance, none of Memoli’s subjects went on to shed detectable virus when
infected with σ < 108 virions; whereas nearly 80% of them did when the dose was σ ' 1010 virions.
Assuming that the transmission mechanism for different respiratory viruses is qualitatively similar,
it seems reasonable to consider, in the absence of specific data, that P might also be sigmoidal in the
case of SARS-CoV-2. And it is possible to derive some general conclusions from this assumption.
Let us compare a situation in which a dose σ ∗ is given to each of n individuals, with one in which
a dose nσ ∗ is given to a single individual. The expected number of secondary infections will be
I1 = nP (σ ∗ ) and I2 = P (nσ ∗ ), respectively. Assuming that P is monotonically increasing and
P (0) = 0, it follows that I1 < I2 if P is convex. If P is a sigmoid function, this will be the case for
doses below the inflection point σI .
In the absence of hard data for the SARS-CoV-2 case, it is useful to consider the following heuristic
argument. At its inflection point, P is likely to be significantly greater than zero. For instance,
if P were the logistic function often used to model biological processes, P (σI ) = 50%. Hence, if
our situation of interest is such that even in the worst case scenario the probability of infection
is relatively low for any given individual, we can assume we are in the convex regime of P (i.e.
nσ ∗ < σI ). This is consistent with contact-tracing studies for SARS-CoV-2, which have found
relatively low probabilities of infection (attack rates) even among close contacts. For instance,
Bi et al. [4] report P = 12.8%, 3.0% and 0.4% for high, moderate and rare contact frequencies,
respectively. Therefore, if we assume that P is sufficiently small that we are concerned with the
convex regime, then I1 < I2 . In other words, in this situation it would be preferable to distribute
the viral dose among many individuals rather than to give it only to one.
This reasoning suggests, albeit tentatively, that in situations where the probability of infection
remains relatively low for any contact, a more random movement of people characterised by many
fleeting interactions may lead to fewer infections than constrained movement, such as structured
queuing, in which a smaller number of individuals receive a greater viral exposure.1 However, there
may be real-world circumstances in which this assumption does not hold, and in any case there
will be situations, such as when shoppers are waiting to enter the shop or to pay before leaving,
when queuing becomes inevitable. Given that these appear to be the situations of highest risk of
transmission, we go on to model them in more detail.
1

We caution that this applies to situations where interactions can be fleeting. One should not extrapolate to those
in which the interactions are necessarily longer, such as in schools or offices.

14

3

Queuing and Structured Shopping

3.1

Overview

In this section, we examine the spread of COVID-19 in a structured queue at the exit of the shop.
We consider two different models for the queuing system, and two different models for infection
within the queue, with various levels of personal protection. For the queue, we examine
1. k queues in parallel, each with a single server (as in a supermarket); and
2. one queue with k servers (as in a takeaway shop).
For the possible infections in the queue, we examine
(a) all-to-all interactions - any two individuals in the same queue have the potential to directly
spread infection to one another; and
(b) nearest neighbour only interactions - COVID-19 can only directly spread between adjacent
customers in the same queue.

3.2

Modelling Assumptions

We now briefly discuss some important modelling assumptions made regarding the shop and the
transmission behaviour of COVID-19.

3.2.1

Shop Assumptions

Capacity: In setting (ii), we have a single queue with capacity C. This capacity includes anyone
who is currently being served by one of the servers, so trivially we require C ≥ k. Note we assume
that entry is controlled so that the queue never exceeds length C. In setting (i), we have k queues
0
each with capacity C . For each queue, this capacity includes the customer being served. We
may think about this queue capacity in the supermarket setting as a hard policy adopted by shop
0
managers to prevent queuing into customer browsing space, so C would typically be on the order
of 2 or 3.
Unsafe Interactions: For this section, we examine only the spread of COVID-19 directly from person
to person. We ignore infections which may arise from, for example, the sharing of contaminated
surfaces. In addition to possible customer to customer interactions - which we assume occur either
according to regime (a) or (b) - a server and the customer they are currently serving may also
have an unsafe interaction. Finally, if we are in situation (ii) with a single queue and k servers,
we assume that servers on duty at the same time can have unsafe interactions with one another.
We take the rate at which an unsafe interaction occurs between any valid pair as ξ hour−1 , the
arrival rate into the queue as µ(t) hour−1 at time t, and the service rate of an individual server as
λ hour−1 , assuming that they are always busy.

15

Masks and Additional Safety: Our final shop-based assumption is that it is possible to mandate
that all servers wear masks, and that some form of additional shielding of servers from the shoppers
(e.g. a screen at the counter) is possible.

3.2.2

COVID-19 Assumptions

Unsafe Interactions: As discussed above, an unsafe interaction is taken to be central to the transmission of COVID-19. When an unsafe interaction occurs between an infected and an uninfected
person, we say that the probability of infection spreading is p.
Mask Protection: We assume that the probability of infection transmission will be reduced if one
or both of the people in an unsafe interaction are wearing masks. This effect will be different
depending on whether the infected or the uninfected person is wearing a mask. Formally, if the
uninfected person wears a mask, and the infected person does not, the transmission probability is
α1 p; if, instead, the uninfected person does not wear a mask, and the infected person does, the
transmission probability is α2 p; finally, if both the uninfected and infected people wear masks, the
transmission probability is α1 α2 p.
We remark that the extent of the effectiveness of mask wearing in reducing the spread of COVID-19
is a subject of much ongoing research. A pessimistic viewpoint is possible in the following theory
by letting α1 = α2 = 1, with no substantive change to the remainder of our conclusions. We do
not attempt to estimate these two values in this article.
Additional Safety: As for masks, we assume that the additional safety at the counter provides
protection by reducing infection probability. If this safety is present, the probability of transmission
becomes βp. This protection factor is the same regardless of whether the server or the shopper is
infected in the interaction. Note that if both masks and extra protection are present, we assume
that their effects are independent of transmission probability. For example, the probability of
transmission from an infected server to an uninfected customer in which both are wearing masks
and extra protection is present is taken as α1 α2 βp.
Starting Assumptions: We take the initial starting proportion of the population infected by COVID19 to be p0 . We assume that nobody is immune.

3.3

Variables of Interest

We now discuss the factors which we shall examine in our analysis of a shop queue system over
a given period of time. These variables can be divided into two types: we focus on two variables
with respect to the behaviour of the population
• ξ hour−1 , the unsafe interaction rate; and
• pM , the proportion of the shopping population who wear masks.
Our other variables concern shop policy decisions associated with the management of the queuing
system
16

• k, the number of servers in a shift;
• whether servers are mandated to wear masks or not (we label this with the indicator γS , such
that γS = 1 if servers must wear masks, and γS = 0 otherwise); and
• whether additional protection (for example, a small screen) is placed between servers and
customers. Again, we label this with an indicator, γE .

3.4

Theory

We explore, for both queuing models (i) and (ii), and both infection models (a) and (b), the
theoretical relationship between these variables and the number of shoppers who become infected
as a result of visiting the shopping queue over a period of time, say T hours of business. We
emphasise that all results in this section are subject to the assumptions discussed.
Let πi be the probability that, at equilibrium, there are exactly i people in a queue of type (ii).
For k servers and a capacity of C, the values of πi are stated in Section D of the Supplementary
Materials. Alternatively, see, e.g. [3].
Meanwhile, establishing the equilibrium probabilities for a queuing system of type (i) is a subject
of much recent interest and progress. For example, [6] have successfully derived the steady state
0
probabilities of the system when we allow C → ∞. To the best of our knowledge, the general steady
state probabilities of this queuing system are still unknown when we insist upon an arbitrary finite
capacity in each queue. If we let n1 ,...,nk be the steady state probability that there are ni people
in queue i for i ∈ {1, . . . , k}, then Lemma D.1 in Section D of the Supplementary Materials gives
0
mechanism for deriving the steady state probabilities for small C and k.
PC 0
P 0
.
.
.
For convenience in some of the later results, let j = C
n2 =0 j,n2 ,...,nk be the steady state
nk =0
probability that the first queue has exactly j customers present. Note that by symmetry of the
P 0
arrivals and services, the choice of the first queue is without loss of generality, with C
j=0 j = 1.
With these equilibrium probabilities for the length of the queue, we are in a position to find the
number of people who become infected in each queuing system and infection model pairing. We
begin with infections accrued by shoppers from other shoppers, assuming we start with a large
denominator population of potential users of the shop.
Lemma 3.1. In addition to the assumptions of Section 3.2, assume that any shoppers are infected
by servers do not spread the infection to any more shoppers before leaving the shop. Let I(T ) be the
number of shoppers who are infected by other shoppers after a time T from the large denominator
population which uses the queue in the shop, and let
q = p0 (1 − p0 )p(1 − pM + α1 pM )(1 − pM + α2 pM ).
Then

17


PC 0

ξkT
q

j=2 j j(j − 1)


PC 0

E [I(T )] = ξkT qP j=2 2j (j − 1)


πj j(j − 1)
ξT q C


Pj=2

C
ξT q j=2 2πj (j − 1)

in case (a)(i)
in case (b)(i)
in case (a)(ii)
in case (b)(ii).

Proof : See Section D of the Supplementary Materials.
We remark that the expected number of newly infected shoppers is linear in both ξ and T . This is
unsurprising, but underlines the importance of appropriate social distancing to minimise unsafe interactions. Additional precautions to reduce unsafe interactions such as minimising talking indoors
could also be taken. See, for example, [26].
Additionally, given that 0 < α1 , α2 < 1, we have that the contribution from the terms involving pM
decreases quadratically with increasing pM . For pM = 0, this contribution is trivially 1, indicating
no benefit; for pM = 1, the expected number of infected shoppers is discounted by α1 α2 . Note that
some recent efforts, such as [13], have suggested that α1 α2 could be as low as 1/36 for COVID-19.
This emphasises the possible value of mask wearing, especially when p0 is non-trivial.
We note the importance of reducing the weighted sum of the stationary probabilities in each system
in keeping the expected number of new cases as low as possible. This sum is larger if the system
is closer to full capacity most of the time. In setting (ii), for a fixed service rate µ, arrival rate λ,
and queue capacity C, it is expedient to make the number of servers k as large as possible.
We conclude our commentary on this result by comparing the two different queuing systems under
each of the two models for infection spread. Under all-to-all interactions, we note that it is preferable, according to Lemma 3.1, in almost all circumstances, to separate customers into k different
queues, each staffed by a different server. This is despite the fact that a single queue with k servers
results in a faster average service time for a given customer. This heuristic can be seen by comparing the two relevant quantities from Lemma 3.1: suppose that the reverse is true, and in fact a
single queue leads to fewer customer infections, then we have
0

0

ξkT q

C
X

j j(j − 1) > ξT q

j=2

kC
X

πj j(j − 1).

(13)

j=2

(Given that we are directly comparing the systems, we assume the same capacity in each case, so
0
that C = kC in this instance.) To further the ”worst-case” infection spread for the multiple queue
system, let us suppose the system is always as busy as possible, i.e. C 0 = 1. Therefore, as
0

kC
X
j=2

0

0

0

kC (kC + 1)(kC − 1)
j(j − 1) =
,
3

then to satisfy 13 we need that if πj > π for some π ∀j ≥ 2, then this π must satisfy
0

3(C − 1)
π<
.
0
(kC + 1)(kC 0 − 1)

18

0

We therefore see immediately that unless k ≥ 4 then for a given capacity of C = kC it is always
preferable to split the customers into separate queues which, while slower, are assumed to not to
be able to spread infection between one another. Even for k ≥ 4, the conditions under which a
single queue is preferred are strict, with the queue almost always empty, in contrast to the system
of k queues which are almost always full. Given that arrival and service rates can vary considerably
over the course of trading, under an all-to-all infection assumption, single-server queues should be
preferred to a single, multiple-server queue.
We now look at nearest-neighbour only infections, using the same heuristic comparison between
the two choices of queue management. Suppose that k separate queues will again lead to more
customers becoming infected, so that we have
0

ξkT q

C
X

0

2j (j − 1) > ξT q

j=2

kC
X

2πj (j − 1).

(14)

j=2

As per the previous analysis, using 14, taking C 0 = 1 and πj > π ∀j ≥ 2, we attain
0

π<

2(C − 1)
.
C 0 (kC 0 − 1)

This inequality is much less severe than for the all-to-all setting. Therefore, in the nearest-neighbour
setting under certain circumstances (for instance, when a single queue leads to much shorter waiting
times for the average customer), a single queue may be preferable to multiple queues, particularly
0
if both C and C are large.
Therefore, our advice from this result is that, if socially distancing customers may be difficult to
constantly monitor, or if the layout of the shop precludes an assumption of only neighbours in a
queue infecting one another, then multiple queues should be preferred. If, however, the queuing
system is in a safer location which guarantees social distancing between customers with low risk of
infections between non-neighbours in a queue (for example, a well-marked outdoor queuing area)
then the analysis is less clear-cut.
We now examine the number of servers who become infected within a given period of time under
each queuing system and infection model.
Lemma 3.2. Suppose k ∗ is the number of servers who are infected at the time t = 0 in queuing
system (i). Then, the expected number of newly infected servers in time T is the largest l ∈ N such
that
 0

0
!
l−1
C
C
k
X
X
X
X
1
≤ ξT 
...
1 {ni > 0} n1 ,...,nk  ,
(15)
Q(k ∗ + i, k)
i=0

nk =0

n1 =0

i=1

where
Q(b, k) =

k−b
pp0 (1 − γE + γE β)(1 − γS + γS α1 )(1 − pM + pM α2 )
k

for b < k.
Proof : See Section D of the Supplementary Materials.
19

Note that in Section D of the Supplementary Materials, we give a corollary to this result on the
number of customers who become infected by infected servers under a queue system of type (i).
(See Corollary D.1.4.)
We now turn to queuing system (ii), and examine the number of infected servers in a single queue
with k servers.
Lemma 3.3. Suppose k ∗ is the number of servers who are infected at the time t = 0 in queuing
system (ii). Then, the expected number of newly infected servers in time T is the largest l ∈ N such
that
!
 
l−1
k−1
X
X
1
k
≤ ξT
+k−
(16)
(k − i)πi ,
P (k ∗ + i, k)
2
i=0

where

k
2

( )+k−

i=0

Pk−1

i=0 (k−i)πi
P (b, k)
(k−b)p

is equal to

(
)
k−1
X
p0
b(1 − γS + γS α1 α2 ) + (1 − γE + γE β)(1 − γS + γS α1 )(1 − pM + pM α2 ) k −
(k − i)πi ,
k
i=0
for b < k.

Proof : See Section D the Supplementary Materials.
Again, note that the Supplementary Materials contain a corollary to this result on the number of
customers who become infected by infected servers. (See Corollary D.1.3.)
Lemmas 3.2 and 3.3 (and Corollaries D.1.4 and D.1.3) indicate the importance of mandating masks
for servers for small α1 and α2 , as well as installing additional safety between the servers and the
shoppers. Letting γS = 1, we see that both P (b, k) and Q(b, k) are discounted by at least α1
compared to when γS = 0, while fixing γE . Letting γE = 1, we see that both P (b, k) and Q(b, k)
are discounted by β compared to when γE = 0, while fixing γS . Therefore, if both masks and
extra protection are mandated for servers, we can think of the exposure that they get from the
shoppers (and each other) as equivalent to that received over a much shorter length of time in a
no-protection environment.
We conclude our analyses of these lemmas on interactions involving servers with a comparison
between the two queuing systems. To examine which system leads to fewer servers becoming
infected, note that if we let
 0

0
!
C
C
k
X
X
X
Q0 (b, k) := Q(b, k) 
...
1 {ni > 0} n1 ,...,nk  ,
nk =0

n1 =0

i=1

and
!
 
k−1
X
k
P 0 (b, k) := P (b, k)
+k−
(k − i)πi
2
i=0

where Q(b, k) and P (b, k) are as defined in Lemmas 3.2 and 3.3 respectively, then queue system (i)
leads to a longer time to the infection of the next server for a given b, k if Q0 (b, k) < P 0 (b, k), with
20

(ii) the safer system for servers if the reverse holds. Suppose a single queue in which servers mix
leads to a longer infection time, so that Q0 (b, k) > P 0 (b, k). This assumption leads to the inequality
0

0

C
X

...

nk =0

C
X

k
X

n1 =0

i=1

!

1 {ni > 0} n1 ,...,nk − k +

k−1
X
1 − γS + γS α2
kb
(k − i)πi >
.
p0 (1 − γE + γE β)(1 − pM + pM α2 )
i=0

We make further pessimistic assumptions in favour of the single queue system, analogous to our
heuristic discussion of customer infections above. Suppose πi > π > 0, ∀i ∈ {0, . . . , k − 1} and note
that
0

0

C
X

...

nk =0

C
X

k
X

n1 =0

i=1

!

1 {ni > 0} n1 ,...,nk − k ≤ 0.

If we let the maximum be attained, then note that
π>

2b
1 − γS + γS α2
,
(k + 1)p0 (1 − γE + γE β)(1 − pM + pM α2 )

so that we infer that multiple queues should be preferred from the perspective of protecting servers
in the following situations in particular
• when the number of already infected servers is suspected to be non-trivial;
• when the proportion of the population currently with COVID-19 is low;
• when the proportion of customers wearing masks is high;
• when extra protection (e.g. a screen) is possible for servers.
We conclude this section with two important additional caveats to these theoretical results. Firstly,
we note the importance of assuming a large population and relatively small time T . With these
assumptions, we can assume that p0 remains fixed for arriving customers throughout. In practice,
even for relatively small T , it may be the case that some shoppers return multiple times to the
same shop, with it being increasingly likely that they are infected with each return visit. We
assume implicitly in the above that this cannot happen; however, we allow for the possibility of
returning shoppers in the experiments given in the Supplementary Materials. Secondly, we remark
that, in practice, ξ will not be identical for all pairs of people in the shop. In particular, the
compliance of the shoppers to guidelines may be difficult to achieve uniformly. Given the centrality
of controlling ξ to keeping the infection rate as low as possible, even a small minority of shoppers
who do not comply with individual shop regulations could represent a significant and unnecessary
risk for everyone present in the shop, as well as future users of the shop.

4

Conclusions

In this paper we have examined the spread of COVID-19 in various shopping settings. As discussed
in Section 2, considering the viral dose accumulated by the shoppers in the worst-case scenario is
a question of critical importance. Looking only at the viral dose of susceptible individuals when
21

shopping (rather than queuing), we find that efficiency of shopping is the largest driver of viral
exposure. This is most important for shops with narrow aisles. At higher densities of people or
more compact shops, the movement of shoppers can become inhibited. Supermarkets with better
flowing layouts and a higher efficiency of shopping will be safer for individuals. One place where
flowing movement is not necessary possible in within a queue.
However, queuing is often necessary in certain situations. For such cases we find in Section 3 that
a system with a cautious denominator population and well-protected members of staff can lead
to very limited spread of COVID-19, while ensuring the shop remains economically viable. This
appears to hold even under extremely pessimistic assumptions on the behaviour of the virus.
These results are necessarily based on incomplete information and many assumptions in the model
about the physics and biology of the spread of COVID-19, and of the way that people go about
their shopping. The principles which emerge should therefore be regarded as best estimates, to be
updated when more data becomes available.

Acknowledgements This work arose initially from the discussions at a Virtual Study Group
(VSG) April 29-30th 2020, on Guiding principles for unlocking the workforce. The VSG was organised by the Virtual Forum for Knowledge Exchange in the Mathematical Sciences (V-KEMS). A
fuller description of the overall results from the VSG are given in [1]. SJ also acknowledges support
from the Alan Turing Institute under EPSRC Grant EP/N510129/1.

References
[1]

D. Abrahams et al. Guiding Principles for Unlocking the Workforce - What Can Mathematics
Tell Us? 2020. url: http://gateway.newton.ac.uk/news/2020-05-12/10198 (visited on
06/24/2020).

[2]

Palok Aich et al. “Comparative analysis of innate immune responses following infection of
newborn calves with bovine rotavirus and bovine coronavirus”. In: Journal of General Virology 88.10 (2007), pp. 2749–2761.

[3]

A. O. Allen. Probability, Statistics and Queueing Theory with Data Science Applications. 2nd.
San Diego, California, United States of America: Academic Press Inc., 2014.

[4]

Qifang Bi et al. “Epidemiology and transmission of COVID-19 in 391 cases and 1286 of their
close contacts in Shenzhen, China: a retrospective cohort study”. In: The Lancet Infectious
Diseases (2020).

[5]

B. J. Delgado and T. Bajaj. Physiology, Lung Capacity. 2019. url: https://www.ncbi.nlm.
nih.gov/books/NBK541029/ (visited on 06/19/2020).

[6]

P. S. Dester, C. Fricker, and H. Mohamed. “Stationary Distribution Analysis of a Queueing
Model with Local Choice”. In: 29th International Conference on Probabilistic, Combinatorial
and Asymptotic Methods for the Analysis of Algorithms (AofA 2018). Ed. by James Allen
Fill and Mark Daniel Ward. Vol. 110. Dagstuhl, Germany: Schloss Dagstuhl–Leibniz-Zentrum
fuer Informatik, 2018, 22:1–22:18.

22

[7]

D. A. Edwards et al. “Inhaling to mitigate exhaled bioaerosols”. In: Proceedings of the National Academy of Sciences of the United States of America 101.50 (2004), pp. 17383–17388.

[8] Expert reaction to questions about COVID-19 and viral load. https://www.sciencemediacentre.
org/expert - reaction - to - questions - about - covid - 19 - and - viral- load/. Accessed:
2020-06-19.
[9]

C. I. Fairchild and J. F. Stampfer. “Particle Concentration in Exhaled Breath”. In: American
Industrial Hygiene Association Journal 48 (11 1987), pp. 948–949.

[10]

Ernst Hairer, Christian Lubich, and Gerhard Wanner. Geometric numerical integration: structurepreserving algorithms for ordinary differential equations. Vol. 31. Springer Science & Business
Media, 2006.

[11]

D. Helbing et al. “Self-Organizing Pedestrian Movement”. In: Environment and Planning B:
Planning and Design 28.3 (2001), pp. 361–383.

[12]

Dirk Helbing and Anders Johansson. “Pedestrian, crowd, and evacuation dynamics”. In: arXiv
preprint arXiv:1309.1609 (2013).

[13]

J. Howard et al. “Face Masks Against COVID-19: An Evidence Review”. In: preprints202004.0203.v1
(2020), pp. 1–8.

[14]

Mahesh Jayaweera et al. “Transmission of COVID-19 virus by droplets and aerosols: A critical
review on the unresolved dichotomy”. In: Environmental Research (2020), p. 109819.

[15]

Tianjian Ji and Aikaterini Pachi. “Frequency and velocity of people walking”. In: Structural
Engineer 84.3 (2005), pp. 36–40.

[16]

Z. Liu et al. “A COVID-19 epidemic model with latency period”. In: Infectious Disease
Modelling 5 (2020), pp. 323–337.

[17]

R. Löhner. “On the modeling of pedestrian motion”. In: Applied Mathematical Modelling 34
(2 2010), pp. 366–382.

[18]

Matthew J Memoli et al. “Validation of the wild-type influenza A human challenge model
H1N1pdMIST: an A (H1N1) pdm09 dose-finding investigational new drug study”. In: Clinical
Infectious Diseases 60.5 (2015), pp. 693–702.

[19]

L. Morawska et al. “Size distribution and sites of origin of droplets expelled from the human
respiratory tract during expiratory activities”. In: Aerosol Science 40 (3 2009), pp. 256–269.

[20]

R. S. Papineni and F. S. Rosenthal. “The Size Distribution of Droplets in the Exhaled Breath
of Healthy Human Subjects”. In: Journal of Aerosol Medicine 10.2 (1997).

[21]

Jayme Parker et al. “Analytical sensitivity comparison between singleplex real-time PCR
and a multiplex PCR platform for detecting respiratory viruses”. In: PloS one 10.11 (2015),
e0143164.

[22]

Serge Plata et al. “RAMP Report Part 1: Calculating probabilities for the spread of COVID19 in retail environement”. In: Maths Today 56 (2020), pp. 140–142.

[23]

Maria Ragnarsdóttir and Ella Kolbrun Kristinsdóttir. “Breathing movements and breathing
patterns among healthy men and women 20–69 years of age”. In: Respiration 73.1 (2006),
pp. 48–54.

[24]

Joshua T Schiffer et al. “Herpes simplex virus-2 transmission probability estimates based
on quantity of viral shedding”. In: Journal of The Royal Society Interface 11.95 (2014),
p. 20140160.
23

[25]

S. Verma, M. Dhanak, and J. Frankenfield. “Visualizing the effectiveness of face masks in
obstructing respiratory jets”. In: Physics of Fluids 32 (6 2020), pp. 1–8.

[26]

J. Wang and G. Du. “COVID-19 may transmit through aersol”. In: Irish Journal of Medical
Science (1971-) (2020), pp. 1–2.

[27]

F. Ying and N. O’Clery. “Virus Transmission in Supermarkets”. In: RAMP Forum (2020),
pp. 1–3.

24

Assessing Risk in the Retail Environment during the
COVID-19 Pandemic

SUPPLEMENTARY MATERIALS

25

A

Results of supermarket modelling for different populations.

In this section we record graphs of viral exposure per shopping item for populations N = 7, 15, 25,
and aisle widths W = 2m,3m,4m.

Figure 5: Plots of viral exposure per item for differing shopping structures and population in an
aisle widths of 2m, 3m and 4m.

26

B

Comparison of viral density with differing exponents

In our conclusion we found that bidirectional and strict unidirectional shopping mechanics lead to
the worst viral exposure per item. While we ran these visualisations we also recorded the exposure
to individuals if the viral density has been modelled proportional to 1r , r12 and r13 , that is exponents
of −1,−2 or −3. We found that the results differed but the conclusions made were robust to these
differences. We emphasise that we are comparing different shopping mechanics and are not taking
much significance from absolute values of different mechanics. Similarly we are not comparing
absolute values between difference exponents.

Figure 6: Plots comparing results of the same simulations of 7 people with differing viral density
models.

Figure 7: Plots comparing results of the same simulations of 15 people with differing viral density
models.

27

C

Probability of Infection

In the main text we define P (σ) as the probability that an individual exposed to a dose σ will be
infected. In the absence of data on this probability for the case of SARS-CoV-2, we analyse the
results of Memoli et al. [18], who exposed healthy volunteers to different doses of influenza A/H1N1
via nasal inoculation. The dose concentration ranged from 103 to 107 TCID50 (where TCID50 is the
50% tissue culture infectious dose). The authors then made measurements of the degree to which
subjects had become infected, such as the percentages showing symptoms and shedding virus. We
can convert the dose into a viral copy number by taking into account that Memoli et al. used a
1-ml syringe to inoculate volunteers (delivering 500 µl into each nostril), and the results of Parker
et al. [21], who report that one TCID50 /ml of influenza A/H1N1 corresponds to 2, 381 ± 1, 048
virions.

Figure 8: The percentage of the subjects who became infected with influenza A/H1N1 upon inoculation with a given viral dose. Blue circles and green diamonds represent the percentage of
subjects who went on to show symptoms or to shed virus, respectively. Lines are best-fit sigmoidal
functions. Data from Memoli et al. [18], after converting from viral concentration to copy number
according to Parker et al. [21].
In Fig. 8 we see the data reported in Table 1 of Ref. [18] using Parker et al. ’s conversion, along
with least-squares best-fit sigmoid functions of the form
f (x) = 50 × {1 + tanh[α(x − β)]} ,

(17)

where x = log10 σ. Assuming that the percentage of infected volunteers – however we choose to
measure infection – can be equated with an individual probability of becoming infected, we see
that P (σ) appears to follow a sigmoid functional form in the case of influenza A/H1N1.

D

Structured Queuing Theoretical Results and Proofs

We detail here the proofs of the theoretical results from Section 3 of the main paper.

28

We start by stating the equilibrium probabilities for the number of people in the queue in the single
queue setting. Let pii be the probability that there are exactly i people in the queue, with capacity
C and k servers. Then
 µ i
1

 i! λ π0
µ i−k 1
πi =
kλ
k!


0

for 0 ≤ i ≤ k
µ k
λ

for k + 1 ≤ i ≤ C
otherwise,

π0

with

1

π0 =
Pk−1

1
i=0 i!

µ i
λ

C−k+1

+

µ
µ k 1−( kλ )
µ
λ
1− kλ

1
k!

.

For the steady-state probabilities of a multiple queue system, we give the following new result.
0

Lemma D.1. Consider a system of k parallel M/M/1 queues, each with capacity C < ∞. Let
n1 ,...,nk be the steady-state probability that there are ni people in queue i for i ∈ {1, . . . , k}, and let
ζm0 ,m1 ,...,m 0 be the steady-state probability that there are mj queues with exactly j customers, for
C

0

j ∈ {0, 1, . . . , C }, so that
n1 ,...,nk =

if mj =

1
k
m0 ,...,m

 ζm0 ,...,mC 0 ,
C

0

1 {ni = j}, for all j ∈ {0, . . . , C }. Then the ζ steady-state probabilities satisfy
0

Pk

i=1

0

C
 

X
µ
0
(mi + 1)ζm0 ,...,mi−2 ,mi−1 −1,mi +1,...,m 0
1 mC < k
+ (k − m0 ) ζm0 ,m1 ,...,m 0 =
C
C
λ
i=1
µ
+ [ζm0 +1,m1 −1,m2 ,...,m 0 + ζ0,m1 +1,m2 −1,...,m 0
C
C
λ
+ . . . + ζ0,...,0,m 0 +1,m 0 −1 ],
C −1

with ζm0 ,...,m

C

0

= 0 unless

PC 0

j=0 mj

C

= k and mj ∈ {0, . . . , k} for all j.

0

Proof of Lemma D.1: We have k parallel M/M/1 queues, each with capacity C . We work
with ζm0 ,m1 ,...,m 0 , the probability that there are exactly mj queues with j customers, for j ∈
n
o C
0
0, 1, . . . , C .

Exploiting detailed balance, we examine the starting state m0 , . . . , mC 0 .
Note that from any state, the only possible events to cause a state transition are an arrival (if the
system is not at capacity) or a departure (if the system is non-empty). The number of non-empty
queues is (k − m0 ) and so the flow out of the
 state due to departures is (k − m0 )λ. Meanwhile, the
flow out of the state due to an arrival is 1 mC 0 < k µ.
29



0
We can
reach
the
state
m
,
.
.
.
,
m
from
states
of
the
form
m0 , . . . , mi−1 − 1, mi + 1, . . . , mC 0 ,
0
C
n
o
0

∀i ∈ 1, . . . , C via a departure, whenever this is possible (i.e. whenever mi−1 ≥ 1 and mi < k).
There are, by definition, (mi + 1) possible queues from which the relevant departure may occur to
result in this state transition, and the rate of movement from each of these states is λ.

There are also states which reach m0 , . . . , mC 0 from an arrival. Note that a new customer will
always arrive into a queue of the shortest length in the system. Therefore, a customer will only
enter a queue currently of length j if there are no queues of length 0, . . . , j − 1 and at least one
queue of length j. This arrival will also increase the number of queues of length j + 1 by 1, meaning
that to have a valid arrival into a queue of length j to reach state m0 , m1 , . . . , mC 0 , we must
have that m0 = m1 = . . . = mj−1 = 0 and mj+1 > 0. The rate of movement from any arrival is µ.
Combining these arguments in the detailed balance equation for the state, we obtain
0



1 mC 0


< k µ + (k − m0 )λ ζm0 ,m1 ,...,m

C

0

=λ

C
X

(mi + 1)ζm0 ,...,mi−2 ,mi−1 −1,mi +1,...,m

C

0

i=1

+ µ[ζm0 +1,m1 −1,m2 ,...,m
+ . . . + ζ0,...,0,m

C

0

+ ζ0,m1 +1,m2 −1,...,m

+1,m 0 −1
0
C −1
C

C

0

],

P 0
where we note that states of the form ζ0,...,0,mi +1,mi+1 −1,mi+2 ...,m 0 will only be non-zero if C
j=i mi =
C
k, i.e. if m0 = . . . = mi−1 = 0, and if mi+1 ≥ 1. Indeed, we note that a transition does not alter
the number of queues present in the system, and nor can the number of queues in the system
with exactly j customers present exceed k or be less than 0. Hence, the accompanying boundary
P 0
conditions are that ζm0 ,...,m 0 = 0 unless C
j=0 mj = k and mj ∈ {0, . . . , k} for all j.
C

Dividing the above detailed balance equation through by λ gives the stated result.

*

We may use this result to state and prove Corollaries D.1.1 and D.1.2 on the behaviour of the system
when the capacity of each queue is set to 1 and 2 respectively. We start with Corollary D.1.1, on
0
the C = 1 case.
0

Corollary D.1.1. In a multiple queue system with k servers, let C = 1, and let n1 ,...,nk and
ζm0 ,m1 be as in Lemma D.1. Then

1 µ j
j!

λ
1
i=0 i!

ζk−j,j = Pk

µ i
λ

, for j = 0, . . . , k,

so that
n1 ,...,nk =
if

Pk

i=1 1 {ni

= 0} = k − j and

Pk

i=1 1 {ni

µ j
λ
Pk 1
k! i=0 i!

= 1} = j.
30

µ i
λ

,

0

Proof of Corollary D.1.1: Let C = 1. The detailed balance equation for the system reduces to


µ
µ
1 {m1 < k} + (k − m0 ) ζm0 ,m1 = (m1 + 1) ζm0 −1,m1 +1 + ζm0 +1,m1 −1 .
λ
λ
Therefore, we have
µ
ζk,0 = ζk−1,1
λ

µ
+ i ζk−i,i = (i + 1)ζk−i−1,i+1 + ζk−i+1,i−1 for i ∈ {1, . . . , k − 1}
λ
λ
µ
kζ0,k = ζ1,k−1 .
λ

µ

We can resolve this system of equations by confirming the hypothesis (by induction or otherwise)
that
1  µ l
ζk−l,l =
ζk,0 .
l! λ
P
Therefore, as ki=0 ζk−i,i = 1
ζk,0 = Pk

1

1
i=0 i!

µ i
λ

,

and so
ζk−j,j =

1
j!
Pk
i=0

µ j
λ
 ,
1 µ i
i! λ

for j = 0, . . . , k,

and so the result follows.

*

0

We now discuss the same result for small values of k when C = 2.
0

Corollary D.1.2. In a queue system of type (i), let C = 2. Letting k = 1, we obtain
1

ζ1,0,0 =
ζ0,1,0
ζ0,0,1

2
1 + + µλ
µ
= ζ1,0,0
λ
 µ 2
=
ζ1,0,0 ,
λ
µ
λ

31

and letting k = 2 we obtain
ζ2,0,0

ζ0,1,1
ζ0,2,0


2 3 µλ + 4
=
  µ 4
3
µ
+
1
+ 2 µλ + 4
λ
λ

µ 3 µ
λ
λ +1
=
ζ2,0,0
3 µλ + 4

µ 2 µ
λ
λ +2
=
ζ2,0,0
3 µλ + 4
µ 3

µ 2
λ

+ 6 µλ + 8



λ
ζ2,0,0
3 µλ + 4

µ 4 µ
1
λ
λ +
=
ζ2,0,0
2 3 µλ + 4
µ
= ζ2,0,0 .
λ

ζ1,0,1 =
ζ0,0,2
ζ1,1,0

Proof of Corollary D.1.2: In the k = 1 setting, the governing equations derived from Lemma D.1
are
µ
ζ1,0,0 = ζ0,1,0
µ λ
µ
+ 1 ζ0,1,0 = ζ0,0,1 + ζ1,0,0
λ
λ
µ
ζ0,0,1 = ζ0,1,0 .
λ

From this we obtain that
µ
ζ1,0,0
λ
 µ 2
=
ζ1,0,0
λ
1
=
2 ,
µ
1 + λ + µλ

ζ0,1,0 =
ζ0,0,1
ζ1,0,0

from which the stated result follows.

32

When k = 2, the governing equations derived from Lemma D.1 are
µ
ζ2,0,0 = ζ1,1,0
µ λ
µ
+ 1 ζ1,1,0 = 2ζ0,2,0 + ζ1,0,1 + ζ2,0,0
λ
λ
µ

µ
+ 2 ζ0,2,0 = ζ0,1,1 + ζ1,1,0
λ
λ
µ

+ 1 ζ1,0,1 = ζ0,1,1
λ
µ

µ
µ
+ 2 ζ0,1,1 = 2ζ0,0,2 + ζ1,0,1 + ζ0,2,0
λ
λ
λ
µ
2ζ0,0,2 = ζ0,1,1 .
λ

By first directly eliminating ζ1,1,0 , ζ0,0,2 and ζ0,1,1 (or otherwise) we can then resolve the steady-state
probability of each state in terms of, for instance, ζ2,0,0 , from which the result follows.

*

We now discuss the proof of Lemma 3.1 on the number of infected customers in each of the four
settings outlined.
Proof of Lemma 3.1: We begin with case (a)(ii), so that we have a single queue with all-to-all
D→E be the number of people of type E who become infected by people
unsafe interactions. Let Ia,b
of type D between times a and b.
Let C denote a customer who is not wearing a mask and CM denote a customer who is wearing a
mask. Then, if I(T ) is the number of customers infected by other customers after time T , we have
CM →CM
C→CM
CM →C
C→C
I(T ) = I0,T
+ I0,T
+ I0,T
+ I0,T
.

(18)

The number of newly infected customers is clearly dependent on the number of unsafe interactions
D→E be the number of unsafe interactions between customers of type D
between customers. Let U0,T
and customers of type E from time 0 to time T in which an infection could be passed from D to E,
and let U0,T be the total number of unsafe interactions between all customers in this time; then, if
Q(t) is the length of the queue at time t, we have that
hR
 iu
T
Q(t)
ξ
R T Q(t)
2 dt
0
P (U0,T = u) =
e−ξ 0 ( 2 )dt ,
u!
giving
E[U0,T ] = ξ

C
X
j=2

33

πj T

j(j − 1)
.
2

Next, let pD,E be the probability that a person of type D passes the infection to a person of type
E given that a person of type D and a person of type E interact unsafely; then we have
pC,C = 2p0 (1 − p0 )p
pC,CM = 2p0 (1 − p0 )α1 p
pCM ,C = 2p0 (1 − p0 )α2 p
pCM ,zCM = 2p0 (1 − p0 )α1 α2 p;
therefore, we have the conditional probability
P

C→C
I0,T

=

C→C
x|U0,T


=u =

 
u x
p (1 − pC,C )u−x ,
x C,C

which gives that
h
i
  C→C C→C

C,C
E I0,T
= E E I0,T
|U0,T = u
 C→C 
= pC,C E U0,T
= pC,C (1 − pM )(1 − pM )ξT

C
X

πj

j=2

j(j − 1)
.
2

By similar arguments, we find that
C
h
i
X
j(j − 1)
C→CM
E I0,T
= pC,CM pM (1 − pM )ξT
πj
2
j=2

C
h
i
X
j(j − 1)
CM →C
E I0,T
= pCM ,C pM (1 − pM )ξT
πj
2
j=2

C
i
h
X
j(j − 1)
CM →CM
= pCM ,CM pM pM ξT
πj
E I0,T
;
2
j=2

adding these four terms together gives the stated result for the (b)(ii) setting.
We now extend this to the single queue, nearest neighbour only setting - i.e. setting (a)(ii). Let
D→E be the number of people of type E who become infected by people of type D between times
Ja,b
a and b, under nearest-neighbour only interactions. Then, if C and CM are as above and J(T )
is the number of customers infected by other customers after time T , we have, as an analogue of
Equation 18
CM →CM
C→CM
CM →C
C→C
J(T ) = J0,T
+ J0,T
+ J0,T
+ J0,T
,
(19)
however we note that the number of unsafe interactions in the nearest-neighbour only setting, which
we now label as V0,T rather than U0,T , we have
hR
iv
T
ξ
max
{Q(t)
−
1,
0}
RT
0
P (V0,T = v) =
e−ξ 0 max{Q(t)−1,0}dt ,
v!
so that
E [V0,T ] = ξ

C
X
j=2

34

πj T (j − 1),

then the argument proceeds in the same way as before, giving that
E [J(T )] = ξT q

C
X

2πj (j − 1).

j=2

For the final two cases - in the multiple queue setting - we assume that unsafe interactions cannot
occur between two customers in different queues. Therefore, the problem reduces to considering the
number of shoppers who become infected in a given queue in the system (and then multiplying this
by k using the symmetry of the queues in the problem). Note that, by definition, the probability
that the number of people is j in a given queue in the multiple queue system is j . Therefore, by an
identical argument to the (a)(ii) setting, the number of shoppers who become infected from other
P 0
shoppers in the multiple queue, all-to-all interaction setting is ξkT q C
j=2 j j(j − 1). Meanwhile, by
an identical argument to the (b)(ii) setting, the number of newly-infected shoppers in the multiple
P 0
queue, nearest-neighbour interaction setting is ξkT q C
j=2 2j (j − 1).

*

Finally, we turn to the proofs of the results concerning the number of additional servers who become
infected within time T , and the associated customers who may be infected by servers during this
time. We begin with queuing model (ii) and Lemma 3.3.
Proof of Lemma 3.3: Given that we are assuming that the queue is at equilibrium, the number
of possible unsafe interactions at a given moment between a customer and a server is
k−1
X
i=0

iπi +

C
X

kπi = k −

k−1
X

(k − i)πi ,

(20)

i=0

i=k

that is, the expected number of servers who are occupied at a given pointin time. Note that the
number of possible unsafe interactions between two servers is trivially k2 . Hence, the expected

k
number of unsafe interactions between servers
is
ξT , while othe expected number of unsafe inter2
n
Pk−1
actions between servers and customers is k − i=0 (k − i)πi ξT , giving a total number of unsafe
n 
o
P
interactions involving at least one server within time T of ξT k2 + k − k−1
(k
−
i)π
.
i
i=0
It is important to distinguish between these two types of interaction in order to compute the
expected number of infected servers at the end of the time period. We can therefore think of the
sequence of unsafe interactions involving at least one server as the result of repeatedly tossing a
biased coin, with ”Heads” indicating an interaction between two servers and ”Tails” indicating an
interaction between a server and a customer. From the above argument, this coin will be tossed

35

ξT

n 
k
2

+k−

Pk−1

i=0 (k

− i)πi

o

in total, and at each toss
k
2

Pk−1
k
+
k
−
i=0 (k − i)πi
2
Pk−1
k − i=0 (k − i)πi
.

Pk−1
k
(k
−
i)π
+
k
−
i
i=0
2



P(Server-Server Interaction|Interaction involving Server) =
P(Customer-Server Interaction|Interaction involving Server) =

We use this recasting of the problem to infer the number of additional servers who become infected.
Suppose that b ≤ k servers are infected, then after one interaction
P (b + 1 infected Servers|Server-Server interaction) =

b(k − b)
 p(1 − γS + γS α1 α2 )
k
2

k−b
P (b + 1 infected Servers|Customer-Server interaction) =
pp0 (1 − γE + γE β)(1 − γS + γS α1 )
k
× (1 − pM + pM α2 ),
therefore after one interaction we have
b(k − b)p(1 − γS + γS α1 α2 )
×
P (b + 1 infected Servers|interaction) =

k

k
2
Pk−1
i=0 (k



k
2



− i)πi
+k−
(k − b)pp0 (1 − γE + γE β)(1 − γS + γS α1 )(1 − pM + pM α2 )
+
k
Pk−1
k − i=0 (k − i)πi
× k
Pk−1
i=0 (k − i)πi
2 +k−
2

=: P (b, k).
The number of interactions until the next server is infected is geometric with ”success” probability
P (b, k), so the expected number of interactions until the next spread of the virus to a server is
1/P (b, k). Hence, the expected number of infected servers by time T is the largest l such that
!
 
l−1
k−1
X
X
1
k
≤ ξT
+k−
(k − i)πi ,
P (k ∗ + i, k)
2
i=0

i=0

as required.

*

With the proof of Lemma 3.3 in place, we now state and prove a result on the number of shoppers
who themselves become infected by infected servers in a single queue system (in time T ).
Corollary D.1.3. Let l∗ be the largest l satisfying inequality 16 in Lemma 3.3. The expected
number of shoppers infected by the infected servers in time T is then
∗ −1
lX

i=0

pk∗ +i
+ pk∗ +l∗ R2 ,
P (k ∗ + i, k)
36

where
P
k − k−1
j
i=0 (k − i)πi
× × p(1 − p0 ) × (1 − γE + γE β)(1 − γS + γS α2 )(1 − pM + pM α1 )
pj = k 
Pk−1
k
i=0 (k − i)πi
2 +k−
and
R2 = ξT

! l∗ −1
 
k−1
X
X
k
1
+k−
.
(k − i)πi −
∗
P (k + i, k)
2
i=0

i=0

Proof of Corollary D.1.3: We again use a similar argument to the above. Suppose pj is the
probability that an additional customer becomes infected from an interaction which involves at
least one server, assuming that there are currently j infected servers. Therefore if I is the event
that the infection spreads to another customer; A is the event that the interaction is between a
server and a customer; and B is the event that the interaction is between two servers, then
pj = P(I|j servers infected ∩ A)P(A) + P(I|j servers infected ∩ B)P(B)
P
k − k−1
jp(1 − p0 )
i=0 (k − i)πi
= k
×
(1 − γE + γE β)(1 − γS + γS α2 )(1 − pM + pM α1 );
Pk−1
k
i=0 (k − i)πi
2 +k−
and so the expected number of customers infected during the period in which exactly j servers are
infected is pj /P (j, k). From this, the stated result follows.

*

The proof of Lemma 3.2 follows an almost identical argument to that presented above for Lemma 3.3.
We detail the differences below for completeness.
Proof of Lemma 3.2: Again we assume that the queue is at equilibrium, the number of possible
unsafe interactions at a given moment between a customer and a server is
0
0
!
k
C
C
X
X
X
1 {ni > 0} n1 ,...,nk ,
...
nk =0

n1 =0

i=1

which is again the expected number of servers who are occupied at a given point in time. There are,
in this setting, no possible unsafe interactions between
two servers, so the expected number of
 any

PC 0
PC 0 Pk
unsafe interactions between servers and customers is
.
.
.
1
{n
>
0}
n1 ,...,nk ξT .
i
nk =0
n1 =0
i=1
We again try to calculate the probability that an additional server becomes infected following an
unsafe interaction, given that b ≤ k servers are already infected. We see that
k−b
pp0 (1 − γE + γE β) (1 − γS + γS α1 )
k
× (1 − pM + pM α2 )

P (b + 1 infected Servers|Unsafe Interaction) =

=: Q(b, k).

37

So again the number of interactions until the next server is infected is geometric with ”success”
probability Q(b, k), so the expected number of interactions until the next spread of the virus to a
server is 1/Q(b, k). Hence the expected number of infected servers by time T is the largest l such
that
 0

0
!
l−1
C
C
k
X
X
X
X
1
≤ ξT 
...
1 {ni > 0} n1 ,...,nk  ,
∗
Q(k + i, k)
nk =0

i=0

n1 =0

i=1

as required.

*

With the proof of Lemma 3.2 in place, we state and prove a result on the number of shoppers who
become infected by infected servers during the period of time up to time T in a multiple queue
system.
Corollary D.1.4. Assume we are in queue system (i). Let l∗ be the largest l satisfying inequality 15
in Lemma 3.2. The expected number of shoppers infected by the infected servers in time T is then
∗ −1
lX

i=0

qk∗ +i
+ qk∗ +l∗ R1 ,
Q(k ∗ + i, k)

where
qj =

j
× p(1 − p0 ) × (1 − γE + γE β)(1 − γS + γS α2 )(1 − pM + pM α1 )
k

and

R1 = ξT 

0

C
X
nk =0

0

...

C
X
n1 =0

k
X

!



1 {ni > 0} n1 ,...,nk  −

i=1

∗ −1
lX

i=0

Q(k ∗

1
.
+ i, k)

Proof of Corollary D.1.4: Suppose qj is the probability that an additional customer becomes
infected from an interaction which involves a server, assuming that there are currently j infected
servers. Let I be the event that the infection spreads to another customer from a server. Then
qj = P (I|j servers infected)
j
= p(1 − p0 ) × (1 − γE + γE β) (1 − γS + γS α2 ) (1 − pM + pM α1 ) ,
k
and so the expected number of customers infected during the period in which exactly j servers are
infected is pj /Q(j, k). From this, the stated result follows.
Corollaries D.1.4 and D.1.3 again highlight the importance of mandating masks for the shoppers and
underline that the benefits of protecting servers also extends to the shoppers visiting the shop. We
38

see that setting γE = γS = pM = 1 decreases each pj and qj by a factor of 1/βα1 α2 . Additionally,
the importance of keeping k ∗ , the number of infected servers at the initial time, as low as possible,
is emphasised by these results. For example, if the servers are tested regularly before being present
in the workplace (ensuring that k ∗ ≈ 0), then the number of additional servers who become infected
in time T , as well as the number of shoppers infected as a result of using the shop, is lessened.

E

Structured Queuing Simulations

We examine the two different queuing systems with the two different infection spread models. Let
the size of the denominator population of the shop be N , and recall that
λ hour−1 − the number of customers a server can see on average in one hour
C − capacity of the queue in a single queue setting
0

C − capacity of a single queue in the multiple queue setting
k − the number of servers (in either setting)
p − the probability that COVID-19 spreads following an unsafe interaction
p0 − the starting proportion of the population infected with COVID-19
β − multiplicative factor on probability of transmission under extra protection
α1 − (reciprocal of) the protection factor when an uninfected person wears a mask
α2 − (reciprocal of) the protection factor when an infected person wears a mask.
Throughout, we fix



 
1 1 1 1
0
N, λ, C, C , k, p, p0 , α1 , α2 = 1000, 60, 12, 3, 4, , , ,
,
10 50 6 6

and we fix a very high µ(t) at all times at which the shop is open, such that the queue is almost
always at capacity. Note that in all simulations to follow, the shop was open for 12 hours per day,
1
7 days per week. We use two values of β in our simulations: β = 12 and β = 20
, in order to try and
gain an appreciation of the effect of different levels of extra safety.
Note that the above settings of the parameters should not be seen as prescriptive. We remark, for
instance, that while some authors such as [13] suggest that 1/α1 α2 = 36, it is also suspected that
α2 /α1 << 1. However, the analysis in the following may still be useful in qualitatively comparing
the number of newly-infected people for different values of pM . Other settings above should also be
seen as representing a pessimistic estimation of reality, particularly for those parameters which may
vary considerably across space. For example, the β parameter value (in shops where extra safety is
in place) will depend on the nature of the provisions in place in an individual shop, while p0 can be
affected by many geographic factors such as population density and locally-targeted interventions.
Tables 2, 3, 4 and 5 give a pessimistic estimate of the number of people who become infected given
the above parameter choices, for various different values of ξ and pM , and for β = 12 . Note that in
these simulations, unlike in the theory in Section 3 in the main paper, we also include a ‘latency
period’ immediately after people become infected. That is, when a person becomes infected with
39

COVID-19, they are unable to spread the infection others for a short period of time. Following the
work of [16], this has been taken to be 6 hours, which they suggest as a reasonable lower bound on
the timing. Here, anyone who is infected with COVID-19 continues to behave as a normal shopper,
and is as infectious after 7 hours as after 7 days. We do not assume that anyone is immune.
Each individual simulation imitates a queuing system and infection spread model pair for a week’s
activity in the shop. Prior to each simulation, each member of the denominator population (not
including servers) was infected uniformly at random with COVID-19 with probability p0 . The
simulation then computes the number of people who are infected at the end of the week who were
not infected at the beginning, including those who are infected but not yet infectious (due to the
latency effect stated above). The figures given in Tables 2-5 are then the 95% empirical quantiles
of 40 replications of the simulation in each instance.
Table 2 focuses on those instances in which extra safety is not available and servers are not compelled
to wear masks (and do not do so). Table 3 examines the cases for which extra safety is available
and in use, but servers do not need to wear masks, and uniformly opt not to do so. Table 4, by
contrast, gives the results for the setting in which extra safety is not available, but servers now
must wear masks. Finally, Table 5 records the estimates for the number of additionally infected
people under the simulations in which both extra protection and compulsory masks for servers are
in force.
The results in the tables suggest that, for the specific total capacity of the queuing system we
investigated, dividing the customers into separate queues resulted in a much lower number of newly
infected people. This is intuitive, as we assume that customers in different queues cannot have
unsafe interactions with one another. We also note that this agrees with the heuristic calculations
given in Section 3 which imply that multiple queues with single servers are generally safer - and
potentially much safer - for many values in our defined parameter space. However, we stress that
our multiple queue simulations have at most three customers in one queue at any one time, with
only four such queues in parallel, meaning that the number of possible unsafe interactions is lower
than in, for instance, a large supermarket.
The tables also indicate that for higher values of pM and lower values of ξ - corresponding to a
greater preponderance of mask wearing and more diligently observed social distancing respectively
- the fewer people become infected. Indeed, even without servers wearing masks and no extra safety
in place (Table 2), the number of people becoming infected in the single queue system is much more
in line with the negligible numbers seen for the multiple queues setting. It also appears to be the
case that having extra safety at the counter and insisting that servers wear masks has some modest
effect on the number of customers who become infected, although this appears to be marginal in
our examples due to the low number of new cases overall.
1
With these simulations in place for the β = 21 case, we now turn to the β = 20
setting, representing
a substantially more effective additional safety provision. We repeat the simulations carried out
above (omitting now the simulations which include no extra safety, to avoid repetition), retaining
the same settings for all parameters except β. We also omit the multiple queue settings due to the
very low infection spread shown even for β = 21 . Table 6 is an analogue of Table 3: the number of
new infections are recorded in the setting where servers are not mandated to wear masks but there

40

No Server Masks
No Extra Safety

ξ
1
2
4
6
12
20
30
40
50
60

pM
0
0.2
0.4
0.6
0.8
1
Single Queue - All-to-all Infections, Single Queue - Nearest Neighbour
Multiple Queues - All-to-all Infections, Multiple Queues - Nearest Neighbour
Average Number of Newly Infected
0.05, 0.05 0.05, 0.05 0.05, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.05, 1.00 1.00, 0.05 0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.05, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.05 0.00, 1.00 0.05, 0.00 1.00, 0.00 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.00, 1.00 1.00, 1.00 0.00, 1.00 1.10, 1.00 0.05, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.00, 2.00 1.05, 1.05 2.00, 1.05 1.05, 1.05 1.00, 0.00 0.00, 0.05
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.05, 2.05 3.05, 2.05 1.05, 1.00 1.00, 1.05 1.00, 0.05 0.00, 0.05
0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.05, 3.05 3.00, 2.00 1.10, 1.05 1.00, 1.05 0.05, 1.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.05, 3.05 3.00, 3.00 1.05, 1.10 1.05, 1.00 1.00, 1.00 0.05, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00
3.05, 4.05 5.00, 5.00 1.00, 2.15 1.05, 1.10 1.10, 1.05 0.05, 0.05
0.05, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.15, 5.05 3.10, 3.00 2.10, 1.05 1.10, 3.00 1.00, 1.00 1.00, 1.05
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.05

Table 2: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are No Server Masks and No Extra Safety.

41

No Server Masks
Extra Safety
β=
ξ
1
2
4
6
12
20
30
40
50
60

1
2

pM
0.2
0.4
0.6
0.8
1
Single Queue - All-to-all Infections, Single Queue - Nearest Neighbour
Multiple Queues - All-to-all Infections, Multiple Queues - Nearest Neighbour
Average Number of Newly Infected
1.00, 1.00 0.00, 0.00 0.05, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.00 0.00, 1.00 0.00, 0.05 0.05, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.00 1.00, 1.10 1.00, 0.05 0.05, 0.00 0.05, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 2.05 1.00, 2.05 1.00, 1.00 0.00, 0.00 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.00, 1.00 1.00, 1.00 1.00, 2.00 1.05, 1.00 1.00, 0.05 0.05, 0.05
0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.05 0.00, 0.00
2.00, 2.00 2.00, 1.15 2.00, 1.05 1.05, 2.00 1.00, 1.00 0.00, 0.05
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
5.00, 3.05 3.00, 2.00 1.05, 2.00 1.00, 2.05 1.05, 1.05 0.00, 0.00
0.00, 1.00 0.00, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
4.05, 2.10 3.00, 3.05 1.05, 2.00 1.15, 1.05 1.05, 1.05 1.00, 1.00
1.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
5.10, 6.00 3.00, 4.00 3.00, 2.05 1.05, 1.05 1.05, 1.00 0.05, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.05 0.00, 0.00 0.05, 0.00 0.00, 0.00
3.10, 4.00 4.00, 3.10 2.05, 2.05 2.00, 1.05 1.05, 1.05 1.00, 0.05
0.00, 0.00 0.00, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
0

Table 3: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are No Server Masks, but there is Extra Safety,
with β = 12 .

42

Server Masks
No Extra Safety

ξ
1
2
4
6
12
20
30
40
50
60

pM
0
0.2
0.4
0.6
0.8
1
Single Queue - All-to-all Infections, Single Queue - Nearest Neighbour
Multiple Queues - All-to-all Infections, Multiple Queues - Nearest Neighbour
Average Number of Newly Infected
1.00, 0.00 0.05, 1.00 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 0.05 1.00, 1.00 1.00, 0.00 0.00, 0.00 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.00, 1.00 1.00, 0.05 0.10, 1.00 0.00, 0.05 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.05, 1.00 1.00, 2.00 1.00, 0.05 0.00, 0.05 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.05 1.05, 1.00 1.00, 1.00 1.10, 1.00 0.10, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.05, 3.05 2.00, 2.05 1.05, 1.05 2.00, 2.00 0.05, 1.00 0.00, 1.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00
3.05, 2.05 3.00, 2.00 2.05, 2.05 1.05, 1.00 0.05, 1.00 1.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
4.00, 3.05 2.05, 3.00 2.00, 4.00 1.00, 1.05 1.05, 1.00 1.00, 1.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
4.05, 4.05 2.00, 2.05 2.05, 2.00 2.00, 1.05 2.00, 1.00 1.00, 1.05
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
5.05, 5.00 3.00, 2.10 2.00, 2.05 2.00, 2.05 1.00, 1.05 1.00, 1.00
0.00, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00

Table 4: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are Server Masks, but no No Extra Safety.

43

Server Masks
Extra Safety
β=
ξ
1
2
4
6
12
20
30
40
50
60

1
2

pM
0.2
0.4
0.6
0.8
1
Single Queue - All-to-all Infections, Single Queue - Nearest Neighbour
Multiple Queues - All-to-all Infections, Multiple Queues - Nearest Neighbour
Average Number of Newly Infected
0.00, 1.05 0.00, 1.00 0.00, 0.05 0.00, 0.00 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 0.05 0.00, 0.05 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 0.05 1.00, 1.00 1.00, 0.00 0.00, 1.00 0.00, 0.05 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.05 1.00, 1.05 0.10, 1.00 1.00, 0.05 0.05, 0.00 0.00, 0.00
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
2.05, 3.00 1.00, 1.05 1.00, 1.00 1.05, 1.05 0.05, 0.05 0.00, 1.00
0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
4.05, 2.15 2.05, 1.00 1.05, 1.05 2.00, 1.00 1.00, 1.05 0.05, 0.05
0.05, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.10, 4.05 3.00, 2.05 2.00, 2.00 1.05, 1.05 0.00, 1.00 0.00, 1.00
0.00, 1.00 0.00, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.05, 4.10 2.00, 3.05 1.15, 3.00 2.00, 2.05 1.00, 1.00 0.00, 1.00
0.00, 0.00 0.00, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
3.05, 4.00 2.00, 2.10 3.00, 2.00 1.05, 2.00 1.00, 1.00 0.05, 0.05
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
5.20, 4.00 3.00, 2.05 2.05, 2.05 1.05, 1.10 1.10, 1.15 0.05, 1.00
0.00, 0.00 0.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
0

Table 5: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are both Server Masks and Extra Safety, with
β = 12 .

44

No Server Masks
Extra Safety
1
β = 20
ξ
1
2
4
6
12
20
30
40
50
60

pM
0
0.2
0.4
0.6
0.8
Single Queue - All-to-all Infections, Single Queue - Nearest
Average Number of Newly Infected
0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.00, 0.05 0.00, 1.00 1.00, 0.05 0.00, 0.00 0.00, 0.00
0.00, 0.00 0.00, 1.00 0.00, 0.05 0.00, 0.00 1.00, 0.00
1.05, 0.00 1.00, 1.00 0.00, 1.00 0.00, 0.05 0.00, 0.05
1.05, 1.00 1.00, 1.00 1.00, 0.05 0.00, 0.00 0.00, 0.00
1.00, 2.00 1.00, 1.00 1.00, 1.00 0.05, 1.00 0.05, 1.00
2.00, 2.00 1.00, 1.00 1.00, 1.00 1.00, 1.00 1.00, 0.05
1.05, 2.00 1.00, 1.05 1.00, 1.00 1.00, 1.00 1.00, 0.05
1.05, 1.05 1.00, 1.00 1.05, 1.00 1.00, 0.05 1.00, 1.00
1.05, 1.05 1.00, 1.00 1.00, 2.00 1.00, 1.00 0.00, 1.00

1
Neighbour
0.00,
0.00,
0.00,
0.00,
0.00,
0.00,
0.05,
0.05,
0.00,
0.00,

0.00
0.00
0.00
0.00
0.00
0.00
0.05
0.05
0.00
1.00

Table 6: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are No Server Masks, but there is Extra Safety,
1
with β = 20
.
is additional safety in all four queue systems/infection model pairs. Table 6 differs from Table 3
1
in that the protection afforded from the additional safety now gives a discount factor of β = 20
on
1
transmission probability, rather than 2 as for Table 3. Meanwhile, Table 7 corresponds to Table 5
in the same way, as both tables focus on the setting in which servers are mandated to wear masks
1
and extra safety is available. However, again, Table 7 uses β = 20
.
We see by comparing Tables 6 and 7 directly to Tables 3 and 5 that by increasing the protection
factor of the extra safety provided, the number of newly-infected individuals is lessened. This
appears to hold across many values of ξ and pM .

45

Server Masks
Extra Safety
β=
ξ
1
2
4
6
12
20
30
40
50
60

1
20

pM
0.2
0.4
0.6
0.8
1
Single Queue - All-to-all Infections, Single Queue - Nearest Neighbour
Multiple Queues - All-to-all Infections, Multiple Queues - Nearest Neighbour
Average Number of Newly Infected
0.00, 0.00 0.00, 1.00 0.00, 0.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 0.00 0.00, 0.05 0.00, 1.00 0.00, 0.00 0.00, 0.00 0.00, 0.00
0.05, 1.00 1.00, 1.00 0.05, 0.00 0.05, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.00 1.00, 1.00 1.00, 0.05 0.00, 0.00 0.00, 0.00 0.00, 0.00
1.00, 1.00 1.05, 1.00 1.00, 1.00 1.00, 0.00 0.05, 0.00 0.00, 0.00
2.00, 1.00 1.00, 1.00 0.05, 1.05 1.00, 0.00 0.00, 1.00 1.00, 0.00
1.00, 2.00 1.00, 1.00 1.00, 1.00 1.00, 1.00 0.05, 0.05 0.00, 0.00
2.00, 1.00 1.05, 2.00 1.00, 1.00 1.05, 1.00 0.00, 1.00 0.00, 1.00
1.00, 1.00 2.00, 1.05 1.00, 1.00 1.00, 1.00 1.05, 1.00 0.05, 0.05
1.00, 1.00 1.00, 1.05 1.00, 1.05 1.00, 1.00 0.05, 1.00 1.00, 1.00
0

Table 7: The number of people who become infected over the course of one week in the shop; values
indicate 95% empirical quantiles across 40 repetitions for all four settings. Clockwise from top left
in each cell, we have the single queue with all-to-all interactions; the single queue with nearest
neighbour interactions; multiple queues with nearest neighbour interactions and multiple queues
with all-to-all interactions. In all simulations, there are both Server Masks and Extra Safety, with
1
β = 20
.

46

