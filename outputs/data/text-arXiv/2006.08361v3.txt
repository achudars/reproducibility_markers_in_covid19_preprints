An Unsupervised Machine Learning Approach to Assess the ZIP Code Level
Impact of COVID-19 in NYC

arXiv:2006.08361v3 [cs.CY] 18 Sep 2020

Fadoua Khmaissia 1 Pegah Sagheb Haghighi 1 Aarthe Jayaprakash 2 Zhenwei Wu 3 Sokratis Papadopoulos 4
Yuan Lai 5 Freddy T. Nguyen 5 6

Abstract
New York City has been recognized as the world’s
epicenter of the novel Coronavirus pandemic. To
identify the key inherent factors that are highly
correlated to the Increase Rate of COVID-19 new
cases in NYC, we propose an unsupervised machine learning framework. Based on the assumption that ZIP code areas with similar demographic,
socioeconomic, and mobility patterns are likely to
experience similar outbreaks, we select the most
relevant features to perform a clustering that can
best reflect the spread, and map them down to
9 interpretable categories. We believe that our
findings can guide policy makers to promptly anticipate and prevent the spread of the virus by
taking the right measures.

1. Introduction
The World Health Organization has declared the novel Coronavirus as a global pandemic (Organization et al., 2020).
NYC is is one of the hardest-hit cities worldwide. Lockdown and social distancing have brought urban life to a
halt. Based on the current information provided by (Dowd
et al., 2020; Garg, 2020; Kraemer et al., 2020), demographic
and health characteristics as well as mobility factors can
contribute to an increased risk of getting the virus. Therefore, an early identification of the risk-prone areas based
on these features is essential. In addition to understanding
the link between these characteristics and COVID-19 cases,
1

Department of Computer Science and Engineering, University
of Louisville, KY, USA 2 School of Information Studies, Syracuse University, NY, USA 3 John A. Paulson School of Engineering and Applied Sciences, Harvard University, MA, USA 4 New
York University, NY, USA 5 Massachusetts Institute of Technology, MA, USA 6 Mount Sinai Hospital, NY, USA. Correspondence to: <f0khma01@louisville.edu, p0sagh01@louisville.edu,
Ajayapra@syr.edu, zwu2@g.harvard.edu>.
Proceedings of the Healthcare Systems, Population Health, and the
Role of Health-Tech (HSYS) workshop at the 37 th International
Conference on Machine Learning, Vienna, Austria, PMLR 108,
2020. Copyright 2020 by the author(s).

this kind of studies can be very beneficial for setting policy
measures, especially in case of return-to-normal plans.
The goal of this paper is to determine patterns of ZIP codelevel increase in number of new COVID-19 cases in megacities like NYC by combining clustering and feature selection
techniques.

2. Motivations
Several solutions have been introduced in order to leverage
the existing machine learning tools and tackle many aspects
of the COVID-19 crisis (Bullock et al., 2020). Only few
of them remain reliable enough to show operational impact
(Bullock et al., 2020).
In NYC, most of the existing studies were either limited to
a small number of patients (Vaid et al., 2020), (Richardson
et al., 2020), or studying the importance of just a few factors
for the outbreak (Hooper et al., 2020), (Yadaw et al., 2020).
NYC is one of the most diverse, populous, and population
dense cities in the United States. Nowadays, most of the
city’s operations are based on data-driven governance and
automated procedures. Unlike many other cities, NYC has
succeeded over the last few years in making an immense
quantity of its data more publicly available and actionable
(Howard, 2014). This offers a great opportunity for the
data-driven fight against the Coronavirus pandemic. For
instance, performing feature selection in this context can
be very useful. In fact, NYC can serve as a starting point
to model and understand the spread of the pandemic. The
obtained findings can be extrapolated to other regions with
similar patterns.
Taking these factors into consideration, we propose an unsupervised machine learning approach that, starting from a
large set of features that are aggregated from different NYC
datasets, aims to identify the key factors that can best model
the spread of the virus at the ZIP code level.
This research would also serve as a framework for future
studies and accelerate both the geo-modeling and the forecasting of the pandemic’s immanent risk.

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Figure 1. Proposed pipeline

3. Dataset and Proposed Approach
3.1. Dataset
Based on previous studies on factors that contribute to an
increased infection risk (Dowd et al., 2020; Garg, 2020;
Kraemer et al., 2020), we quantify relevant variables from
the following datasets:
The US census data for NYC between the year 2013-2018
at the ZIP code level which consists of 177 ZIP codes and
236 features. Some of the features in the Census data include: Basic population characteristics, household composition, household size, etc. This dataset was retrieved from
BigQuery1 . The COVID dataset2 was collected from April
4th , 2020 till May 19th , 2020. This dataset consists of the
total number of positive cases per ZIP code for each day.
The NYC subway dataset from 2013-2018 was retrieved
from BigQuery3 . We calculated and included features for
the total number of stations and average ridership per ZIP
code. The Citibike dataset4 from 2013-present includes the
start station and the end station along with their respective
latitude and longitudes. We calculated and included features
for total number of trips to and from each ZIP code for
the month of March, 2020. The above-mentioned datasets
are merged based on the ZIP code. It is worth noting that
another feature called population density is also added. The
population density is calculated by dividing using the total
populations by the land area.
3.2. Proposed Approach
Based on the assumption that regions with similar social and
demographic behaviors are more likely to exhibit similar
COVID-19 outcomes, we propose to investigate how the
daily increase rate of new COVID-19 cases varies across
ZIP codes in NYC.
We define our target as the the Average Daily Increase Rate
1

http://bigquery.cloud.google.com/
https://github.com/nychealth/coronavirus-data
3
http://bigquery.cloud.google.com/
4
https://www.citibikenyc.com/system-data

(IR) of new COVID-19 cases. For each given ZIP code, IR
is calculated as follows:
P
N ewCases(d + 1) − N ewCases(d)
IR = d
(1)
ND
where d ∈ Day1 , .., DayND −1 and ND is the total number
of recorded days.
IR reflects the degree of acceleration of the spread of
COVID-19 cases. We use it to select the most relevant
features for our clustering as well as to assign the cluster
IDs. Basing our study on this target can help us assess the
risk of an outbreak in a given geo-unit.
The main goal of this study is to find the optimal clusters’ partition that better reflects the Increase Rate trends.
The proposed unsupervised machine learning pipeline is depicted in Figure 1. After collecting and pre-processing the
data as discussed in section 3.1, we perform feature selection using Lasso technique (Fonti & Belitser, 2017) which,
by taking into account the target variable, sets the weights
of irrelevant features to zero based on L1 regularization.
We also perform RReliefF (Robnik-Šikonja & Kononenko,
1997) which estimates the strong dependencies between features and removes redundancy. The final set of features is
then obtained using the union of the two selected subsets.
The optimal selected subset of features is then used for clustering. Afterwards, features within this subset are grouped
into different categories (Age, Mobility, Race, etc) which
will be embedded into a 1D dimension using t-SNE (Maaten
& Hinton, 2008) to better interpret the clusters behaviors.
For the reported results, we used k-means clustering (MacQueen et al., 1967). The number of clusters k was selected based on the Elbow method (Kodinariya & Makwana,
2013).

4. Results and Key Findings
4.1. Results

2

After performing feature selection and combining the two
subsets selected by Lasso and RReliefF, we were able to
reduce the original 245 input features to just 150. Next, we

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Figure 2. Geo-visualization of NYC ZIP codes colorcoded by Cluster ID

Figure 3. Boxplots for the COVID-19 Increase Rates as
grouped by cluster ID

Table 1. Factors assigned to the sub-categories of the selected feature subsets
dwellings, no cars, more than two cars, commuters by bus, commute < 15 minutes,
commute > 15 minutes, worked at home, station count, number of inbound trips,
Mobility
number of outbound trips, average number riders
Race
white population, black population, asian population, hispanic population, other race
Education
associates degree, bachelors degree, high school diploma, college < 1 year, masters degree
male population, female population, median age, female > 50 years old,
Age and Gender
female < 50 years old, male > 50 years old, male < 50 years old
Family
single, married, divorced, widowed, parents with young children, single parent with children
Income
median income, income < 100k, income > 100k, income per capita
employed population, unemployed population, public administration, retail trade
transportation, natural resources construction, armed forces,
Occupation
education health social, manufacturing
Household
households, housing units, occupied housing units, vacant housing units
General Demographics
population density

results in terms of separation and compactness. In fact, the
similarity of the Increase Rate between ZIP codes within
the same cluster is maintained over time. Moreover, even
though, the overall behavior is the same across the different
clusters, the IR distributions are mostly disjoint.

Figure 4. Distribution of new positive cases per cluster, overtime.

run k-means clustering using k = 6. The cluster IDs are
assigned to the different ZIP codes such that they reflect the
ranking of the average IR across each cluster’s ZIP codes.
That is, we assign the highest cluster ID to the cluster that
has the highest average IR. Figure 3 shows the distribution
of the Increase Rate within each cluster. Figure 4 depicts
how the number of positive cases has changed over time for
the obtained six clusters. This plot validates our clustering

Figure 2 illustrates the geo-visualization of our clustering
results. The map is color-coded based on the cluster IDs
assigned to each of the studied NYC ZIP codes. It also reflects the geographical proximity of ZIP codes belonging to
the same clusters. Bronx, Staten Island, East Brooklyn and
most of Queens belong to clusters 4 and 5 which exhibit the
highest IR whereas Lower Manhattan and West Brooklyn
belong to Clusters 0-3 which are characterized by a slower
spread. Even though our results were obtained based on an
unsupervised approach, they still yield a high agreement
with the statistics provided by the NYC Health Department
5
which verifies the effectiveness of our feature selection
5

https://www1.nyc.gov/site/doh/covid/covid-19-databoroughs.page

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Figure 5. Boxplots for Embedded Features grouped by cluster ID

procedure.
4.2. Key Findings
We classify the selected subset of features into 9 categories,
which we will be referring to as ”factors”, as summarized
in Table 1. In order to assess the behavior of these factors
inside the different clusters, we then define 9 levels. Each
factor level is computed using t-SNE 1D-embedding of all
the features within the corresponding category.
This approach aims to improve the interpretability of our
findings. For instance, Figure 5 displays the distribution
of factor levels within the 6 obtained clusters. We notice
that our factors succeed, to a large extent, in discriminating
between the different clusters.
4.3. Discussion
Figure 5 represents the gist of our study. Keeping in mind
that these embeddings do not reflect the actual weights nor
the behavior of the original features, we can only use them
as key indicators of which factor needs to be addressed more
in order to mitigate the spread in a given geo-unit. For instance, Clusters 4 and 5 (Bronx, some areas in Queens, East
Brooklyn and Staten Island) are characterized by a relatively
high level of Mobility, Education and Occupation. These
zones have a high variability of both the Race and Income
factors. These areas also exhibit the highest daily increase

of new COVID-19 cases (Figure 3). These trends are almost reversed for areas from Clusters 0-2. Policy makers
can refer to this embedding to gauge and eventually predict
the behavior of newly affected areas. This framework can
be further improved to serve as a risk assessment tool for
COVID-19 outbreak. In the appendix we provide the geodistribution of each of the embedded feature factors across
the studied NYC ZIP codes. Readers can refer to those plots
for more insights.
Although our approach has shown promising results, it still
has some limitations that need to be considered. First, our
study is missing one month worth of records. The reason
is that NYC Department of Health and Mental Hygiene
started releasing COVID-19 statistics at a ZIP code level
only from April 1st , 2020 (Goldstein & McKinley, 2020).
Moreover, the availability of tests in NYC was disparate
and as tests became more widely accessible, the number of
positive COVID-19 cases in these areas also increased.

5. Conclusions and Future Work
We propose a model that combines Feature Selection and
clustering techniques. Our model successfully maps similarities between ZIP codes based on mobility, socioeconomic,
and demographic features with the COVID-19 daily Increase
Rate trends.
Further work will investigate the link between IR at the ZIP

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

code level and the availability of tests, PPE kits, and hospitals. Our future work will also focus on improving the model
by applying other clustering techniques and by investigating
more temporal patterns of the outbreak. Furthermore, our
selected subset of features can be used to build a predictive
model. A GUI can be designed to interactively visualize the
weighted contribution of each of the input features to the
embedded factors. This framework can further be extended
to other regions to identify risk-prone ZIP codes.

Acknowledgements
This work was one of the three winning projects selected
by the MIT COVID-19 Datathon committee 6 . The authors would like to express their gratitude to the Datathon
organizers and to the Google team who curated multiple
datasets and made them publicly available on BigQuery for
this event.
The MIT COVID-19 Datathon was a week-long virtual event
where teams of data scientists, clinicians, public health professionals and other subject matter experts come together
to develop meaningful insights leveraging existing datasets
to influence policy and decision making in the public and
private sector.

References
Bullock, J., Pham, K. H., Lam, C. S. N., Luengo-Oroz,
M., et al. Mapping the landscape of artificial intelligence applications against covid-19. arXiv preprint
arXiv:2003.11336, 2020.
Dowd, J. B., Andriano, L., Brazel, D. M., Rotondi, V., Block,
P., Ding, X., Liu, Y., and Mills, M. C. Demographic
science aids in understanding the spread and fatality rates
of covid-19. Proceedings of the National Academy of
Sciences, 117(18):9696–9698, 2020.
Fonti, V. and Belitser, E. Feature selection using lasso. VU
Amsterdam Research Paper in Business Analytics, pp.
1–25, 2017.
Garg, S. Hospitalization rates and characteristics of patients
hospitalized with laboratory-confirmed coronavirus disease 2019covid-net, 14 states, march 1–30, 2020. MMWR.
Morbidity and Mortality Weekly Report, 69, 2020.
Goldstein, J. and McKinley, J. Coronavirus in ny: Manhattan woman is first confirmed case in state. The New York
Times, 2020.
Hooper, M. W., Nápoles, A. M., and Pérez-Stable, E. J.
Covid-19 and racial/ethnic disparities. JAMA, 2020.
6

https://covid19challenge.mit.edu/datathon/

Howard, A. How data and open government are transforming nyc, 2014.
Kodinariya, T. M. and Makwana, P. R. Review on determining number of cluster in k-means clustering. International
Journal, 1(6):90–95, 2013.
Kraemer, M. U., Yang, C.-H., Gutierrez, B., Wu, C.-H.,
Klein, B., Pigott, D. M., Du Plessis, L., Faria, N. R., Li,
R., Hanage, W. P., et al. The effect of human mobility
and control measures on the covid-19 epidemic in china.
Science, 368(6490):493–497, 2020.
Maaten, L. v. d. and Hinton, G. Visualizing data using
t-sne. Journal of machine learning research, 9(Nov):
2579–2605, 2008.
MacQueen, J. et al. Some methods for classification and
analysis of multivariate observations. In Proceedings of
the fifth Berkeley symposium on mathematical statistics
and probability, volume 1, pp. 281–297. Oakland, CA,
USA, 1967.
Organization, W. H. et al. Coronavirus disease 2019 (covid19): situation report, 51. 2020.
Richardson, S., Hirsch, J. S., Narasimhan, M., Crawford,
J. M., McGinn, T., Davidson, K. W., Barnaby, D. P.,
Becker, L. B., Chelico, J. D., Cohen, S. L., et al. Presenting characteristics, comorbidities, and outcomes among
5700 patients hospitalized with covid-19 in the new york
city area. Jama, 2020.
Robnik-Šikonja, M. and Kononenko, I. An adaptation of
relief for attribute estimation in regression. In Machine
Learning: Proceedings of the Fourteenth International
Conference (ICML97), volume 5, pp. 296–304, 1997.
Vaid, A., Somani, S., Russak, A. J., De Freitas, J. K.,
Chaudhry, F. F., Paranjpe, I., Johnson, K. W., Lee, S. J.,
Miotto, R., Zhao, S., et al. Machine learning to predict
mortality and critical events in covid-19 positive new york
city patients. medRxiv, 2020.
Yadaw, A. S., Li, Y.-c., Bose, S., Iyengar, R., Bunyavanich,
S., and Pandey, G. Clinical predictors of covid-19 mortality. medRxiv, 2020.

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Appendix

Figure 6. Geo-distribution of the Race factor level between the different NYC ZIP codes

Figure 8. Geo-distribution of the Mobility factor level
between the different NYC ZIP codes

Figure 7. Geo-distribution of the Income factor level between
the different NYC ZIP codes

Figure 9. Geo-distribution of the Family factor level
between the different NYC ZIP codes

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Figure 10. Geo-distribution of the Age and Gender
factor level between the different NYC ZIP codes

Figure 12. Geo-distribution of the Household factor level between the different NYC ZIP codes

Figure 11. Geo-distribution of the General Demographics
factor level between the different NYC ZIP codes

Figure 13. Geo-distribution of the Education factor level between the different NYC ZIP codes

An Unsupervised Machine Learning Approach to Assess the ZIP Code LevelImpact of COVID-19 in NYC

Figure 14. Geo-distribution of the Occupation factor level between the different NYC ZIP codes

