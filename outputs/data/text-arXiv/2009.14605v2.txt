Disruption in the Chinese E-Commerce During COVID-19
Yuan Yuan,1 Muzhi Guan,1 Zhilun Zhou,1 Sundong Kim,2 Meeyoung Cha,2 Depeng Jin,1 Yong Li1
1

arXiv:2009.14605v2 [physics.soc-ph] 27 Oct 2020

2

Tsinghua University, China
Institute for Basic Science, South Korea

Abstract
The recent outbreak of the novel coronavirus (COVID-19)
has infected millions of citizens worldwide and claimed many
lives. This paper examines its impact on the Chinese ecommerce market by analyzing behavioral changes seen from
a large online shopping platform. We first conduct a time
series analysis to identify product categories that faced the
most extensive disruptions. The time-lagged analysis shows
that behavioral patterns seen in shopping actions are highly
responsive to epidemic development. Based on these findings, we present a consumer demand prediction method by
encompassing the epidemic statistics and behavioral features
for COVID-19 related products. Experiment results demonstrate that our predictions outperform existing baselines and
further extend to the long-term and province-level forecasts.
We discuss how our market analysis and prediction can help
better prepare for future pandemics by gaining an extra time
to launch preventive steps.

Introduction
The coronavirus disease 2019 (COVID-19) had a massive
breakout in Wuhan during the Spring Festival in 2020 and
later followed by a planetary health emergency. The novel
virus had significantly influenced people’s daily lives. Governments and the World Health Organization (WHO) have
recommended people to stay at home and avoid crowded
places. The disease dynamic was particularly rapid in China;
it spread from Wuhan to all other regions and became nearly
contained over the span of only two months.
According to the McKinsey report (Arora et al. 2020),
global citizens increased their reliance on online shopping and delivery of essential goods, compared to the prepandemic time. Under this circumstance, epidemic-related
products such as face masks and disinfectants were short in
supply, failing to meet people’s demand. Such a disruption in
the supply-and-demand could reshape online shopping patterns, not only for COVID-19 related products but also for
ordinary products. Understanding disruption in e-commerce
could benefit all stakeholders (i.e., retailers, consumers, suppliers, delivery systems, and local governments) better prepare for the next pandemic. However, due to the lack of data
or scenarios of a time-concentrated outbreak, little is known
about consumer demand in the context of epidemics.
This paper conducts an extensive analysis of online shopping trends before and during the COVID-19 epidemic from
the view of a popular e-commerce platform in China, Beid-

ian1 (Cao et al. 2020). We characterize the pandemic’s impact on the market from changes in product-level demand
and supply. First, our analysis reveals which products increased or decreased in sales (after discounting seasonal
variation), helping understand how households are coping
with the pandemic. Second, it also compares the differences
in browsing, searching, and purchasing activities towards
pandemic-related goods such as face masks, disinfectants,
and thermometers, which reveals the intricate relationship
between supply and demand. We also identify which products decreased the largest in sales to infer the causes of such
a drop. We also use time-lagged cross-correlation to quantify how shopping actions respond to the pandemic, interrogating product supply shortage. To the best of our knowledge, no other research has examined the disruptions in ecommerce at such a fine-grained level.
Based on these observations, we propose an Encoderdecoder model that leverages the online shopping behaviors
and the COVID-19 epidemic statistics to predict changes
in demand of critical goods, EnCod for short. Experiments show that both shopping and epidemic features
gathered from the past weeks are important for predicting
pandemic-relevant goods in the upcoming days. Our model
achieves higher prediction performance than baselines, and
it could be fine-tuned at the province level; each province
or city may adopt our model to understand the needs of
their citizens during a pandemic. In summary, our main
contributions are as follows:
1. We operationalize and release a dataset2 of people’s online shopping behaviors during the COVID-19 epidemic,
and its multiple features characterize the marketing
change during this period.
2. We investigate the changes of different online shopping
behaviors, including purchasing, browsing, and searching
on the platform, and examine the interplay between the
COVID-19 epidemic and consumers’ behaviors.
3. We conduct a time-lagged cross-correlation analysis
could reveal which products exhibit a demand pattern
that coaligns well with the epidemic dynamics.
4. We propose a model to forecast consumer demand on
essential product categories, and demonstrate our model’s
effectiveness with regional and long-term forecast.
1
2

www.beidian.com
https://bit.ly/3kcAEN5

Related Work
Various studies have appeared since the outbreak of COVID19 due to its unprecedented challenges for industry and
society. Researchers have studied the impact of epidemics
from multiple aspects, including transportation (Huang
et al. 2020), gender equality (Alon et al. 2020), global
poverty (Sumner et al. 2020), and stock market (Baker et al.
2020). Among those related to businesses, one study examines the online shopping food services during the government’s stay-at-home order (Chang and Meyerhoefer 2020).
Others have looked at the economic impacts of a large epidemic (Schoenbaum 1987; Meltzer, Cox, and Fukuda 1999).
However, little is known about consumer actions under a
health risk, due to the lack of data encompassing such a
time-concentrated outbreak (WTO 2020). This paper investigates the impact of the epidemic on online shopping behaviors and demand forecasting.
Several classical regression models exist in demand
forecasting, such as the autoregressive integrated moving average (ARIMA) (Contreras et al. 2003). However, these models produce accurate forecasting results
only when the sequence patterns are linearly correlated
and stationary over time (Mills 1991; Omar, Hoang, and
Liu 2016). New approaches adopt machine learning and
deep learning algorithms for prediction, such as XGBoost (Chen and Guestrin 2016) and sequence-to-sequence
(seq2seq) (Sutskever, Vinyals, and Le 2014) models. Despite
the potential, most models require mass data for training,
and how they perform under a sudden disruption is yet to be
investigated. This paper presents an encoder-decoder model
in the prediction of near-future demands towards epidemicrelated products.
During the outbreak of COVID-19, efforts are being paid
to understand COVID-19 from the perspectives of structural biology (Wrapp et al. 2020), genetics (Hoffmann et al.
2020), economics (Cornwall 2020), policy (Tian et al. 2020;
Maier and Brockmann 2020) and trend prediction (Cohen
2020). In addition to these efforts, the current study aims
to provide a picture of the COVID-19 impact seen on Chinese e-commerce and leverages both the epidemic-related
and behavior-related information to forecast the demand for
essential goods.

Data
We use two data sources. The first is from a mobile-based
shopping platform, Beidian. The platform is one of the
largest in China and has a monthly user base of 3.44 million
and an aggregate 187 million app downloads. It is a onestop-shop and offers products ranging to nearly two thousand categories. We received anonymized session logs that
span from January 1, 2019, to April 30, 2020. Each session
information contained, for every instance, the action type
(e.g., browsing, purchasing, searching), product ID, product
category, and time. At the user-level, we were also given information about the cities they reside in. In the current analysis, logs originating from Hubei province were removed
since the delivery of goods was prohibited during this area’s
lockdown. Table 1 displays the summary of data statistics.

The pre-pandemic period data in (2019 and early 2020) are
used to adjust for any seasonality pattern in post-pandemic
period data analysis.
Table 1: Summary of the Beidian e-commerce dataset.
Statistics Users Products Purchase Browse Search
Value

18M

550K

190M

8,285M 1,318M

The next data source is the daily epidemic statistics describing the newly confirmed cases within China. We combine two data sources: (1) the official reports from the Nation
Health Commission of China3 are used for all data up to January 22, 2020, and (2) the COVID-19 dashboard data by the
Center for Systems Science and Engineering at Johns Hopkins University4 are used for January 22, 2020, and onward.

Modeling Market Disruptions
Demands on specific health-related products such as face
masks and hand sanitizers are bound to increase a health
crisis, leading to a temporary surge in shopping actions. To
quantify the degree of a rank change in purchase popularity
of a product category c over a given period of t, we define
the Relative Popularity (RP ) as follows:
RP (c, t) = log10

ranking(c, t0 )
,
ranking(c, t)

(1)

where t0 is the reference time to which a target period’s popularity is compared to. We consider the first week of 2020 as
a reference point and repeatedly compute the RP value every week in 2020. This metric measures the change of popularity at the product-level and address potential confounders
such as the number of active users. The trajectory of this
value represents disruptions on the purchase before and after COVID-19.
Masks
Disinfectants
Hand sanitizers
Online course for children
Disposable utensils
Thermometers
Vitamins
Utensils
Chinese wine
Cotton clothes
Mixed nuts
Flavored milk

more popular
less popular

-1.5

-1.0

-0.5

0.0.

0.5

1.0

1.5

2.0

2.5

Relative Popularity

Figure 1: Products with the largest purchase rank change.

Popularity change by products
The most affected products. Figure 1 presents the signature categories that mark the highest and the lowest RP
3
4

http://www.nhc.gov.cn/
https://github.com/CSSEGISandData/COVID-19

(a) Purchasing (week scale)

(b) Purchasing (week scale)

(c) Browsing (week scale)

(d) Browsing (week scale)

(e) Searching (week scale)

(f) Searching (week scale)

Figure 2: Weekly popularity dynamics during the COVID-19 period. Most products in panels (a), (c) are increasing in their
relative popularity ranking, whereas most products in panels (b), (d) show decreasing popularity ranks.
values. The top seven items, from masks to vitamins, are
within the top-20 to increase purchase rank change; their
sales have surged compared to the final week of 2019. In
contrast, the bottom five items from utensils to flavored milk,
within the bottom-20, mark the largest decrease in purchase
rank change; their sales decrease the largest during the pandemic.
The top list includes epidemic-related products such as
face masks, disinfectants, hand sanitizers, and thermometers. The list also includes online course programs for children, disposable utensils, and vitamins, which could be assumed relevant during the pandemic given homeschooling,
hygiene, and immunity have become either mandatory or
important. We see (non-disposable) utensils, Chinese wine,
cotton clothes, mixed nuts, and flavored milk moving on to
the bottom list. These items are mostly within the top 100

before the pandemic. However, their purchase ranks drop by
more than ten times during the pandemic. We list the full list
of top-20 and bottom-20 product categories in the Appendix.
Weekly fluctuations. Figure 2 shows the week-by-week
RP values of the 12 prominent goods along with their fitted
lines. Here t0 is again set to the first week of 2020. Product rank is shown for all three shopping actions: browsing,
searching, and purchasing. The figure also shows the popularity trajectory of the same items in the year of 2019. We
shift the timeline for 2019 and sync the new year’s holiday
week to appear as the fourth data point, to discount seasonal
effect. Note that the studied popularity measure RP is stable and applicable to all popularity levels since it looks at
the relative rank changes in the logarithmic scale.
Products in panels (a) and (c) such as face masks, disin-

(a) Masks (week scale)

(b) Disinfectants (week scale)

(c) Hand sanitizers (week scale)

(d) Mixed nuts (week scale)

Figure 3: Weekly records of browsing, searching and purchasing on different kinds of products. Those of searching and purchasing are multiplied by ten (i.e., 1 × 105 in these figures actually represents 1 × 104 of searching and purchasing).
fectants, hand sanitizers, and thermometers show a surge in
all shopping actions from the week of January 20th.5 This
is when the lockdown of Hubei province was enforced. Face
masks, in particular, continue to remain the top-ranked item
throughout the pandemic period. The rank difference is substantially high and above 2.0 for the search action. Note that
the RP value of 2.0 indicates several hundreds of rank increases. The dashed lines, representing the identical item’s
rank changes in 2019, do not show any notable increase.
This confirms that the surges are not seasonal but unique
to 2020 (i.e., epidemic-related).
The sudden rank change for children’s online courses is
also noticeable during the pandemic’s first week. The search
action of this product, nonetheless, is not as high as other
top products. We also pay attention to the products like thermometers, vitamins, and disposable utensils whose peaks in
demand come a week or two after the disease outbreak. The
times at which each product shows the highest rank change
in demand could be used to understand what popular health
practices households adopt during the pandemic and how
much they are concerned about the disease.
In contrast, products in panels (b) and (d) show decreased
ranks in all shopping actions. Some changes, however, are
seasonal and can also be observed in 2019. For instance,
the rank order of cotton clothes and Chinese wine gradually decreases in 2019 and 2020, indicating a seasonal effect (e.g., warmer weather, wine demands decreasing after
the new year’s celebration). However, products like flavored
milk and utensils show decreased popularity only in 2020,
indicating households consume certain items less during the
pandemic. It is interesting to contrast the decreasing demand
for utensils against disposable utensils that shows a rise in
demand during the pandemic. This contrast likely arises due
5
The surge appears on the fourth data points; the fitted lines are
for visual aid and do not represent a gradual increase in popularity.

to increased efforts for hygiene.
Session counts by action type. To examine the dynamics
across the shopping actions, Figure 3 compares the session
counts for four representative products. The data shows that
shoppers engage the most frequently in browsing actions, up
to ten times more than the searching and purchasing actions.
Also shown in the figure is the number of weekly confirmed
epidemic statistics in China.
For mixed nuts, a non-epidemic product, the relative session counts across the three action types remain similar over
time. In contrast, for the other three epidemic-related goods,
searching and purchasing action rates may differ because
products may be sold out. Interestingly, browsing and purchasing actions show similar fluctuations. These distinctive
patterns are the most obvious for face masks in Figure 3(a),
where the searching action demonstrates that it continues
to be in high demand. Plots of disinfectants show a similar
trend. The plot of hand sanitizers, however, show less difference across the three shopping actions. This may be because
hand sanitizers were accessible more widely than the other
two items.

Time-lagged analysis
The temporal analysis so far has revealed the dependency
of online shopping actions to COVID-19; demand for some
products is immediate upon a health risk, but other products stagger in their rank change. This subsection examines
the time difference in detail via computing the lagged correlation between the two sequences. We compute the timelagged cross-correlation (TLCC) (Shen 2015). The method
shifts two sequences relatively in time (time-lagged) and
calculates the correlation between them (cross-correlation).
Therefore, it can analyze non-stationary time series and
quantify how the three shopping actions appear upon a pandemic. We use a rolling window to analyze different peri-

−0.8

(a) Masks

0.8
0.4
0.0
−0.4
−0.8

(b) Disinfectants

category: itamin

beha ior: purchase

Offset / day
0 1 2 3 4 5 6

−0.4

behavior: purchase

0.8
0.4
0.0
−0.4
−0.8

~01.21
~01.24
~01.27
~01.30
~02.02
~02.05
~02.08
~02.11
~02.14
~02.17
~02.20
~02.23
~02.26
~02.29
~03.03

0.0

categor : hand sanitizer
Offset / da
0 1 2 3 4 5 6

0.4

~01.21
~01.24
~01.27
~01.30
~02.02
~02.05
~02.08
~02.11
~02.14
~02.17
~02.20
~02.23
~02.26
~02.29
~03.03

Offset / day

0.8

~01.21
~01.24
~01.27
~01.30
~02.02
~02.05
~02.08
~02.11
~02.14
~02.17
~02.20
~02.23
~02.26
~02.29
~03.03

behavior: purchase

Offset / da
0 1 2 3 4 5 6

categor : disinfectant

(c) Hand sanitizers

(d) Vitamins

Offset / day

ods and set each window to be a size of 21 days, and the
lagged time is set from 0 to 6 days between the two series. Figure 4 presents the results of the time-lagged crosscorrelation (TLCC) for selected products based on the purchase log. The y-axis represents the time-difference offset
denoting the number of days that behavioral response falls
behind the epidemic spreading, and the color represents the
Pearson correlation coefficient from negative (blue) to positive (red).
The correlations are not uniform across products. Figure 4(a) demonstrates that the strong correlation between
mask purchases and epidemic development does not last
long due to falling mask supplies. This trend is shown by
dark red blocks on Jan 14, followed by blue shaded regions in the figure. Figure 4(b) in contrast, shows that disinfectant purchases closely follow the epidemic development
throughout the whole period, resulting in high correlation
(i.e., red shaded areas). We can deduce that there is no shortage of disinfectant supplies on the platform.
On the other hand, the demands of hand sanitizers(Figure 4(c)) and vitamins(Figure 4(d)) remain high until
the end of February. For example, as shown in Figure 3(c)
and 4(c), sales of hand sanitizer skyrocket by following the
epidemic development at the early stages of COVID-19. It
shows a week’s lagged response to epidemic development.
However, the lagged effect decreases over time, implying
that shopping demands become neutral to epidemic development. Furthermore, a positive relationship becomes weak
and turns to a negative. This can be interpreted as hand sanitizers are still high in demand, even after the number of
new confirmed cases decreased. Toward the end of the time
frames, the lagged positive correlation appears again, which
means that consumers have stocked enough hand sanitizers,
thus no longer purchase them.
Our data shows that correlations are found across shopping actions. Mask is a representative product that faced supply shortage during the epidemics in China. The searching
actions in Figure 5(a) show a negative correlation in the later
period of epidemics, indicating that people are still searching for masks although the COVID-19 confirmed cases is
decreasing, identified as blue shaded regions. Positive correlation appearing on the later part of Figure 5(b) can be
understood in the same context that only when the number
of confirmed patients decreased, the number of sales and the
number of confirmed cases show positive correlation.
In summary, our analysis shows that dynamic correlations
exist between online shopping behaviors and epidemic de-

Offset / day

Figure 4: Time-lagged cross-correlation results of different products with a rolling time window. The color denotes the Pearson
correlation coefficient between the two time series of corresponding behavior and newly confirmed cases.

(a) Searching on masks

(b) Purchasing on masks

Figure 5: Even when the epidemic subsided, consumer interest in searching masks remained. For preparing future epidemic, demand forecasting and inventory planning are vital
to avoid supply shortage.
velopment. We find that behaviors respond to the epidemic
in a lagged manner, but the correlation can be reversed when
there is a shortage or continued caution. These patterns
and observations inspire us to design an accurate and
explainable predictor for forecasting consumer demand on
key product categories.

Demand Forecasting and Evaluations
The analysis so far has demonstrated how COVID-19 impacted product popularity and behavioral patterns. The distinctive patterns of the purchasing and searching for critical
items like facial masks suggest that the pandemic disrupts
the supply of essential goods and leads to an imbalance of
demand and supply. The analysis also confirmed a significant correlation between shopping actions and epidemic sequences. Together, these findings suggest that many products’ purchase intent is directly affected by the epidemic development during a health crisis.
Based on the insights above, we present a Gated Recurrent Unit (GRU)-based encoder-decoder model named EnCod that leverages the epidemic information along with historical shopping behaviors to predict the demand for critical
goods. We use the data of daily confirmed cases and searching behaviors in the past two weeks to predict the number
of searches in the following n days. Figure 6 shows the detail of the prediction model. The EnCod model is based on
the GRU network (Bahdanau, Cho, and Bengio 2014). The
model takes in the concatenation of sequences of daily confirmed cases and searches as input. The encoder module extracts the historical sequence features and outputs the last
hidden states that serve as the decoder’s input. Then the decoder model generates the prediction results in the future.

Table 2: The NRMSE performance of our method compared to baselines. The results represent the prediction performance in
China except for Hubei province.
Products with increased purchase ranks (COVID-19 related)

Products with decreased purchase ranks (COVID-19 irrelevant)

Masks

Disinfectants

Hand
sanitizers

AR
ARIMA
Seq2seq
XGBoost
XGBoost-C

0.657
0.461
0.438
0.718
0.468

0.366
0.633
0.323
0.578
0.512

0.226
0.865
0.197
0.597
0.289

0.287
0.258
0.216
0.492
0.307

0.248
0.232
0.149
0.309
0.293

0.281
0.292
0.283
0.283
0.281

0.287
0.298
0.305
0.301
0.330

0.387
0.405
0.330
0.327
0.326

0.269
0.267
0.253
0.294
0.295

0.469
0.447
0.286
0.463
0.547

EnCod

0.307

0.212

0.156

0.201

0.126

0.285

0.279

0.331

0.252

0.284

Model

y#

Output (the next n days)
y#$! y#$"
y% y" y!

…

Vitamins

Thermometers

Flavored
milk

Daily
necessities

Vegetables

Mixed
nuts

Decorations

Searching sequence
in the future
GRU hidden states
Last hidden states

…
…
…
x!

x"

x%

GRU hidden states

Searching sequence
Epidemic sequence

x&$" x&$! x&

Input (the past m days)

Figure 6: The overall architecture of our proposed model
EnCod, which takes in the concatenation of epidemic and
searching sequences in the past m days and outputs the daily
number of searches in the next n days.

Performance evaluations
We compare our model with baselines of classical time series forecasting algorithms, including autoregressive (AR)
model (Mills 1991), ARIMA model (Contreras et al. 2003),
and a deep learning algorithm like Seq2Seq and XGBoost (Chen and Guestrin 2016). These methods only use
in historical shopping behaviors and predict its future. For
a fair comparison, we also use a variant of the XGBoost
model that utilizes both the historical shopping history and
epidemic statistics (which we call XGBoost-C).
We evaluate the prediction performance with the Normalized Root Mean Square Error (NRMSE) (Rocha, Cortez, and
Neves 2007). The experimental period is from January 1 to
March 31, 2020, covering the leading COVID-19 epidemic
development in China. We use historical searching logs from
the Beidian platform, and the daily confirmed cases over
the past two weeks to predict consumer demand (i.e., product searches) in the immediate week. We split the data into
the training and testing sets with a ratio of 3:1 according to
time. We train the model parameters with Adam optimizer
regularized by an early stop and set the mini-batch size 10.
The learning rate is initialized as 1e-2, which is gradually
reduced by 0.1.
Table 2 contains the prediction performance of EnCod

along with other baselines. We choose ten categories of two
groups, including both the COVID-19 related and COVID19 unrelated product categories. Products with the highest
relative popularity (RP ) such as face masks appear in the
COVID-19 related products, and those with low RP value
appear as the irrelevant group.6
The COVID-19 related group results show that adding the
epidemic statistics contributes to a substantial demand forecasting performance. This was consistent for both XGBoost
and encoder-decoder models. (Seq2Seq is a variant of our
model without the epidemic information.) Compared to the
best performing baseline, EnCod could reduce the NRMSE
value by an additional 6.9% to 34.3% in the prediction tasks
for the COVID-19 related products. However, having the
epidemic information as in XGBoost-C is not necessarily the
second-best performing alternative. Sometimes it was the
AR, ARIMA, or the Seq2Seq model that produced a good
alternative, excluding EnCod.
Next, in the comparison of COVID-19 irrelevant products,
EnCod no longer produces the best results in all prediction
tasks. EnCod is only marginally better, and the XGBoost-C
model produces the best result for flavored milk and vegetables. This means that obtaining additional epidemic statistics
is no longer helpful for items with low RP value. Among the
items, we show the results for daily necessities (e.g., toilet
paper, storage bags, kitchen supplies) and home decorations.
All other results can be found in the Appendix.
The comparison results between the two groups validate
that our method can capture the relationship between epidemic development and the demand change of essential
goods. Moreover, it verifies the usability of the metrics RP ,
which is defined to characterize the market. The prediction
results indicate that the metrics RP can distinguish the product’s relevance to an epidemic.

Regional and long-term forecasting
We now focus on a single product category, face masks, to
examine the regional and long-term forecasting capability.
To examine province-level results, we choose nine representative provinces in China considering the geography, the
distance from Hubei, and confirmed cases. We train each
province-specific model with its own confirmed cases and
6
We show the full results for all of the major product categories
in the Appendix.

Table 3: The NRMSE performance of baseline methods and our model measured in nine representative provinces in China.
Provinces nearby Hubei are marked with the ∗ sign.
Provinces

Model

∗

Beijing

Shanxi

Jilin

Zhejiang

Shanghai

Sichuan∗

Guangdong

Hunan∗

Henan∗

AR
ARIMA
Seq2seq
XGBoost
XGBoost-C

0.521
0.442
0.338
0.621
0.463

0.990
0.491
0.403
0.481
0.444

0.686
0.536
0.579
0.860
0.628

0.454
0.346
0.267
0.284
0.251

0.597
0.439
0.353
0.493
0.452

0.432
0.340
0.314
0.354
0.257

0.990
0.589
0.723
0.672
0.501

0.398
0.350
0.294
0.376
0.322

0.563
0.345
0.310
0.412
0.411

EnCod

0.315

0.334

0.349

0.245

0.278

0.271

0.377

0.269

0.280

Table 4: The NRMSE performance for long-term prediction.
Forecasting interval (n)

Model
1

3

5

7

10

14

AR
ARIMA
Seq2seq
XGBoost
XGBoost-C

0.215
0.289
0.393
0.464
0.429

0.336
0.370
0.436
0.666
0.513

0.475
0.395
0.430
0.704
0.496

0.657
0.461
0.438
0.718
0.468

0.820
0.453
0.438
0.697
0.528

0.796
0.342
0.316
0.502
0.389

EnCod

0.316

0.309

0.288

0.304

0.335

0.245

searching records to predict their citizens’ needs.
Table 3 shows the comparison of regional forecasting.
Even when learning is fine-tuned over province-level data,
EnCod still outperforms baselines in most cases. Compared
with other provinces, the EnCod model adopted in Hunan, Henan, Sichuan and Zhejiang, which are places nearby
Hubei province, delivers relatively low prediction error. It
could be explained as the epidemic more influences these
areas. Thus the effect of adding COVID-19 statistics is more
helpful and leads to better e-commerce behavior predictions.
Next, to test how well EnCod performs for a longer period
prediction, we increase the days of a forecast by changing
the n value to {1, 3, 5, 7, 10, 14}. Table 4 displays the results
from this long-term prediction. The immediate day prediction n = 1 performs better for the AR model. For n > 1,
EnCod consistently outperforms all baselines by a substantial margin. In contrast, the AR model performs poorly for
longer-term prediction, reaching an NRMSE value above 0.5
after a week or longer prediction. The ability to look beyond
a week makes the proposed EnCod model practical and applicable to study future epidemics.
To summarize, all the above results verify that our method
can be applied to global and local forecasts and long-term
forecasts of the demand for essential goods, which is crucial
and meaningful in the pandemic period. Overall, our method
can effectively improve forecasting performance, no matter
the historical records of time series are sparse or dense, no
matter how long the future is predicted, which shows the
model’s utility and robustness.

Discussion and Conclusion
The COVID-19 epidemic has exacerbated difficulties in
the sufficient supply of essential products to meet the demand and, consequently, influence people’s activities on the

e-commerce platform. This paper conducts extensive data
analysis to investigate how people’s online shopping behaviors respond to the epidemic and discover different behavioral patterns. We find out the disruption in the supply of
essential goods in this period led to changes in shopping actions (e.g., a positive rank change of search action for face
masks and other epidemic-relevant products). Therefore, we
incorporate the epidemic development statistics into demand
forecasting and present an EnCod model. The model is simple yet effective in forecasting the demand for COVID-19
related items during the epidemics.
The findings of this research have multiple implications. First, the product-level detailed shopping logs will be
anonymized and released to the research community and
serve as a critical data source to understand market disruptions during a health pandemic. Second, health professionals and e-commerce marketers can utilize the model for
predicting surges in the short-term demand for particular
goods under risks from an epidemic. Third, policymakers
can review the most relevant product goods identified in
this research to understand households’ needs. Fourth, the
encoder-decoder model (EnCod) can be utilized in domains
beyond e-commerce (such as trade data) to review the impact of COVID-19 in other sectors.
In China, the population’s proportion using mobile ecommerce is relatively high, and the country has gone
through the leading COVID-19 epidemic development during the first quarter of 2020. However, it will be necessary to determine how this analysis can be repeated in other
countries where the proportion of using mobile e-commerce
may be lower, or COVID-19 is still in progress. In the postCOVID-19 era, inventory planning and pricing of goods will
have to be decided based on multiple data sources, including
user demands. Moreover, combining other modality of mobile e-commerce (Cao et al. 2020; Chen et al. 2020) to assist
demand forecasting, in consideration of cost-effectiveness,
would also be an excellent direction to extend this work. As
the first to identify the impact of COVID-19 from this perspective of mobile e-commerce, we believe that this study
makes an important contribution to the community.

References
Alon, T. M.; Doepke, M.; Olmstead-Rumsey, J.; and Tertilt, M. 2020. The impact of COVID-19 on gender equality.
Technical report, National Bureau of Economic Research.
Arora, N.; Charm, T.; Grimmelt, A.; Ortega, M.; Robinson,
K.; Sexauer, C.; Staack, Y.; Whitehead, S.; and Yamakawa,
N. 2020. A global view of how consumer behavior is changing amid covid-19. URL http://tinyurl.com/y83vtejl.
Bahdanau, D.; Cho, K.; and Bengio, Y. 2014. Neural machine translation by jointly learning to align and translate.
arXiv Preprint arXiv:1409.0473 .
Baker, S. R.; Bloom, N.; Davis, S. J.; Kost, K. J.; Sammon,
M. C.; and Viratyosin, T. 2020. The unprecedented stock
market impact of COVID-19. Technical report, National Bureau of Economic Research.
Cao, H.; Chen, Z.; Xu, F.; Wang, T.; Xu, Y.; Zhang, L.; and
Li, Y. 2020. When Your Friends Become Sellers: An Empirical Study of Social Commerce Site Beidian. In Proceedings
of the 14th International Conference on Web and Social Media, 83–94.
Chang, H.-H.; and Meyerhoefer, C. 2020. COVID-19 and
the Demand for Online Food Shopping Services: Empirical
Evidence from Taiwan. Technical report, National Bureau
of Economic Research.
Chen, T.; and Guestrin, C. 2016. XGBoost: A scalable
tree boosting system. In Proceedings of the 22nd ACM
SIGKDD International Conference on Knowledge Discovery and Data Mining, 785–794.
Chen, Z.; Cao, H.; Xu, F.; Cheng, M.; Wang, T.; and Li, Y.
2020. Understanding the Role of Intermediaries in Online
Social E-commerces: an Exploratory Study of Beidian. In In
Proceedings of the ACM on Human Computer Interaction.
Cohen, J. 2020. Scientists are racing to model the next
moves of a coronavirus that’s still hard to predict. URL
http://doi.org/10.1126/science.abb2161.

Maier, B. F.; and Brockmann, D. 2020. Effective containment explains subexponential growth in recent confirmed
COVID-19 cases in China. Science 368(6492): 742–746.
Meltzer, M. I.; Cox, N. J.; and Fukuda, K. 1999. The economic impact of pandemic influenza in the United States:
priorities for intervention. Emerging infectious diseases
5(5): 659.
Mills, T. C. 1991. Time Series Techniques for Economists.
Cambridge University Press.
Omar, H.; Hoang, V. H.; and Liu, D.-R. 2016. A hybrid neural network model for sales forecasting based on ARIMA
and search popularity of article titles. Computational Intelligence and Neuroscience 2016.
Rocha, M.; Cortez, P.; and Neves, J. 2007. Evolution of neural networks for classification and regression. Neurocomputing 70(16-18): 2809–2816.
Schoenbaum, S. C. 1987. Economic impact of influenza: the
individual’s perspective. The American Journal of Medicine
82(6): 26–30.
Shen, C. 2015. Analysis of detrended time-lagged crosscorrelation between two nonstationary time series. Physics
Letters A 379(7): 680–687.
Sumner, A.; Hoy, C.; Ortiz-Juarez, E.; et al. 2020. Estimates
of the Impact of COVID-19 on Global Poverty. Technical
report, WIDER Working Paper 2020/43.
Sutskever, I.; Vinyals, O.; and Le, Q. V. 2014. Sequence
to sequence learning with neural networks. In Advances in
Neural Information Processing Systems, 3104–3112.
Tian, H.; Liu, Y.; Li, Y.; Wu, C.-H.; Chen, B.; Kraemer,
M. U.; Li, B.; et al. 2020. An investigation of transmission
control measures during the first 50 days of the COVID-19
epidemic in China. Science 368(6491): 638–642.

Contreras, J.; Espinola, R.; Nogales, F. J.; and Conejo, A. J.
2003. ARIMA models to predict next-day electricity prices.
IEEE Transactions on Power Systems 18(3): 1014–1020.

Wrapp, D.; Wang, N.; Corbett, K. S.; Goldsmith, J. A.;
Hsieh, C.; Abiona, O.; Graham, B. S.; and Mclellan, J. S.
2020. Cryo-EM structure of the 2019-nCoV spike in the
prefusion conformation. Science 367(6483): 1260–1263.

Cornwall, S. 2020. Social scientists scramble to study pandemic, in real time. URL http://tinyurl.com/roave7d.

WTO. 2020. E-commerce, trade and the COVID-19 pandemic. Technical report, World Trade Organization.

Hoffmann, M.; Kleine-Weber, H.; Schroeder, S.; Krüger, N.;
Herrler, T.; Erichsen, S.; Schiergens, T. S.; Herrler, G.; Wu,
N.-H.; Nitsche, A.; Müller, M.; Christian, D.; and Pöhlmann,
S. 2020. SARS-CoV-2 cell entry depends on ACE2 and
TMPRSS2 and is blocked by a clinically proven protease
inhibitor. Cell 181(2).
Huang, J.; Wang, H.; Fan, M.; Zhuo, A.; Sun, Y.; and
Li, Y. 2020. Understanding the Impact of the COVID-19
Pandemic on Transportation-related Behaviors with Human
Mobility Data. In Proceedings of the 26th ACM SIGKDD International Conference on Knowledge Discovery and Data
Mining, 3443–3450.

Appendix
This is the supplementary material for the submission 4638
to AAAI-21. We share the per-product-level logs of browsing, sales, and search logs at https://bit.ly/3kcAEN5. This
data, containing before and after e-commerce logs, will be
of great value to the research community to study the impact of a health risk such as COVID-19.

(2)

where N is the number of test samples, yi , i ∈ [1, N ] represents the ground truth, and ŷi , i ∈ [1, N ] represents the
predicted values.

Time-Lagged Cross-Correlation Results
The Modeling Market Descriptions section showed results
on time-lagged cross-correlation (TLCC). The method shifts
two sequences relatively in time (time-lagged) and calculates the correlation between them (cross-correlation).
Therefore, it can analyze non-stationary time series and
quantify how the three shopping actions appear upon a pandemic. We use a rolling window and set each window to be
a size of 21 days, and the lagged time is set from 0 to 6 days
between the two series.
The trends seen on browsing and searching are similar to
that of purchasing for snacks in Figure 7. Because the supply
has nott been affected, the behavioral response during the
epidemic is similar across different action types.

0.8
0.4
0.0
−0.4
−0.8

~01.21
~01.24
~01.27
~01.30
~02.02
~02.05
~02.08
~02.11
~02.14
~02.17
~02.20
~02.23
~02.26
~02.29
~03.03

RMSE (y, ŷ)
NRMSE(y, ŷ) =
,
ymax − ymin

behavior: browse

(b) Browsing on snacks

category: snack

behavior: search
0.8
0.4
0.0
−0.4
−0.8

~01.21
~01.24
~01.27
~01.30
~02.02
~02.05
~02.08
~02.11
~02.14
~02.17
~02.20
~02.23
~02.26
~02.29
~03.03

Among the evaluation metrics we employ, here we describe
how we compute the Normalized Root Mean Square Error
(NRMSE) (Rocha, Cortez, and Neves 2007):

categor : snack
Offset / da
0 1 2 3 4 5 6

Evaluation Metrics

(a) Purchasing on snacks

Offset / day
0 1 2 3 4 5 6

The Modeling Market Descriptions section revealed which
items saw large disruptions in purchasing during COVID19. Table 5 and Table 6 display the top-20 and bottom-20
products with their highest and lowest relative popularity.
As we aggregate data by each week, the week of January
20 will contain events related to both the Chinese new year
holiday as well as the COVID-19 lock impact.
The relative ranking RP (c, t) of COVID-19 related products became very high at the end of January. Especially
in the peak period, the corresponding absolute ranking of
masks, disinfectants, daily necessities, and hand sanitizers
were very high among thousands of items in the Beidian
platform, top-1 during the week of January 20, top-2 during
the week of February 3, top-1 during the week of January
27, top-8 during the week of January 27, respectively.

Offset / day

List of Top-Products Affected by COVID-19

(c) Searching on snacks

Figure 7: The TLCC results of searching and browsing behaviors on snacks.

Table 5: Top-20 products with the highest relative popularity. The Peak time column displays the first day of the examined
week that reached the largest rank change (i.e. arg min rank.(t)). Note that some of the purchases in the week of January 20th
t
to 26th may be related to the new year’s holiday. The city of Wuhan went through lockdown since January 23rd.
Purchasing
Product category

Browsing

rank.(t0 )

rank.

Peak time

rank.(t0 )

rank.

Peak time

rank.(t0 )

rank.

Peak time

2.44
2.35
2.20
2.19
1.95
1.86
1.80
1.71
1.70
1.62
1.48
1.36
1.33
1.32
1.30
1.22
1.18
1.16
1.10
1.08

273
448
943
466
177
364
63
408
602
784
573
530
958
710
575
167
46
892
316
48

1
2
6
3
2
5
1
8
12
19
19
23
45
34
29
10
3
62
25
4

Jan 20
Feb 3
Jan 20
Jan 20
Jan 20
Mar 2
Jan 27
Jan 27
Jan 20
Jan 27
Feb 10
Feb 3
Feb 10
Jan 20
Jan 27
Jan 27
Feb 3
Feb 24
Jan 20
Feb 24

341
607
993
398
180
528
66
565
407
783
501
746
745
711
675
214
117
994
251
115

1
2
14
4
2
14
3
4
59
45
25
37
84
61
31
13
3
84
48
12

Jan 20
Feb 3
Jan 20
Jan 20
Jan 20
Feb 17
Jan 27
Feb 10
Jan 20
Jan 27
Feb 10
Feb 3
Feb 10
Jan 20
Jan 27
Jan 27
Feb 3
Feb 24
Jan 27
Feb 24

253
476
1234
402
201
805
66
427
472
609
886
439
981
845
534
205
84
1068
132
168

1
16
406
9
3
76
4
20
307
7
574
32
972
258
24
12
13
110
12
24

Jan 20
Feb 10
Jan 20
Jan 20
Jan 20
Mar 2
Feb 3
Feb 3
Jan 20
Jan 27
Feb 10
Feb 3
Feb 17
Jan 20
Feb 3
Jan 27
Feb 3
Feb 24
Jan 20
Feb 10

t

Masks
Disinfectants
Face towels
Jewlery
Accessories
Mango
Daily necessities
Hand sanitizers
Online courses for children
Children masks
Outdoor toys
Disposable utensils
Tiny bottle sanitizers
Top-up for online entertainment
Thermometers
Vitamins
Wet tissue
Pineapple
Children hats, scarves, gloves
Root vegetables

Purchasing
Product category
Flavored milk
Mixed nuts
Cotton clothes
Chocolate
Decorations
Chinese wine
Warming clothes
Yogurt
Down jackets
Boots
Melon seeds
Snow boots
Red packets
Utensils
Thermal underwear
Traditional snacks
Apples
Snow boots for mom
Couplets
Oranges

Searching

max RP (c, t)

Browsing

Searching

min RP (c, t)

rank.(t0 )

rank.

Valley time

rank.(t0 )

rank.

Valley time

rank.(t0 )

rank.

Valley time

-1.49
-1.45
-1.31
-1.17
-1.16
-1.08
-1.07
-1.07
-1.07
-1.03
-1.02
-0.94
-0.91
-0.90
-0.84
-0.83
-0.83
-0.82
-0.81
-0.76

7
4
32
11
81
36
29
22
40
44
19
104
172
106
28
14
3
180
233
6

215
114
653
164
1171
429
341
260
467
477
199
918
1386
844
194
94
20
1197
1509
35

Jan 27
Feb 3
Feb 24
Feb 10
Feb 3
Feb 17
Mar 2
Jan 27
Feb 24
Feb 24
Jan 20
Feb 24
Mar 2
Feb 3
Feb 24
Jan 27
Jan 27
Feb 24
Mar 2
Mar 2

33
2
6
25
203
28
26
23
1
5
63
42
145
71
29
45
21
99
184
34

266
91
404
223
991
349
264
286
155
176
261
554
1377
858
186
120
79
949
1564
94

Jan 27
Feb 3
Mar 2
Feb 17
Feb 3
Feb 17
Mar 2
Jan 27
Mar 2
Feb 24
Jan 27
Feb 24
Mar 2
Feb 10
Mar 2
Jan 27
Jan 27
Mar 2
Mar 2
Jan 27

41
8
4
37
356
30
112
48
1
3
55
69
142
683
20
27
61
64
268
78

131
88
357
264
895
295
441
164
101
148
249
550
1240
960
142
96
127
769
1538
218

Feb 24
Feb 24
Mar 2
Mar 2
Feb 24
Mar 2
Mar 2
Jan 27
Mar 2
Feb 24
Jan 20
Mar 2
Mar 2
Feb 24
Mar 2
Jan 20
Jan 20
Mar 2
Mar 2
Jan 27

t

Table 6: Bottom-20 products with the lowest relative popularity. Valley time represents when to reach the lowest ranking (i.e.
arg max rank.(t)).
t

