1

Agent-Based Campus Novel Coronavirus Infection
and Control Simulation

arXiv:2102.10971v1 [cs.SI] 22 Feb 2021

Pei Lv, Quan Zhang, Boya Xu, Ran Feng, ChaoChao Li, Junxiao Xue, Bing Zhou,
and Mingliang Xu, Member, IEEE

Abstract—Corona Virus Disease 2019 (COVID-19), due to its
extremely high infectivity, has been spreading rapidly around the
world and brought huge influence to socioeconomic development
as well as people’s production and life. Taking for example the
virus transmission that may occur after college students return to
school during the outbreak, we analyze the quantitative influence
of the key factors on the virus spread, including crowd density
and self-protection. One Campus Virus Infection and Control
Simulation model (CVICS) of the novel coronavirus is designed
in this paper, based on the characteristics of repeated contact and
strong mobility of crowd in the closed environment. Specifically,
we build an agent-based infection model, introduce the mean
field theory to calculate the probability of virus transmission,
and micro-simulate the daily prevalence of infection among
individuals. The simulation experiment results show that the
proposed model in this paper fully illuminate how the virus
spread in the dense crowd. Furthermore, preventive and control
measures such as self-protection, crowd decentralization and
quarantine during the epidemic can effectively delay the arrival
of infection peak and reduce the prevalence, and thus lower
the risk of COVID-19 transmission after the students return to
school.
Index Terms—Infection model, Crowd simulation, Agent-based
simulation, Epidemic prevention and control.

I. I NTRODUCTION
T the end of 2019, the pneumonia epidemic caused by
novel coronavirus swept the world, bringing varying degrees of impact on the economy, production, life, etc [1]. The
virus spreads rapidly and widely, especially in the environment
with high crowd density and strong crowd mobility. In response to the situations, China took various counter-measures
immediately, such as extending citizen holidays, postponing
the return to work and school, and assisting the disaster areas,
which effectively reduce the impact of the spread of the virus.
To tackle the problem of suspend classes, governments around
the world proposed various distance learning programs through
modern technologies to guarantee students to continue their
education. However, due to the unsatisfactory teaching effect,
it is very important to return to school. Several common ways
of prevention on campus are shown in Figure 1. As a relatively
special group, colleges students spread all over the country,
and will contact with a large number of people on the way back

A

Pei Lv, Quan zhang, Boya Xu, Ran Feng, Chaochao Li, Bing
Zhou and Mingliang Xu are with the School of Information Engineering, Zhengzhou University, Zhengzhou 450001, China (E-mail:
ielvpei@zzu.edu.cn; quanzhang@gs.zzu.edu.cn; xuboya@gs.zzu.edu.cn; fengrancele@163.com; ieccli@zzu.edu.cn; iebzhou@zzu.edu. cn; iexumingliang@zzu.edu.cn). Junxiao Xue is with the School of Software, Zhengzhou
University, Zhengzhou 450001, China (E-mail: xuejx@zzu.edu.cn.)

(a) Keep distances
Fig. 1.

(b) Physical examination

Some of campus prevention and control measures.

to school. After return to school, students will inevitably gather
together to study and live. The above conditions will have a
negative impact on the epidemic prevention and control work,
and the large gatherings of dense crowd with strong mobility
will even accelerate spread of the epidemic [2]. Therefore,
how to manage the college students after they return to school
is a significant problem to be solved.
Regarding the spread of novel coronavirus, we can analyze their laws and trends by constructing infection models.
In most of existing models, SIR model and SEIR model,
which are based on the dynamic systems [3], are adopted
to fit the urban infection curve. However, it is a completely
different problem on campus. The university is a relatively
closed space, where a lot of contact is unavoidable [4]. The
average number of people contacted each day on campus
is different from that of urban residents. The existing urban
simulation model cannot be applied to the university environment. Besides, novel coronavirus is quite different from other
previous infectious diseases. For example, SARS and another
infamous coronavirus, which broke out in 2003, researchers
have also built models to study its infectious characteristics.
Although the incidence characteristics and other aspects of
SARS are relatively similar to COVID-19, SARS dose not
have infectiousness in the latent period, which is different
from the present one. Therefore, we cannot reuse the previous
infection models. Moreover, the existing simulation models for
large scale population are usually macroscopic, which means
that they do not focus on individuals, hence cannot reflect
the differences among individuals. The microscopic simulation
model requires consideration of attributes of each individual
in detail. As the number of individuals studied increases, the
calculation time increases significantly. As the virus spread
rapidly and widely, The simulation time is the key factor to
evaluate the model.
In response to the outbreak of coronavirus, governments
around the world have took various measures to lower the

2

influence. For example, China has developed a series of
containment and obtained satisfying results. To be specific,
the Chinese government approved the travel ban, encouraged
people to stay at home to avoid gathering, restricted social activities, etc. However, some countries or organizations ignore
the spread effect of the virus in the dense crowd, aggravating
the situation. A case in point is "Diamond Princess", where the
virus spread rapidly due to insufficient preventive and control
measures in the early stage. Taking a lesson from it, it is
necessary to take strict measures to curb the spread of the
virus in the environment with high-density population [5].
In this paper, we comprehensively consider various factors
that cause the spread of the disease, and propose a campus
virus infection and control simulation (CVICS) model of the
novel coronavirus, based on the characteristics of repeated
contact and strong mobility of crowd in the closed environment. The agent is the main components in simulation,
and each individual can sense the surrounding environment
independently [6]. The movements of the individual are given
by social force [7][8]. At the same time, the spread of the
virus among individuals in different scenes on campus can be
simulated. The advantage of this model is that it can present
the state information of each agent in the environment at
each moment from a micro perspective, making the simulation
more realistic. Takinge comprehensively consider the key
factors such as crowd density and self-protection into account,
effective preventive and control measures such as travelling
in batches, staggered travel and isolation are put forward.
According to several groups of comparative experiments,
we can observe the trend of virus transmission on campus.
Through the intervention of group behavior, the infection rate
was effectively reduced.
Our major contributions are listed as follows:
1. We propose a simulation model (CVICS) of the novel
coronavirus, based on the characteristics of repeated contact
and strong mobility of crowd in the closed environment.
We simulate the daily prevalence of infection among college
students, and propose effective control measures with analysis.
2. Considering the differences among individuals, we design
an agent-based simulation, introduce the mean field theory
to calculate the probability of virus transmission, and microsimulate the daily prevalence of infection among individuals.
3. Taking Zhengzhou University as an example, we simulate
the virus infection among college students during the epidemic
period. Then we propose control measures such as travelling
in batches, staggered shifts and isolation, and prove their
effectiveness on reducing the infection rate.
II. R ELATED WORK
In this section, we briefly introduce the infection model and
crowd simulation model.
A. Infection model
Nowadays, the spread of virus is generally studied by
constructing various infection models, to carry out an accurate
risk assessment. In the micro model, the classic SIR model

divides the population into susceptible, infected, and recovering groups [9]. It is a good demonstration of the process of
infectious diseases from the onset to the end. The premise of
using this model is that patients suffering from such infectious
diseases can recover, and can produce permanent antibodies,
and no longer participate in the spread of the disease. Since
the model can well simulate the propagation of other media,
it has also been widely applied to other fields. As the types
of infectious diseases become more complex, the model of
infectious disease is constantly improved. If the infectious
diseases studied have an incubation period, the improved SEIR
model based on the SIR model will be generally used. The
model divides the population into susceptible, latent, infected
and rehabilitated, which can describe the transmission process
of the epidemic more accurately. When the SARS epidemic
broke out in 2003, most of the SIR or SEIR models were used
to fitting the infection curve of the city. Liang [10] conducted
experiments through the establishment of a propagetion growth
model by cbnsidering the growth rate as well as the inhibition
constant of infectious diseases, which showed that the infection rate and its changes over time are the most important
factors affecting the spread of SARS. In addition, there are
other similar models such as SI [11] and SIRS [12]. Shi et
al. [13] produced an epidemic dynamics model through the
study of infectious models. In the study of infectious diseases,
researchers not only predict the number of people in various
stages of disease, but also need to consider the causes of
disease, transmission media, other relevant social factors and
so on [14]. It can help decision-makers formulate prevention
and emergency plans to prevent further deterioration of the
virus spread.
When exploring the infection situation of colleges and
universities, the state of recovery is not considered. Once
the suspected cases are found, they are sent to the school
hospital for isolation and then transferred out of the college to
a designated location for treatment. Different from the most
commonly used models such as SIR and SEIR to calculate the
trend of the number of people in each state under the epidemic,
campus infection simulation focuses on suspected groups that
may be infected and focuses on preventing the large spread of
the virus. Currently, the most commonly used models are not
completely suitable for studying epidemics in universities.
B. Crowd simulation
The technology of crowd simulation has been widely used
in many fields. It can not only be used for the agents to
fill the virtual environment to generate the simulation animation of the group state [15], but also be regarded as an
important way to design architectural plane and evaluation
cost [16][17]. Common crowd simulation models include rulebased models, cellular automata models, social forces-based
models [18] and agent-based models [19]. Among them, agentbased simulation has attracted the attention of most researchers
due to its self-adaptive interaction with the environment in a
complex sences. In recent years, More and more researchers
pay attention to the simulation model of infectious diseases.
Kleczkowski et al. [20] uses the cellular automata model,

3

Fig. 2. The system overview of our work. Agent model, infection model and environment model are established for crowd simulation in campus. In the
process of simulation, the virus spreads while the agent is active in the environment. At the same time, various control measures are taken according to the
simulation results.

that is a typical microcosmic model. The simulation model
studied the impact of relevant information in the local space
on the spread of epidemics. Eubank et al. [21] developed an
agent-based epidemic simulation system called EpiSimdemics.
Barrett et al. [22] developed EpiSimdemics based on the work
of Eubank et al. A scalable parallel algorithm is proposed
to simulate the spread of infection in a large-scale social
network in reality. Bissett et al. [23] describes an integrated
method for computational health informatics, which includes
individual-based population construction and agent-based dynamic modeling. At present, there is still a challenge for largescale crowd simulation. The macro crowd simulation model
usually studies the whole and ignores the heterogeneity among
individuals. The micro crowd simulation model focuses on a
single individual, but when the number of people is huge, a
large amount of information needs to be calculated, and it
is difficult to guarantee the speed and quality of calculation
at the same time. Yang et al. [24] introduce the mean-field
theory to calculate the crowd movement, which formulate
the multidimensional problem into two-dimensional problem
to reduce the computational complexity. It can better handle
large-scale crowd movement simulation problems.
Our model uses a agent-based simulation by the social force
model to describe microscopic individuals. The social force
model can vividly describe the impact of the surrounding
environment (such as other individuals and obstacles) on the
pedestrian behavior, and can realistically simulate the daily
behavior of students on campus, which is not available in
simulation systems such as EpiSimdemics. By observing the
impact of the interaction between people in different scenarios
(classrooms, restaurants, dormitories, etc.) on the spread of
the virus, corresponding measures can be taken to reduce the
spread of the virus.
III. C AMPUS VIRUS INFECTION AND CONTROL
SIMULATION

Our model is to study the infection situation of college students to implement effective management and control students
of colleges and universities. We take Zhengzhou University as
an example. This university is located in the Central Plains of
China, with a wide distribution of students, and the campus
environment is very representative.

TABLE I
WALKING PATHS
Walking Paths
Category 1
Category 2
Category 3
Category 4

dormitory→ teaching building / library → restaurant
→ teaching building / library → dormitory
dormitory→ teaching building / laboratory → restaurant → teaching building / laboratory → dormitory
dormitory→ laboratory→ restaurant → laboratory →
dormitory
dormitory→ administration building / library → restaurant → administration building / library → dormitory

The agent-based model is used to simulate the population
infection situation on the campus of Zhengzhou University
during the epidemic without control measures and after these
measures are taken, to better manage college students. In this
way, we can ensure students’ learning quality while preventing
the spread of the virus, and reduce the number of infected
people on campus as far as possible.
The system overview is shown in Figure 2.
A. Agent definition
Students in different majors have different learning tasks,
so they are divided into four categories according to their
majors. In the epidemic environment, each student needs to
travel in accordance with the regulations to try to avoid
cross-infection among different groups as shown in Table I.
Everyone starts from the dormitory, visits their respective
buildings, and returns to the dormitory. According to the Dijkstra [25] algorithm, the shortest route between two destinations
is obtained. In the simulation, the students walk along the
established path. The walking speed of the people is evenly
distributed in the interval of 1.042𝑚/𝑠 ∼ 1.508𝑚/𝑠 [26].
According to the individual infection status, the students
are divided into three categories: susceptible, latent, and
infected. We set a metric 𝑃_inf for the agent to calculate
the probability that the agent may be infected, to determine
the infection status. Within a certain range, if the measure
reaches the threshold 𝑇 (𝑇 = 1), it means that the individual is
in an infected state at the moment, and the infection state
has changed from a susceptible person to a person in the

4

TABLE II
P ROPERTIES OF AGENTS
Properties
general information
general state
movement state
visit state
rest state
infection state

Description
gender
age
move
visit
rest
moving speed
immediate location
teaching building
classroom
seat
dormitory building
dorm room
probability of infection
days of infection
susceptible, latent, infected

latent period. After 7 days, people in the incubation period
will be transformed into confirmed patient. According to
the transmission characteristics of the novel coronavirus, all
students in school are likely to be infected with the virus, and
individuals are infectious during the incubation period and
the onset period. According to the latest research, the basic
reproduction number (R0) value is as high as 5.7. This means
that it is extremely disseminated and infectious, individuals in
a latent state and an infected state are infectious [27].
In order to simulate the spread of the virus more realistically, the general state, movement state, visit state, infection
state and other attributes are added to each agent, as shown in
Table II.

spread of the virus. The influence of the physical distance
is expressed by formula (2):
 1 √
0 < 𝑑 <= 𝑅
𝑅2 − 𝑑 2
(2)
𝑓 (𝑑 𝑛 ) = 𝑅
0
𝑑>𝑅
where 𝑅 represents the radius of infection and the value set
to 2𝑚. When individual distances 𝑑 <= 𝑅, the greater the
distance, the smaller the probability of virus transmission.
When the distance 𝑑 between individuals exceeds 𝑅, the
probability of individual infection is not affected by the virus.
Air humidity, temperature, inhaled air concentration, the
mutual distance between individuals and other factors may also
have an impact on whether a susceptible person is infected
with the virus [30]. The combination of these factors by
other individuals within the individual’s perception range will
generate an infection probability for the central individual. To
generate an infection probability separately, it will be very
cumbersome to calculate the influence of these factors on
the individual if other individuals in the perception range are
calculated separately.
Therefore, we use the mean field theory to calculate the
probability that an individual may be infected with the virus.
It comprehensively calculates the impact of all individuals,
which can greatly simplify the complexity of the calculation.
Specifically, We divide the number of days patients carry the
virus into 8 time periods. They respectively indicate that no
virus carried, carrying the virus for 1 day, and increasing to
carry the virus for 7 days or more. The individual infection
probability formula is as follows:
𝑃_inf =(1-𝛽)

B. Agent-based novel coronavirus infection modeling
To construct a population infection model for colleges and
universities, the infection distance is one of the important
factors, in other words, the range of the virus that can spread.
We set this parameter to 2𝑚 [28], that is, the virus carrier can
affect other individuals less than 2𝑚 away from it. At the same
time, the number of days the virus is carried in the human
body may have an impact on the spread of the virus. It is
reported that the incubation period of COVID-19 is generally
3 to 22 days, and the experiment is set to 7 days [29]. Due to
the incubation period, virus are also contagious. We consider
that as the number of days of carrying the virus in the human
body increases, the infectivity increases linearly. The influence
of the number of days a virus carrier carries the virus on the
infectivity of the virus is calculated by the formula (1):


𝑓 𝑖 𝑑𝑎𝑦 = min(𝑖 𝑑𝑎𝑦 /𝐼 𝑝𝑒𝑟 , 1
(1)
where 𝑖 𝑑𝑎𝑦 indicates the days of carrying the virus; 𝐼 𝑝𝑒𝑟 = 7
means that the incubation period is 7 days, and the infectious
performance increases linearly with the increase of the number
of days the virus incubates in the body. When the virus
is carried for 7 days or more, the infectivity is no longer
enhanced.
We consider the influence of the distance between the
individual and the person in the incubation period on the

𝑁
7
∑︁

1 ∑︁ 𝑗
𝑇𝑛 𝑓 𝑖 𝑑𝑎𝑦 𝑓 (𝑑 𝑛 )
𝑁
𝑛=1
𝑖=0

(3)

where 𝑁 means that there are 𝑁 other individuals in the
𝑗
perception range of central body; 𝑇𝑛 indicates that the 𝑛 th
person carried the virus for 𝑗 days. The probability distribution
is obtained by dividing the number
Í 𝑁 of𝑗people in each period by
𝑇𝑛 indicates the proportion
the total number of people; 𝑁1 𝑛=1
of people in each period; 𝑑 𝑛 represents the distance between
two individuals; 𝛽 represents the group protection rate. In other
word, the proportion of the number of people who take selfprotection in all groups.
The day is divided into different time slices, and the
individual’s infection probability is continuously updated with
the time slices. During the simulation process, the system
calculate the infection rate of one time slice and the next time
slice, and take the maximum value of them. At the end of the
day, the random value will be given by uniform distribution.
If the value is within the individual’s infection probability
interval, it means that the individual will be infected.
C. Simulation environment modeling
Generally colleges and universities occupy a large area and
the roads on the campus are intricate. To meet and manage the
daily activities of teachers and students during the epidemic,
teachers and students will be prohibited from entering and
leaving the campus at will. The campus will be divided
into different functional areas, and each area will have an

5

Fig. 5.
Fig. 3. The distribution map of buildings. Different colors represent various
functional areas.

The classification of the nodes in road network.
TABLE III
T OPOLOGICAL PROPERTIES OF THE ROAD SECTIONS
Attributes
ParentsNode
ChildrenNode
Length(m)
Width(m)
Weight

Fig. 4. The map of road network. The orange line represents the road and
the green dot represents the node.

entrance. The crowd is only allowed to enter and exit from
this port, in order to prevent the spread of viruses caused by
the random shuttle of teachers and students in the campus.
The buildings in the same functional area are combined as
a whole. The winding roads are closed and not passable, as
shown in Figure 3
As shown in Figure 4, the road network can often be
represented by an undirected graph. The nodes in the figure
represent road break points and intersections in the road network. The line segment connected by two nodes in the figure
includes attributes such as length and width. These attributes
can describe the detailed information of each path in the map
and the topology information between the paths clearly. Under
epidemic control, students strictly abide by school regulations
and start from their location to their destination within the
permitted time. It is represented by a route in the figure, and
the route has no closed loop. Starting from the dormitory and
reaching the destination along the route, each student who
moves has a specific route. Students in the same dormitory
building have the same starting point and are divided on the
way, and all routes have no closed loop. In the process of
students moving from dormitory building to other areas, the
starting point is taken as the root node, the midway road node
is taken as the child node, and the destination is taken as the
leaf node. A multi-branch tree with the dormitory building as
the root node will be formed, as shown in Figure 5.
The multi-branch tree can be used to record the topological
information of each required road segment, and the attribute
information of the road segment is described by the node
attributes. The 𝐿𝑒𝑛𝑔𝑡ℎ attribute in Table III not only includes

Description
The parent node of this road node.
All children nodes of this road node.
The length of the path is represented by this
node to its parent node.
The width of the path from this node to its parent
node.
The total number of people passing by this node
(percentage of total people).

the length of the path itself, but also the distance from the
root node to this node. For example, the distance from a
node to its parent node is 5.1𝑚, and the distance to its root
node is 56.55𝑚. The 𝑊 𝑒𝑖𝑔ℎ𝑡 attribute is a sequence, which
contains the time when the crowd passes this road node and
the corresponding number of the crowd, such as the value
of the weight attribute is <300,600,0.05>. About 5% of the
total number of students will pass through this node between
300𝑠 and 600𝑠. The time interval of crowd passing through
the node is inversely proportional to the width of the road.
According to the weight attribute, the crowd density of any
road node can be estimated at a certain moment. The time
the crowd passes through the road node can be expressed by
the following formula:
𝑡 𝑖𝑠𝑡 𝑎𝑟 𝑡 = 𝑙𝑖,𝑡 𝑎𝑡 𝑎𝑙 /𝑣 𝑚𝑎𝑥
𝑡 𝑖𝑒𝑛𝑑 = 𝑙 𝑖,𝑡 𝑎𝑡 𝑎𝑙 /𝑣 𝑚𝑖𝑛
Δ𝑡𝑖0 = 𝑡𝑖𝑒𝑛𝑑 − 𝑡 𝑖𝑠𝑡 𝑎𝑟 𝑡

(4)

where 𝑡 𝑖𝑠𝑡 𝑎𝑟 𝑡 indicates the starting time for the crowd to reach
the 𝑖 road node, which is proportional to the distance from
the node to the root node; 𝑡𝑖𝑒𝑛𝑑 indicates the last time for the
crowd to reach the 𝑖 road node; 𝑙 𝑖,𝑡 𝑎𝑡 𝑎𝑙 is the total distance
from the starting address to node 𝑖; 𝑣 𝑚𝑎𝑥 and 𝑣 𝑚𝑖𝑛 respectively
represent the maximum and minimum speed of the crowd; Δ𝑡 𝑖0
indicates the difference between the earliest and latest time that
the flow of people passes the path node.
D. Crowd control simulation
1) Crowd simulation: Students depart from the dormitory
and go to the target functional area in turn, and return to
the dormitory after completing the visit. Under quarantine
conditions, infected and suspected infected persons need to
go to the school hospital for testing and isolation. Each agent

6

is only allowed to move along a given road to the destination
at the permitted time, and the rest of the time is not allowed to
walk around. Individuals may be infected inside dormitories,
classes, restaurants, roads and so on.
2) Crowd control: According to the characteristics of
virus transmission, three control measures have been formulated from the perspectives of reducing population density
and improving self-protection, such as batch travel (reduce
aggregation by reducing the number of travelers at the same
time), staggered travel (reduce road congestion by controlling
travel time), and isolation prevention (keep suspected patients
away from the crowd). Based on the experimental results, we
analyze the impact on the results of the virus transmission.
Fig. 6.

Influence of different population sizes on virus transmission.

Fig. 7.

Infection situations in 21 days before control.

IV. E XPERIMENT
The experiment is based on 𝐶𝑃𝑈 3.60𝐺𝐻𝑧, 8𝐺 𝐵 memory,
and Windows 10 operating system environment, using 𝐶 + +
language and 𝑃𝐸 𝐷𝑆𝐼 𝑀 [31] platform. The system allows
users to set parameters by themselves to get the infection
curve, such as the initial total population, the initial number
of patients and the number of days for patients to transition
from each state, etc.
Taking Zhengzhou University as an example, we scale the
number of teachers and students in the university proportionally. Assuming that there is already an infected patient on the
campus on the first day. According to the infection situation
of the groups in different periods, the approximate infection
number and infection rates of all teachers and students on
the campus is inferred. In the simulation, each agent is only
allowed to move along the established road to a specific
place at the specified time, and the rest of the time is not
allowed to move around at will. Individuals may be infected
in dormitories, classrooms, restaurants, and roads. The number
of infections at the end of each day is obtained through
the infection model, and corresponding control measures are
implemented according to the results to reduce the infection
rate. In order to prevent accidental errors in the experiment, the
following experimental results are obtained through multiple
averages.
A. Population size
When the total number of people changes, the probability of
individual contact with each other, movement trends and others
will change, which will have a certain impact on the spread
and infection of the virus. The population on campus is scaled
to different proportions. The initial number of people is set to
840, 1260, 1680, and 2520 respectively, and the population
infection situation within 15 days is calculated through the
model.
The results in Figure 6 show that the larger the total number
of people on campus, the more people will eventually be
infected, and the larger the proportion of the total population
will be. Without constraints, the number of infected people will
increase significantly over time. However, this trend is not exactly proportional. When the campus population density is too
small, the total number of populations should be appropriately
increased, and the infection rate will rise relatively slowly;

when the population density is large, the infection rate will
also increase significantly as the total population increases.
Figure 7 shows the proportion of the number of people
in each state per day when the total number of simulated
populations is 1680. The B-lurker curve shows the change
of the number of patients in the incubation period; the Binfected curve shows the change of the number of patients with
confirmed infections; The Berfore control curve represents the
change of the total number of diagnosed and latent persons
each day. It can be seen that the curve grows slowly at the
beginning, and then breaks out. Almost everyone is infected on
the 21st day. Based on this, after students return to school, it
is necessary to take corresponding protective control measures
to reduce the impact of the virus.
B. Control measures
1) Batch travel measures: From the perspective of time
and space, we formulate intervention measures to reduce the
risk of transmission. The first control is to make students
travel staggered. Since teachers and students have basically
the same activity areas on campus, there will often be a
large number of people gathering in some areas. Therefore,
we should reduce the occurrence of such phenomena and
avoid large crowds gathering. Classes are commonly the main
component of the daily life of the college group, so first
of all, according to the individual attributes, the class time

7

Fig. 8.

Infection rate curve of 21 days after control of batch travel.

is replanned for the student with course tasks. 50% of the
teachers and students with course tasks are arranged to have
classes every morning, and the other half of the students are
arranged in the afternoon. In class time, individuals are only
allowed to stay in the dormitory when they have no class tasks,
and all individuals are not allowed to move around the campus
at will. Planning student travel in batches in this way can
greatly reduce the degree of crowd density in most cases. For
example, by reducing the number of people and expanding the
physical space between students during class, it can reduce the
crowdedness of students on the way to the classroom.
Comparing the infection results of the population before
and after the implementation of batch control, as shown in
Figure 8. D-lurker represents the change curve of the number
of lurking people per day after the implementation of batch
control; D-infected represents the number of people diagnosed
every day after the implementation of batch control; Decrease
control represents the total number of infections per day after
the implementation of batch control. It is found that the
upward trend of the curve is relatively flat, and the final total
number of infections is reduced by about half compared with
the total number of infections before control. The effect of the
measures after implementation is in line with expectations, and
the spread of the virus can be suppressed to a certain extent.
2) Staggered travel measures: In the last section, we divided the crowd into two groups by replanning the class time,
which avoided crowd contact to a certain extent. However, the
university group is huge. Under the same batch, students in
the same dormitory building will still experience congestion
on the road. In addition to classes, the restaurant is also a highdensity crowd gathering place. In meal time, the students will
flock to the restaurant. The crowd is very dense on the way
to the restaurant and after arriving in the restaurant.
In response to this phenomenon, we put forward restrictions
on the prohibition of dinein. The purpose is to reduce the
phenomenon of high-density crowds in some areas. Specifically, we will send representatives to take meals back to the
dormitory unit and return to the dormitory for meals. Living
with four students, the plan can reduce about 3/4 of the traffic
on the road and the number of people in the restaurant when
going to eat.
In addition, according to the initial location and the destina-

tion of each student, we calculate the specific travel time of the
students in different dormitories. For example, when students
move from the dormitory area to other areas of the school, a
dormitory building determines the travel time according to the
location between itself and other dormitory buildings and the
path selected by the students to move. By controlling the travel
time in different dormitory buildings, the road utilization at a
certain moment can be reduced. Through our algorithm, we
can easily calculate the reasonable departure time of the groups
in each building area, reducing the mutual contact between the
groups.
Students are distributed in various dormitory buildings,
and teaching areas are also distributed in different areas of
the campus. On campus under epidemic control, multiple
multitrees are constructed according to the route of all students
according to their starting point. If two or more multitrees
contain the same road node and the time overlaps, it means
that the two paths may collide with pedestrian flows. It need
to stagger a little time, adjust the departure time offset Δ𝑡 of
the departure point to reduce conflicts. If multiple groups of
people pass by the same node on different path trees, but there
is no overlap in the elapsed time, it is not considered to occur
crowds collide.
The collision of people traversing each road node, if the
road node 𝑖 appears at the same time in different paths and
the passing time overlaps, we calculate the road congestion
with the following formula;
𝐶=

𝑛1
𝑛 ∑︁
∑︁
𝜔𝑖 𝑗
Δ𝑡𝑖0 𝑗
𝑖=0 𝑗=0

(5)

where 𝑛 represents the total number of road nodes in the map;
𝑛1 indicates the total number of departure places for the flow
of people; 𝜔𝑖 𝑗 indicates the weight of the flow of people from
0
the 𝑗th starting place passing through the 𝑖th road node; Δ𝑡𝑖 𝑗
represents the time interval for the flow of people from the 𝑗th
departure place to pass through the 𝑖th road node. Finally, the
offset time of each departure place is adjusted to the minimum
value, as shown in the following formula:
!
𝑛
∑︁
𝑚𝑖𝑛
Δ𝑡 𝑖 𝑗 0 < 𝑗 < 𝑛1
(6)
𝑖

In the experiment, the students are evenly distributed in 5
dormitory buildings. Preparing for class time, students start
from the dormitory building to other functional areas of the
campus, and they are required to meet the constraints, that is,
max (𝑡𝑖 ) ≤ 20𝑚𝑖𝑛. More ideal results can be obtained through
brute force traversal and integer planning. The results of the
starting time for classes in different locations are shown in
Table IV .
After class time, students start from their own building to
their dormitories. According to the distribution of students,
the class time is divided into three groups: teaching building,
library, others (experimental building, administrative building).
The results of the preparation time to get out of class dismissal
are shown in Table V.
The heat maps in Figure 9 show the crowd density under
different conditions on the path. Figure 9(a) is a sample in the

8

TABLE IV
T RAVEL TIME FOR CLASS
Building
Dormitory
Dormitory
Dormitory
Dormitory
Dormitory

Start Time

Building
Building
Building
Building
Building

1
2
3
4
5

0s
600s
1080s
360s
120s

TABLE V
T RAVEL TIME AFTER CLASS
Building

Start Time

library
Teaching building
Others (laboratory building, administrative building)

0s
900s
360s

(a) A sample of map

21-day infection rate curve after staggered travel.

Fig. 11.

The infection rate curves under different states in the disease.

(b) Path heat map after staggered
traveling

(c) Path heat map before staggered(d) Path heat map after staggered
traveling
traveling
Fig. 9.

Fig. 10.

Heat map of path density before and after staggered traveling.

map. Figure 9(b) means that there are three groups of people
from different locations moving in the same direction at the
same time. Figure 9(c) represents the density of people on each
path that is not controlled. It can be seen that when pedestrians
on multiple paths move toward the same destination at the
same time, there will be a high density of people. Figure 9(d)
shows that by adjusting the travel time, the figure enables
students to implement non-intersection travel measures, which
can effectively reduce the crowd density on the road.
As shown in Figure 10, T-control represents the change
curve of the total number of persons in the incubation period
and infected persons every day after the implementation of
staggered travel control measures. It can be seen that the
increasing trend is slow compared with the other two red
curves. By implementing control measures to reduce population density, the probability of virus transmission can be
further reduced.
3) Isolation control measures: Because of the transmissibility of the virus, once a confirmed patient is found, he or she
should be isolated immediately [32]. Taking the compulsory
measures can prevent the spread of the virus from the root. If

a confirmed patient is found on the campus, the student will
be immediately sent to the school hospital for closed isolation.
By tracing the track of the student, those who have been in
close contact with him are regarded as suspected cases and
sent to the school hospital for isolation and observation [33].
However, since some virus carriers may still have no
obvious symptoms of infection after the incubation period,
that is, asymptomatic patients, such patients need to rely on
medical methods to determine their physical health, which
means the difficulty of epidemic investigation and control is
further increased. Three sets of experiments show the changes
in infection when there are asymptomatic patients.
The results are shown in Figure 11, the blue curve indicates
the changing trend of the infection rate of a person infected
with the virus on the first day and being isolated and treated
after 7 days of infection; The green curve shows the trend
of the daily infection rate of the population when one person
is infected on the first day and can be isolated in time; The
red curve represents the daily infection trend when one person
infected with the virus on the first day and all patients will
have a probability of 0.1 as asymptomatic infections. The
appearance of asymptomatic patients will make the condition
complicate. Only by detecting all virus carriers can it be possible to completely control the spread of the virus, otherwise
the virus will still spread on a large scale.
As shown in Figure 12, the three curves of I-lurker, Iinfected, and Isolate control respectively represent the chang-

9

Fig. 12. The infection rate curve after the implementation of quarantine
measures.

Fig. 13. The comparison under different measures without control, batching,
staggered travel, and isolation.

ing trends of the number of suspected cases, the number of
confirmed persons, and the total number of infections after the
implementation of mandatory isolation measures. The number
of people infected each day after the quarantine measures is
less than the number of patients before the implementation
of the quarantine measures, and the total number of people
infected on the 21st day is only 24%. Compared with the
control measures in the previous two sections, it is proved
that the implementation of isolation measures can effectively
reduce the probability of students infected with the virus.
As shown in Figure 13, experimental results show that in a
high-density and closed area similar to colleges and universities, if one person is infected with the virus, there will be a
high probability of infection to others, even if control measures
are implemented. After implementing compulsory isolation
measures, timely isolation and treatment of suspicious patients
will further slow down the spread of the virus, but over time,
it is still difficult to achieve zero spread of the virus.
C. Proportion of self-protection population
Since the strong transmission of the novel coronavirus, some
people have high awareness of protection. Due to individual
differences, the infection probability of each person is not
exactly the same. In addition to the protection measures
implemented by universities on teachers and students, individ-

Fig. 14.

The infection curve of self-protection rate.

uals also need strengthen self-protection. For example, take
some self-protection measures such as wearing a mask and
consciously keeping a distance from others. After the group
adopts protective measures, the spread of the virus will be
reduced, and the group infection rate will also decrease. But
the probability will change according to the change of the
group protection ratio, so we explore the impact of different
population protection in universities on the trend of virus
infection.
Figure 14 shows the impact of the self-protection rate of
different groups in universities on the virus infection rate in
the group within 21 days. The green, red, blue, and yellow
curves represent the daily viral infection rate of the population
when the population protection rate is 60%, 70%, 80%, and
90%. On the 21st day, when 60% of the people in colleges
and universities take self-protection measures, the green curve
shows that the virus infection rate is 82%. The result is much
higher than the result under the same conditions that the
number of people taking protective measures reaches 70% and
above. The more people who take protective measures, the
lower the infection rate. From the overall experimental results,
it can be inferred that if everyone takes protective measures,
the infection rate will be lower than the infection rate in the
case of a self-protection rate of 90%. Therefore, universities
should actively call on all teachers and students to protect
themselves in order to better control the spread of the virus.
V. C ONCLUSION
In response to the novel coronavirus pneumonia broke out
at the end of 2019, the states has implemented a series of
measures to prevent a large number of people from gathering
and aggravate the epidemic. Take the problem of virus transmission after returning to school as an example, we proposes
a campus virus infection and control simulation (CVICS)
model that is oriented to a closed environment, frequent
population contact, and strong mobility. Constructing an agentbased simulation, taking into account the differences between
individuals, we introduce the average field theory to microsimulate the infection situation of each individual every day.
The experimental results show that the model can calculate the
daily population infection trend and individual infection status,
and through batch travel, staggered travel, isolation and other

10

control measures, it can effectively reduce the probability of
population infection and curb the rapid spread of the virus to a
certain extent. During the epidemic, a series of tough measures
should be taken to reduce crowd gathering. Once suspected
patients are found, compulsory measures should be taken to
isolate them under medical observation. When the isolation
is strong, the source of infection is blocked, and the spread
of novel coronavirus will be better controlled. As individuals,
we should try our best to avoid crowd gathering, reduce crowd
contact, and enhance self-protection.
In the future, in addition to considering existing control
measures, resource allocation needs to be considered, such as
adding disinfection and vaccine measures, to further improve
the virus infection model accuracy. The improved model will
simulate the more complex crowd flow in large-scale areas,
fitting real infection data as much as possible.
R EFERENCES
[1] W. H. Organization et al., “Global research on coronavirus disease
(covid-19),” World Health Organzation [internet], 2020.
[2] G. J. Milne, J. K. Kelso, H. A. Kelly, S. T. Huband, and J. McVernon,
“A small community model for the transmission of infectious diseases:
comparison of school closure as an intervention in individual-based
models of an influenza pandemic,” PloS one, vol. 3, no. 12, p. e4005,
2008.
[3] M. Y. Li and J. S. Muldowney, “Global stability for the seir model in
epidemiology,” Mathematical biosciences, vol. 125, no. 2, pp. 155–164,
1995.
[4] B. J. Ridenhour, A. Braun, T. Teyrasse, and D. Goldsman, “Controlling
the spread of disease in schools,” PloS one, vol. 6, no. 12, p. e29640,
2011.
[5] P. Tabari, M. Amini, M. Moghadami, and M. Moosavi, “Nations’
responses and control measures in confrontation with the novel coronavirus disease (covid-19) outbreak: A rapid review,” 2020.
[6] L. G. Fischer, R. Silveira, and L. Nedel, “Gpu accelerated path-planning
for multi-agents in virtual environments,” in 2009 VIII Brazilian Symposium on Games and Digital Entertainment. IEEE, 2009, pp. 101–110.
[7] D. Helbing and P. Molnar, “Social force model for pedestrian dynamics,”
Phys.rev.e, vol. 51, no. 5, p. 4282, 1995.
[8] F. Zanlungo, T. Ikeda, and T. Kanda, “Social force model with explicit
collision prediction,” EPL (Europhysics Letters), vol. 93, no. 6, p. 68005,
2011.
[9] S. Towers and Z. Feng, “Pandemic h1n1 influenza: predicting the course
of a pandemic and assessing the efficacy of the planned vaccination
programme in the united states,” Eurosurveillance, vol. 14, no. 41, p.
19358, 2009.
[10] K. Liang, “Mathematical model of infection kinetics and its analysis for
covid-19, sars and mers,” Infection, Genetics and Evolution, p. 104306,
2020.
[11] Y. Cunde and H. Baoan, “A si epidemic model with two-stage structure,”
Acta Mathematicae Applicatae Sinica, no. 2, p. 02, 2002.
[12] G. Pang and L. Chen, “A delayed sirs epidemic model with pulse
vaccination,” Chaos, Solitons & Fractals, vol. 34, no. 5, pp. 1629–1635,
2007.
[13] Y. Yu, Y. Shi, and W. Yao, “Dynamic model of tuberculosis considering multi-drug resistance and their applications,” Infectious Disease
Modelling, vol. 3, pp. 362–372, 2018.
[14] D. Fisman, E. Khoo, and A. Tuite, “Early epidemic dynamics of the
west african 2014 ebola outbreak: estimates derived with a simple twoparameter model,” PLoS currents, vol. 6, 2014.
[15] S. Huerre, J. Lee, M. Lin, and C. O’Sullivan, “Simulating believable
crowd and group behaviors,” in ACM SIGGRAPH ASIA 2010 Courses,
2010, pp. 1–92.
[16] G. D. Aschwanden, S. Haegler, F. Bosché, L. Van Gool, and G. Schmitt,
“Empiric design evaluation in urban planning,” Automation in construction, vol. 20, no. 3, pp. 299–310, 2011.
[17] T. Feng, L.-F. Yu, S.-K. Yeung, K. Yin, and K. Zhou, “Crowd-driven
mid-scale layout design.” ACM Trans. Graph., vol. 35, no. 4, pp. 132–1,
2016.
[18] D. Helbing and P. Molnar, “Social force model for pedestrian dynamics,”
Physical review E, vol. 51, no. 5, p. 4282, 1995.

[19] X.-f. HUANG, K.-j. WANG, L.-y. GUO, and Q. Shao, “Microscopic
simulation model study on pedestrian evacuation based on agent technology,” Journal of System Simulation, vol. 21, no. 15, pp. 4568–4571,
2009.
[20] A. Kleczkowski and B. T. Grenfell, “Mean-field-type equations for
spread of epidemics: The ‘small world’model,” Physica A: Statistical
Mechanics and its Applications, vol. 274, no. 1-2, pp. 355–360, 1999.
[21] S. Eubank, H. Guclu, V. A. Kumar, M. V. Marathe, A. Srinivasan,
Z. Toroczkai, and N. Wang, “Modelling disease outbreaks in realistic
urban social networks,” Nature, vol. 429, no. 6988, pp. 180–184, 2004.
[22] C. L. Barrett, K. R. Bisset, S. G. Eubank, X. Feng, and M. V.
Marathe, “Episimdemics: an efficient algorithm for simulating the spread
of infectious disease over large realistic social networks,” in SC’08:
Proceedings of the 2008 ACM/IEEE Conference on Supercomputing.
IEEE, 2008, pp. 1–12.
[23] K. Bissett, J. Cadena, M. Khan, C. J. Kuhlman, B. Lewis, and P. A.
Telionis, “An integrated agent-based approach for modeling disease
spread in large populations to support health informatics,” in 2016 IEEEEMBS International Conference on Biomedical and Health Informatics
(BHI). IEEE, 2016, pp. 629–632.
[24] Y. Yang, R. Luo, M. Li, M. Zhou, W. Zhang, and J. Wang, “Mean field
multi-agent reinforcement learning,” arXiv preprint arXiv:1802.05438,
2018.
[25] Y. Deng, Y. Chen, Y. Zhang, and S. Mahadevan, “Fuzzy dijkstra algorithm for shortest path problem under uncertain environment,” Applied
Soft Computing, vol. 12, no. 3, pp. 1231–1237, 2012.
[26] J. Parker and J. M. Epstein, “A distributed platform for global-scale
agent-based models of disease transmission,” ACM Transactions on
Modeling and Computer Simulation (TOMACS), vol. 22, no. 1, pp. 1–25,
2011.
[27] Q. Li, X. Guan, P. Wu, X. Wang, L. Zhou, Y. Tong, R. Ren, K. S.
Leung, E. H. Lau, J. Y. Wong et al., “Early transmission dynamics in
wuhan, china, of novel coronavirus–infected pneumonia,” New England
Journal of Medicine, 2020.
[28] W. H. Organization et al., “Management of ill travellers at points
of entry–international airports, seaports and ground crossings–in the
context of covid-19 outbreak: interim guidance, 16 february 2020,”
World Health Organization, Tech. Rep., 2020.
[29] Z. Fang, Z. Huang, X. Li, J. Zhang, W. Lv, L. Zhuang, X. Xu, and
N. Huang, “How many infections of covid-19 there will be in the"
diamond princess"-predicted by a virus transmission model based on
the simulation of crowd flow,” arXiv preprint arXiv:2002.10616, 2020.
[30] C.-M. Liao, C.-F. Chang, and H.-M. Liang, “A probabilistic transmission
dynamic model to assess indoor airborne infection risks,” Risk Analysis:
An International Journal, vol. 25, no. 5, pp. 1097–1107, 2005.
[31] C. Gloor, “Pedsim: Pedestrian crowd simulation,” URL http://pedsim.
silmaril. org, vol. 5, no. 1, 2016.
[32] Y. Chen, J. Cheng, Y. Jiang, and K. Liu, “A time delay dynamic system
with external source for the local outbreak of 2019-ncov,” Applicable
Analysis, pp. 1–12, 2020.
[33] G. Chowell, N. W. Hengartner, C. Castillo-Chavez, P. W. Fenimore, and
J. M. Hyman, “The basic reproductive number of ebola and the effects
of public health measures: the cases of congo and uganda,” Journal of
theoretical biology, vol. 229, no. 1, pp. 119–126, 2004.

11

Pei Lv received the Ph.D. degree from the State
Key Laboratory of CAD&CG, Zhejiang University
Hangzhou, China, in 2013. He is an Associate
Professor with the School of Information Engineering, Zhengzhou University, Zhengzhou, China.
His research interests include computer vision and
computer graphics. He has authored more than 30
journal and conference papers in the above areas,
including the IEEE T RANSACTIONS ON I MAGE
P ROCESSING , the IEEE T RANSACTIONS ON
C IRCUITS AND SYSTEMS FOR VIDEO TECHNOLOGY, CVPR, ACM MM, and IJCAI.

Junxiao Xue is an associate professor in the School
of Software of Zhengzhou University, China. His research interests include virtual reality and computer
graphics. He received his Ph.D in 2009 from the
School of Mathematical Sciences, Dalian University
of Technology, China.

Quan Zhang received the B.S. degree from the
Computer Science and Technology Department,
Putian University, China, in 2018. He is currently
a master student in the School of Information Engineering of the Zhengzhou University. His research
interests include computer graph, crowd simulation.

Boya Xu received the B.S. degree from the Software Engineering Department, Zhengzhou University, China, in 2018. She is currently a master student
in the School of Information Engineering of the
Zhengzhou University. Her research interests include
computer graph, crowd simulation.

Ran Feng received her B.Sc degree in Computer
Science and Technology from Zhengzhou University. Zhengzhou, China, in 2012 and M.Sc degree
in Computer Science from HongKong University.
HongKong, China, in 2015.She is currently a Ph.D.
student in the School of Information Engineering
of Zhengzhou Uninversity. Her research interests
include evolutionary computation and multiobjective
optimization.

Chaochao Li received his Ph.D. degree from the
School of Information Engineering, Zhengzhou University, Zhengzhou, China. His current research
interests include computer graphics and computer
vision. He is currently an assistant research fellow with the School of Information Engineering,
Zhengzhou University, Zhengzhou, China. He has
authored over 6 journal and conference papers including the IEEE TRANSACTIONS ON AFFECTIVE COMPUTING, IEEE TRANSACTIONS ON
INTELLIGENT TRANSPORTATION SYSTEMS,
and IEEE TRANSACTIONS ON SYSTEMS, MAN, AND CYBERNETICS:
SYSTEMS.

Bing Zhou received the B.S. and M.S. degrees in
computer science from Xian Jiao Tong University,
Xian, China, in 1986 and 1989, respectively, and
the Ph.D. degree in computer science from Beihang
University, Beijing, China, in 2003. He is currently
a Professor with the School of Information Engineering, Zhengzhou University, Zhengzhou, China.
His research interests include video processing and
understanding, surveillance, computer vision, and
multimedia applications.

Mingliang Xu received the Ph.D. degree in
computer science and technology from the State
Key Laboratory of CAD&CG, Zhejiang University,
Hangzhou, China, in 2012. He is a Full Professor with the School of Information Engineering,
Zhengzhou University, Zhengzhou, China, where he
is currently the Director of the Center for Interdisciplinary Information Science Research and the
Vice General Secretary of ACM SIGAI China. His
research interests include computer graphics, multimedia, and artificial intelligence. He has authored
more than 60 journal and conference papers in the above areas, including the
ACM Transactions on Graphics, the ACM Transactions on Intelligent Systems
and Technology, the IEEE T RANSACTIONS ON P ATTERN A NALYSIS
AND M ACHINE I NTELLIGENCE , the IEEE T RANSACTIONS ON I
MAGE P ROCESSING , the IEEE T RANSACTIONS ON C YBERNETICS
, the IEEE T RANSACTIONS ON C IRCUITS AND S YSTEMS FOR V
IDEO T ECHNOLOGY , ACM SIGGRAPH (Asia), ACM MM, and ICCV.

