E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

EXPOSED: An occupant exposure model for confined spaces to retrofit crowd
models during a pandemic
Enrico Ronchi1, Ruggiero Lovreglio2
1
2

Department of Fire Safety Engineering, Lund University, Lund, Sweden
School of Built Environment, Massey University, Auckland, New Zealand

Abstract
Crowd models can be used for the simulation of people movement in the built environment. Crowd
model outputs have been used for evaluating safety and comfort of pedestrians, inform crowd
management and perform forensic investigations. Microscopic crowd models allow the
representation of each person and the obtainment of information concerning their location over
time and interactions with the physical space/other people. Pandemics such as COVID-19 have
posed several questions on safe building usage, given the risk of disease transmission among
building occupants. Here we show how crowd modelling can be used to assess occupant exposure
in confined spaces. The policies adopted concerning building usage and social distancing during a
pandemic can vary greatly, and they are mostly based on the macroscopic analysis of the spread
of disease rather than a safety assessment performed at a building level. The proposed model
allows the investigation of occupant exposure in buildings based on the analysis of microscopic
people movement. Risk assessment is performed by retrofitting crowd models with a universal
model for exposure assessment which can account for different types of disease transmissions.
This work allows policy makers to perform informed decisions concerning building usage during
a pandemic.
Keywords. Crowd model, disease transmission, occupant exposure, COVID-19, people
movement

Highlights
-

Crowd models are useful tool to perform risk assessments in buildings
EXPOSED, an occupant exposure model is presented
EXPOSED calculates occupant exposure based on crowd model outputs
Policy makers can use EXPOSED to perform informed decisions on building use

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Nomenclature
𝐶𝑘 : cumulative exposure to a given number of people 𝑘
𝑒𝑡𝑓 : the 𝑘 number of agents 𝑗 to which each individual agent 𝑖 is exposed at the time-step 𝑡𝑓
𝑒𝑡𝑞 : the 𝑘 number of agents 𝑗 to which each individual agent 𝑖 is exposed at the time-step 𝑡𝑞
𝑬𝒊 : set of number of agents 𝑗 each individual agent 𝑖 is exposed to at each time-step 𝑡𝑞
𝑬𝒊𝒕 : matrix of occupant exposure of each individual agent 𝑖 to other agents 𝑗 at each time-step 𝑡𝑞
𝐺 : global assessment of exposure for the total time 𝑡𝑓 spent by all 𝑛 agents in the building
𝑖 : individual agent under consideration
𝑗 : individual agent to which 𝑖 is exposed to
𝑘 : number of 𝑗 agents an individual agent 𝑖 is exposed to in a given time-step 𝑡𝑞
𝑚 : generic maximum number of agents to which agents are exposed to
𝑛 : maximum number of agents in the building
𝑅𝑖 : social distance radius of an individual agent 𝑖
𝒕 : time-step
𝑡𝑓 : final time-step at which all agents have left the building
𝑡𝑞 : generic time-step in the simulation
𝑖
𝑡𝑘,𝑚𝑎𝑥
: maximum time of exposure for each simulated agent 𝑖 to each number of 𝑘 agents

𝑡𝑞𝑖 : the number of time-steps 𝑡𝑞 in which each agent 𝑖 is interacting with a discrete number of
people 𝑘
𝑇𝑘𝑖 : time of exposure of each agent 𝑖 to a given number of 𝑘 agents
𝑇𝑘 : distribution of exposure times to a given discrete number of agents 𝑘
𝛼𝑖𝑗 : polar coordinate defining the position of the agent 𝑗 in the polar space in relation to each
agent 𝑖
𝛽𝑖𝑗 : orientation of the agent 𝑗 in the polar space defined by the agent 𝑖
𝛾𝑘 : factor which increases the exposure in relation to the value of 𝑘
µ𝑘 : average value of the 𝑇𝑘 distribution of exposure times to a given discrete number of agents 𝑘
𝜌𝑖𝑗 : polar coordinate defining the position of the agent 𝑗 in the polar space in relation to each
agent 𝑖
𝜎𝑘2 : variance of the 𝑇𝑘 distribution of exposure times to a given discrete number of agents 𝑘

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

1. Introduction
Any stakeholder dealing with crowds is greatly affected by a pandemic. Events involving large
crowds have been cancelled or postponed worldwide, access to public buildings has been restricted
as different mitigation measures have been adopted around the world to decrease physical
interactions among people during the COVID-19 pandemic (Anderson et al., 2020). The measures
to face pandemics adopted by policy makers ranged from compulsory lockdowns to
recommendations on social distancing (also called physical distancing). One key aspect sticks out
in the current situation, i.e. the inconsistency in the adopted measures is evident. For instance, to
the date this paper was written (May 2020), social distancing recommendations are diverse in
different countries and rapidly change over time, e.g., 1 person/4 m2 (Australia), 1 m (Philippines,
Qatar) or 2 m outside home (Canada, UAE, UK, South Korea), or 1-2 m (New Zealand, Italy)
(Italian Government, 2020; Korean Ministry of Economy and Finance, 2020; Movement
Strategies, 2020). This raises questions on their implications on space usage (Honey-Roses et al.,
2020), how policy makers have grounded their decisions and what type of models are currently
available to support these decisions. Moreover, current data do not fully support the 1-2 m rule for
spatial separation assumed for travelling of large droplets (Bahl et al., 2020) which has been issued
in the airborne precautions for the COVID-19 pandemic in the guidelines by the World Health
Organization (WHO, 2020). This issue highlights the need for flexible models able to use different
assumptions on disease transmission mechanisms.
Current research supporting decision makers is mostly based on macroscopic epidemiological
models, among which the most used are different variations of the SIR model. This model is an
epidemiological tool that estimates the number of people infected in given conditions over time.
The SIR model divides the population into three types, namely (1) susceptible, S; (2) infectious, I;
and (3) recovered/removed, R. The SIR model is based on earlier analytical approaches developed
to study disease spread back in the 1920ies (Kermack & McKendrick, 1927). The current field of
mathematical epidemiology adopts a set of differential equations which generally considers also a
(4) exposed class, E, to create the so-called SEIR model (Anderson et al., 1992). Several other
macroscopic epidemiological models have been developed and used, including stochastic
transmission models (Kucharski et al., 2020) and mean-field epidemiological models (Giordano
et al., 2020).
The use of macroscopic epidemiological models provides the great benefit to be applicable at large
scales and give vital information to decision makers as they yield predictions of the spread of
disease. Nevertheless, their great limitation is that they may not fully consider the mobility patterns
of individuals and the heterogeneity in their interactions. This issue has been raised in the largest
conference in the pedestrian and evacuation dynamics community back in 2012 (Johansson &
Goscè, 2014) and has initiated discussions on coupling the field of crowd dynamics and modelling
with epidemiological modelling (Goscé et al., 2014). The impact of heterogeneity in population
and mobility patterns have been so far addressed mostly at a macroscopic scale, especially in
transportation environments (Goscé & Johansson, 2018; Meloni et al., 2011; Saberi et al., 2020)
in which transport networks are investigated to consider them while modelling the spread of
disease. Nevertheless, current disease-spreading models do not explicitly represent the space usage
of pedestrians at a microscopic scale, thus making difficult to assess at a building level what the
impact of a social distance measure could be.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Microscopic crowd models, such as continuous models (Helbing et al., 2000; Thompson &
Marchant, 1995) and discrete models (Lovreglio et al., 2015), have been used to represent the
individual movement of pedestrians in confined spaces and provide – among other outputs –
information concerning the trajectories of pedestrians in space over time (i.e. this is generally in
the form of the parametric equations of each pedestrian). Crowd models have been used so far
mostly to ensure comfort and safety of pedestrians and identify crowd management solutions to
optimize movement flows and reduce waiting times (Bellomo & Gibelli, 2016; Johansson, 2008).
It appears evident that the simulation of people movement at a microscopic scale could provide a
great help to decision makers for risk assessment in case of disease spreading in a confined space.
During the COVID-19 pandemic, some of the most known and used crowd models (Lovreglio et
al., 2019) have released new features aimed at microscopic modelling of people movement
considering social distancing or counting the interactions between pedestrians in a given social
distance radius. While these features are useful to evaluate space usage, given the lack of
knowledge concerning the current spread of disease, they do not allow a comprehensive
quantitative understanding of the impact of different measures on building occupant exposure. It
is therefore crucial to develop a general occupant exposure model which could be used to retrofit
any type of microscopic crowd model and that is able to produce quantitative outputs for risk
assessment. In turn, crowd models do not currently provide dedicated comprehensive sub-models
which can be directly used to perform this type of analysis.
In this paper we propose a modelling solution to retrofit any type of microscopic crowd model for
pandemic risk assessment studies. To achieve this goal, we introduce a universal occupant
exposure model which could be used to retrofit any existing microscopic crowd model able to
track the trajectories of pedestrians over time in a confined space. The ground for the development
of the model has been the review of the current measures adopted to reduce risk transmission
worldwide (e.g. social distancing measures), possible disease transmission mechanisms in
confined spaces and the analysis of the characteristics of microscopic crowd modelling tools.

2. Modelling assumptions on occupant exposure
The proposed model is developed using a general formulation rather than relying on a specific type
of disease transmission. This has been done so that it could be adapted for different types of disease
transmissions, i.e. based on different distances between pedestrians, types of contact (e.g. airborne
vs droplet, angle of contact, etc.), reference points (e.g. pedestrian face, nose, shoulder, etc.) and
time of exposure. This is deemed appropriate for new pandemics such as COVID-19 in which
there is no conclusive understanding on the disease transmission (Lewis, 2020), thus providing the
flexibility to update the model results in case new insights on the pandemics are available.
Since the severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2) transmission is
currently not fully understood, one of the current assumptions is that it can be considered similar
to the severe acute respiratory syndrome coronavirus (SARS-CoV-1) in which the spread was
found to be by (1) physical contact, (2) droplets, and (3) airborne routes (Yu et al., 2004). Given
the uncertainty in disease transmission mechanisms during the COVID-19 pandemic, five different
assumptions on occupant exposures are here suggested as possible mechanisms to adopt in the
proposed model. These are presented graphically in Figure 1 and described in Sections 2.1-2.5.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

1.1.Exposure by physical contact

1.2.Exposure considering social distance
radius

1.3.Exposure by face-to-face contact
within a social distance radius

1.4.Exposure by being in the same room

1.5.Exposure by being in the same building

Figure 1. Examples of assumptions on occupant exposure considering a room and a corridor
connected by a door and two simulated pedestrians within them.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

2.1.Exposure by physical contact
Occupant exposure in a confined space is here accounted for when people are in direct physical
contact to each other (i.e. pedestrians “touch each other”). It should be noted that most current
crowd models generally assume rigid bodies (Duives et al., 2013), i.e. non-deformable pedestrian
bodies which allow the detection of collision and contacts between agents. Therefore, this is
practically implemented considering the representation of the agents (often represented in crowd
models as circles or ellipses) and exploring that their coordinate in space overlap within a certain
radius corresponding to their dimensions. The example in Figure 1.1 shows one agent 𝑖 and one
agent 𝑗 that are in physical contact within a room. This assumption requires from a crowd model
the information concerning the pedestrian trajectories over time and the dimension of the agents.
2.2.Exposure considering social distance radius
Occupant exposure in a confined space assumes here the number of people in a social distance
radius defined by the user (e.g., 1 or 2 m). The centre of the social distance radius can be assumed
to be the centre of the modelled pedestrian, its nose or the outer border of the shoulder. This is
implemented by checking the coordinate in spaces of the pedestrians and evaluating if they are
within the given radius of interaction. This can conservatively consider that if one agent has at
least one part of its body within the social distance radius, it is assumed to be counted. The example
in in Figure 1.2 shows one agent 𝑖 and one agent 𝑗 that are within a given social distance radius 𝑅𝑖 .
This assumption requires from a crowd model the information concerning the pedestrian
trajectories over time (e.g. the parametric equations of pedestrian trajectories).
2.3.Exposure by face-to-face contact within a social distance radius
Occupant exposure in a confined space is assumed when people are in face-to-face contact to each
other within a given angle of interaction in a social distance radius defined by the user. To facilitate
implementation, the polar coordinates 𝛼𝑖𝑗 (𝑡) and 𝜌𝑖𝑗 (𝑡) can be used for defining the position of
the agent 𝑗 in the polar space in relation to each agent 𝑖 (see Figure 1.3), where 𝜌𝑖𝑗 changes over
time. Zero is the case in which people physically touch each other, the max value for 𝜌𝑖𝑗 = 𝑅𝑖
within the assumed social distance radius, so 𝜌𝑖𝑗 = [0, 𝑅𝑖 ]. 𝛼𝑖𝑗 (𝑡) changes over time and it can
vary from zero when the agent 𝑗 is in front of the agent 𝑖 to ±𝜋 when the agent 𝑗 is right behind
the agent 𝑖. 𝛽𝑖𝑗 (𝑡) is the orientation of the agent 𝑗 in the polar space defined by the agent 𝑖. It can
vary from zero when the agent 𝑗 is facing the agent 𝑖 to ±𝜋 when the agent 𝑗 is turning its back on
the agent 𝑖. As such, 𝛽𝑖𝑗 (𝑡) can be used to evaluate how many agents are at face-to-face contact
within a social distance radius at a given time. This can conservatively assume that if one agent
has at least one part of its body within the social distance radius, it is assumed to be checked for
the face-to-face contact criteria. This assumption requires from a crowd model the information
concerning both the pedestrian trajectories over time (considering a given position within the
simulated agent, e.g., the centre of the agent), as well as the direction of movement of each
pedestrian (in order to know the face orientation). The user would then need to make assumptions
concerning the angles leading to face-to-face contact between pedestrians.
2.4.Exposure by being in the same room
Occupant exposure in a confined space is here assumed when agents are in the same
room/compartment (see Figure 1.4). This assumption requires the information from a crowd model
concerning the number of building occupants in each room at each time-step.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

2.5.Exposure by being in the same building
Occupant exposure in a confined space is here assumed when agents are in the same building (see
Figure 1.5). This is the simplest assumption from a crowd modelling implementation standpoint,
as it only requires the information concerning how many people are in the building in a given timestep.

3. EXPOSED: the occupant exposure model
In this work, we present a novel occupant exposure model, named EXPOSED. This model aims at
estimating a set of metrics concerning occupant exposure in confined spaces. The assumptions
underpinning the definition of these metrics is provided in the following paragraphs. It is worth
mentioning that given the current lack of a comprehensive understanding of the SARS-CoV-2
virus transmission, we propose here a flexible and simple model to encourage its immediate usage
and exploitation in the crowd modelling community.
Considering that there is no information available on the initial number of agents who are
susceptible, infected, or recovered, the model aims at quantifying the exposure of the pedestrians
in a confined space. The general formulation of EXPOSED is here presented considering different
types of occupant exposure introduced in Section 2. In other words, the equations provided in this
section can be applied for the five types of exposure defined in Sections 2.1-2.5.
Assuming that each agent 𝑖 can be exposed to a certain number of occupants based on the exposure
assumption in use (see Section 2), it is possible to obtain the information concerning number of
agents to which the agent 𝑖 is exposed to at each time-step 𝒕=[ 𝑡0 , 𝑡1 , … , 𝑡𝑞 , … , 𝑡𝑓 ] until it has left
the building at the final time 𝑡𝑓 . In this formulation we assume that the time-steps have the same
magnitude (i.e., 𝑡𝑞+1 − 𝑡𝑞 = ∆𝑡 = 𝑐𝑜𝑛𝑠𝑡𝑎𝑛𝑡 ∀𝑞). This information can be represented as a set 𝑬𝒊
representing the number of people each agent is exposed to at each time-step 𝑡𝑞 .
𝑬𝒊 = {𝑒𝑡0 , 𝑒𝑡1 , … , 𝑒𝑡𝑞 , … , 𝑒𝑡𝑓 } ∀ 𝑖
[Equation 1]
where 𝑒𝑡𝑞 is the 𝑘 number of agents 𝑗 to which each individual agent 𝑖 is exposed at the time-step
𝑡𝑞 .
The information concerning each occupant exposure at each time-step can be represented in the
form of the matrix 𝑬𝒊𝒕 in Equation 2.
𝟏

et0
𝐸1
⋮
⋮
𝒊
𝑖
𝑬𝒕 = 𝐸 = e𝒊t0
⋮
⋮
(𝐸 𝑛 ) (e𝒏t0

…
⋱
…
⋱
…

e𝟏tq
⋮
e𝒊tq
⋮
e𝒏tq

…
⋱
…
⋱
…

e𝟏tf
⋮
e𝒊tf
⋮
e𝒏tf )
[Equation 2]

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Since 𝑬𝒊𝒕 presents the number of people each agent is exposed to at each 𝑡𝑞 , it is therefore possible
to obtain the information on the time 𝑇𝑘𝑖 each 𝑖 agent has been exposed to a given number of agents
𝑘 (i.e. the exposure time to 0 occupants, 1 occupant, …, m occupants) by summing 𝑡𝑞𝑖 , i.e., the
number of time-steps 𝑡𝑞 in which each agent 𝑖 was interacting with a discrete number of people 𝑘,
see Equation 3. The model user could assume that the exposure is considered either for any 𝑡 or
only counting the time-steps in case of a minimum exposure time (e.g. counting the 𝑡𝑞𝑖 if the
exposure last at least for a given number of seconds/minutes, i.e. a certain number of consecutive
𝑡𝑞𝑖 are required). The maximum number of occupants that agents are exposed to correspond to a
maximum of 𝑛 − 1 if the number of people in the building is restricted (i.e. if a maximum number
of people is allowed in the building at the same time) or to a generic number of people 𝑚 if we
assume a transient space.
𝑡𝑓

𝑇𝑘𝑖 = ∑ 𝑡𝑞𝑖 ∀ 𝑖, 𝑘
𝑡0

[Equation 3]
Considering the total time 𝑡𝑓 spent by all 𝑛 agents in the building, it is therefore possible to obtain
a set of distributions 𝑇𝑘 of exposure times corresponding to a given discrete number of agents 𝑘 ≥
0. Using a distribution from the two-parameter family of continuous probability distributions, 𝑇𝑘
can be defined by its mean (µ𝑘 ) and standard deviation (𝜎𝑘 ) as shown in Equation 4.
𝑇𝑘 (µ𝑘 , 𝜎𝑘2 )
[Equation 4]
These distributions provide useful information concerning the occupant exposure, including:
1) Maximum number of agents that people are exposed at the same time 𝑚
𝑖
2) Longer time of exposure to each given number of agents 𝑡𝑘,𝑚𝑎𝑥
3) Average µ𝑘 and variance 𝜎𝑘2 of time spent in contact with a given number of agents and
how those times are spread among contacts with different number of agents.
The values reported in these distributions - corresponding to each 𝑘 - range from a minimum
possible value corresponding to no exposure (i.e. zero exposure) to a maximum time of exposure
𝑖
𝑡𝑘,𝑚𝑎𝑥
for each simulated agent 𝑖 to each number of 𝑘 agents they are exposed to. The summation
over the data-points available for each of the values obtained ∀ 𝑘 (see Equation 5) helps
performing an assessment of the cumulative exposure 𝐶𝑘 to a given number of people 𝑘. The higher
is the value of the summation, the greater is the occupant exposure for 𝑘 > 0. The value of the
summation for 𝑘 = 0 is an indicator of how long people have not been exposed to other agents in
the building; this is called here 𝐶0 .
𝑛

𝐶𝑘 = ∑ 𝑇𝑘𝑖
𝑖=1

[Equation 5]

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

The sum of all 𝐶𝑘 with 𝑘 > 0 provides a global assessment of exposure 𝐺 for the total time 𝑡𝑓
spent by all 𝑛 agents in the building (see Equation 6). To obtain 𝐺, each 𝐶𝑘 is multiplied by a factor
𝛾𝑘 which increases the exposure in relation to the value of 𝑘. For instance, 𝛾𝑘 can be assumed
equal to 1 for 𝑘 = 1 and with increasingly higher values when 𝑘 > 1. The choice of the values for
𝛾𝑘 is left to the model user.
𝑚

𝐺 = ∑ 𝛾𝑘 𝐶𝑘
𝑘=1

[Equation 6]
The model user can therefore obtain different values for 𝐺 in relation to the assumptions adopted
for occupant exposure (see Section 2).
It should be noted that the matrix in Equation 2 can also be weighted considering the vulnerability
of each individual occupant (e.g. considering their individual properties, such as age, physical
abilities, etc. which can often be represented within a microscopic crowd model).

4. Coupled use of EXPOSED and a crowd model
The methodology for the use of EXPOSED together with a crowd model is presented in Figure 2
as a set of steps to follow.

Figure 2. Steps to be followed for the coupled use of the occupant exposure model EXPOSED
and a crowd model.
Step 1 is the definition of crowd movement scenarios. The user would have to set the assumptions
on crowd movement and behaviour, such as circulation paths, group behaviour (intended here as
a group of people moving together (Adrian et al., 2019), building occupant interactions, etc. Crowd

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

movement and behaviour can be represented with different levels of sophistication in relation to
the crowd model in use (Duives et al., 2013). The second step is the simulation of people movement
using a crowd model selected by the user. After the simulations have been performed, the
EXPOSED model user needs to decide which modelling assumption(s) to use concerning occupant
exposure (Step 3) - as discussed in Section 2 of this paper - and obtain the needed crowd model
outputs accordingly (Step 4). Depending on the type of disease transmission, the outputs required
can include the trajectories of the agents, their direction of movement, agent dimensions, or the
location of agents in the room/building. Step 5 includes the calculation of the occupant exposure
time, i.e., the time 𝑇𝑘𝑖 each agent 𝑖 has been exposed to a given number of occupants 𝑘. It is
therefore possible to calculate a set of distributions 𝑇𝑘 (µ𝑘 , 𝜎𝑘2 ) of exposure times and their
associated metrics (Step 6). It is therefore possible to calculate the cumulative exposure 𝐶𝑘 to a
given number of people (Step 7) and the global assessment of occupant exposure 𝐺 (Step 8). The
occupant exposure metrics can then be used to perform risk assessments on building usage and
subsequently inform decision making (Step 9).

5. Case Study
In this section a fictitious case study is presented to provide an example of the applicability of the
EXPOSED model. The scenarios and hypotheses included in this case study are deliberately kept
simple given its explanatory purpose. The values in use have been created with the Mersenne
Twister pseudo-random number generator (Matsumoto & Nishimura, 1998).
A generic building layout with a fixed number of people able to access it equal to 10 is considered.
Assuming that we obtained the required information concerning the simulated pedestrian
movement from a crowd model, the exposure time is calculated with any of the five assumed
criteria listed in Section 2. In this fictitious example, an exposure time between 0 and 5 min for
each individual agent 𝑖 to a given number of agents 𝑘 in the building has been obtained with a
pseudo-random number generator (presented in Appendix A), i.e. we are starting the application
of the methodology from Step 5 of Figure 2.
Equation 3 can be represented for each agent 𝑖 as in Figure 3 (representing the exposure time of
each agent 𝑖 to the other 9 people in the building, assuming that all cases of interactions occur).

Figure 3. Exposure time of an individual agent 𝑖 to a given number of agents 𝑘 in the building.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

All data-points (∀ 𝑖 = 𝑛) as in Figure 3 can be obtained to show the exposure time of each agent
to the other agents in the simulation 0 ≤ 𝑘 ≤ 𝑛 − 1). Those can be visualized as boxplots (see
Figure 4).

Figure 4. Boxplots of exposure times of all 𝑛 agents to the other 𝑛 − 1 agents in the building (k
from 0 to 9 from left to right).
Equation 4 is therefore associated with a given set of distributions 𝑇𝑘 having a certain average,
maximum and standard deviation (see Table 1).
Table 1. Average, standard deviation and maximum based on the distributions of exposure times
𝑇𝑛𝑘 for all occupants in the building and a given number 𝑘 of occupants they are exposed to
(times are here reported in seconds).
k (#) Average (s) Standard deviation (s) Max (s)
0
95
62
209
1
183
80
291
2
142
95
287
3
145
70
259
4
135
46
229
5
183
82
294
6
170
45
246
7
160
98
291
8
148
90
279
9
123
93
273
This information is useful to identify the maximum number of people that agents are exposed at
the same time (this is in this case the maximum number possible, i.e., 𝑛 − 1 =9, given the data
generated in the example). In addition, the average and standard deviations of the time of exposures
to each number of people is a useful information for performing a quantitative risk assessment.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

It is now possible to calculate 𝐶𝑘 (including 𝐶0 ) based on the summation of the data-points in the
distributions (see Equation 5). The calculated 𝐶𝑘 values are presented in Table 2. It should be noted
that in this case study, Table 2 presents the 𝐶𝑘 values considering 𝛾𝑘 = 1 or 𝑎𝑘 linearly increasing
with 𝑘 (i.e. 𝛾𝑘 = 2 𝑤ℎ𝑒𝑛 𝑘 = 2, 𝛾𝑘 = 3 𝑤ℎ𝑒𝑛 𝑘 = 3, … , 𝛾𝑘 = 𝑛 − 1 = 9 𝑤ℎ𝑒𝑛 𝑘 = 9).
Table 2. Calculated values of the integrals of the exposure curves (approximations made at 1
decimal).
𝐶0
𝐶1
𝐶2
𝐶3
𝐶4
𝐶5
𝐶6
𝐶7
𝐶8
𝐶9
k=1
15.9
30.5
23.7
24.2
22.5
30.5
28.3
26.7
24.6
20.5
k increases
linearly
15.9
30.5
47.4
72.5
90.0 152.7 170.0 187.2 196.9 184.4
Finally, it is possible to obtain the global assessment of occupant exposure 𝐺 using Equation 6
(considering both assumptions of 𝛾𝑘 = 1 or 𝛾𝑘 increasing linearly. The final value for 𝐺 when
𝛾𝑘 = 1 is 231.6 min, while assuming 𝛾𝑘 increasing linearly 𝐺 corresponds to 1131.6 min. The
calculated value for 𝐺 can be evaluated against an acceptance criteria or several 𝐺 values can be
calculated to compare different scenarios, assumptions, or conditions.

6. Discussion
EXPOSED is a simple model which is designed to retrofit existing microscopic crowd models to
perform the assessments of occupant exposure. This represents an invaluable information to
perform risk assessments during pandemics in confined spaces such as buildings and transportation
terminals. The outputs obtained with EXPOSED can be useful to perform several types of analysis
and it can be applied for several types of assumptions concerning disease transmissions leading to
a given exposure. EXPOSED is model-agnostic, as it is designed to exploit the existing capabilities
of any microscopic crowd models able to simulate pedestrian movement and provide basic outputs
concerning the location of agents in the simulated building over time. Those outputs are commonly
calculated by most commercial and research crowd movement models (Duives et al., 2013;
Gwynne et al., 1999).
One of the great advantages of EXPOSED is that it is not a new microscopic model of occupant
exposure, but it can be used either as a post-processor of an existing crowd model or it can be
implemented directly within an existing crowd model. To date, over 70 models are already
available in the crowd modelling market, thus it was deemed appropriate to develop a model to
retrofit existing tools (as they have already a large base of users (Lovreglio et al., 2019) and many
have gone through dedicated verification and validation testing (Ronchi et al., 2014)) rather than
developing a brand new model. Its flexibility along with its simplicity is deemed to encourage its
immediate usage and exploitation in the crowd modelling community. This is particularly
important during new pandemics in which new knowledge is constantly available and there may
be a need to update the assumptions performed on disease transmission. In fact, the outputs
provided by EXPOSED allow users to perform risk assessments of disease spreads in confined
spaces as a function of the assumptions adopted for occupant exposure.
EXPOSED can be used both to evaluate crowd management solutions as well as for building
design. During pandemics, crowd management solutions can be implemented within buildings to
ensure that social distances are kept by building occupants and the risk of disease transmission is

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

minimized. The results of EXPOSED can be used to quantitatively compare the effectiveness of
different crowd management solutions and identify the ones which yield the lowest occupant
exposure (i.e. the one corresponding to the lowest value of G defined in Equation 6). EXPOSED
gives also the opportunity to obtain a quantitative understanding on the impact of (e.g., crowd
management) solutions aiming at influencing behavioural itineraries and crowd movement on
occupant exposure in confined spaces.
Crowd models are currently designed for safety/comfort applications such as the optimisation of
pedestrian flows or the calculation of evacuation times in case of a threat (Bellomo et al., 2016;
Lovreglio et al., 2019; Ronchi, 2015). Therefore, their ability to investigate occupant exposure is
limited, as they are not natively designed for this purpose. Previous attempts to implement
capabilities for disease transmission applications with crowd modelling are either linked to specific
assumptions on occupant exposure (Goscé et al., 2014) or they are based on assumptions which
are generally not known to the modeller (i.e. how many people are initially infected in a building
(D’Orazio et al., 2020). EXPOSED is deliberately designed to be a universal model which can be
applied to any pedestrian crowd models regardless of their set of assumptions. It is also expected
that new features of crowd models will be available as these tools can be used to simulate people
movement during pandemics. This includes the representation of movement patterns, and social
interactions during pandemics. It is expected that new crowd model features concerning change in
movement and behaviours during pandemics would make the results obtained with EXPOSED
more reliable and usable for risk assessment.
A possible application of EXPOSED is the possibility to compare the impact on occupant exposure
while reducing/increasing the number of people in a building. This is a crucial type of information
for policy makers, as during the re-opening phase of a pandemic, they often face the challenge to
decide which type of people movement restrictions are the most appropriate for a given type of
building. Similarly, EXPOSED can be used to evaluate how the occupant exposure changes in
relation to the assumptions adopted for disease transmission. This is particularly important for the
case of new pandemics (such as COVID-19) for which a clear understanding on the mechanism of
disease transmission is not available yet (Lewis, 2020).
In the long term, EXPOSED could also be used to inform building design and minimize occupant
exposure based on the geometric layout of a building. This can be particularly relevant for confined
spaces in which a higher risk of disease transmission is expected (e.g. in the healthcare domain).
Future applications of EXPOSED could make use of the advances in crowd modelling (e.g. more
detailed microscopic representations of people movement and behaviour during pandemics), thus
including further mechanisms of transmission and more sophisticated interactions with the
environment, e.g., physical contacts to objects rather than only considering people and areas.
Current crowd models do several simplifications in the representation of the human body
(calculations are generally made considering a circle/ellipse representing a human in a 2D space
(Fruin, 1987) which is then extruded in a 3D environment). Novel crowd modelling approaches
are investigating more accurate representation of human movement based on biomechanical
models (Thompson et al., 2015), thus it is expected that they will be able in the future to investigate
even more microscopic interactions with objects. This information could directly be exploited in
risk assessments using EXPOSED.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

An additional advantage on the use of microscopic modelling of crowd movement to assess
occupant exposure is that it allows for in-depth considerations on the individual attributes of the
agents. For instance, existing crowd models often implement socio-demographic variables (e.g.
age, gender, physical abilities, functional limitations) (Duives et al., 2013; Geoerg et al., 2018)
which affect people movement and in turn can affect occupant exposure. This means that the use
of EXPOSED coupled with a microscopic crowd model takes into account the higher exposure of
individuals whose attribute make them more vulnerable in a crowd (e.g. people walking slower or
spending more time in performing way-finding in a building).
EXPOSED can also be used for the assessment of occupant exposure in buildings of the same type
or different types. Policy makers can ensure that measures aiming at minimizing disease
transmission result in a consistent level of occupant exposure. This type of modelling effort is
deemed to facilitate the identifications of restrictions which provide a consistent level of disease
transmission risk to building occupants. Similarly, EXPOSED can be used to perform a risk
assessment of individual buildings. It is sensitive to assume that acceptance criteria corresponding
to tolerable levels of exposure are identified (thresholds of tenability for buildings, in a similar
fashion to what is currently performed in risk assessments for other building hazards (Meacham
& Custer, 1995)) and used to evaluate the appropriate level of building usage.
The main limitations of the methodology proposed in this paper rely on the assumptions necessary
for the calibration of both the underlying crowd model and EXPOSED. The verification and
validation (V&V) of crowd models have been scrutinized through several research efforts over the
years, including dedicated V&V procedures designed for different types of applications (IMO,
2016; Rimea, 2016; Ronchi et al., 2013). The outputs obtained with EXPOSED will greatly be
affected by the validity of the underlying model used to simulate pedestrian movement. In addition,
the EXPOSED model user would need to perform a set of assumptions to calibrate the model. The
first key user input regards the assumptions for occupant exposure. Another important input to be
identified is the value of the 𝛾𝑘 multiplier (see Equation 6), as this can significantly affect the
results. As more knowledge concerning the mechanisms of disease transmission and crowd
behaviour during pandemics is available, the user would be able to appropriately calibrate those
inputs.

7. Conclusion
This paper presents EXPOSED, a model designed to support risk assessment based on occupant
exposure in confined spaces during pandemics. EXPOSED is model-agnostic as it is designed to
make use of common outputs of existing microscopic crowd models. EXPOSED is designed to
allow more informed decisions concerning building access restrictions during pandemics by
performing a quantitative assessment of occupant exposure.

Acknowledgements
Enrico Ronchi wishes to thank Cantene srl for providing financial support for the work presented
in this paper. The authors thank Håkan Frantzich for providing valuable feedback on the work
performed.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Appendix A. Pseudo-random generated exposure times (in min) of all 𝐧 agents
to the other n-1 agents in the building
𝑖
𝑘
0
1
2
3
4
5
6
7
8
9

1
0.640
0.718
1.640
1.439
2.222
3.378
4.103
3.427
0.784
1.223

2
0.110
3.732
0.121
1.060
1.798
4.595
2.996
1.217
3.586
3.951

3
1.477
3.521
2.620
3.435
2.755
3.632
2.100
3.227
1.800
0.145

4
0.328
0.954
4.289
1.261
2.356
1.211
3.457
0.102
4.655
4.554

5
2.734
4.843
4.788
3.821
3.824
4.908
3.187
4.837
2.220
0.455

6
3.485
3.206
1.081
2.569
1.803
3.561
2.948
3.507
0.582
3.013

7
1.098
2.085
1.103
4.308
1.710
1.453
2.737
3.110
3.680
2.249

8
2.255
3.846
4.002
3.393
2.308
4.490
1.135
2.316
2.826
0.468

9
2.114
4.579
0.673
1.439
2.931
1.454
2.676
0.148
0.249
0.812

10
1.621
3.063
3.369
1.429
0.804
1.847
2.995
4.856
4.233
3.620

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

References
Adrian, J., Bode, N., Amos, M., Baratchi, M., Beermann, M., Boltes, M., Corbetta, A., Dezecache,
G., Drury, J., Fu, Z., Geraerts, R., Gwynne, S., Hofinger, G., Hunt, A., Kanters, T., Kneidl,
A., Konya, K., Köster, G., Küpper, M., … Wijermans, N. (2019). A Glossary for Research
on
Human
Crowd
Dynamics.
Collective
Dynamics,
4.
https://doi.org/10.17815/CD.2019.19
Anderson, R. M., Anderson, B., & May, R. M. (1992). Infectious diseases of humans: Dynamics
and control. Oxford university press.
Anderson, R. M., Heesterbeek, H., Klinkenberg, D., & Hollingsworth, T. D. (2020). How will
country-based mitigation measures influence the course of the COVID-19 epidemic? The
Lancet, 395(10228), 931–934. https://doi.org/10.1016/S0140-6736(20)30567-5
Bahl, P., Doolan, C., de Silva, C., Chughtai, A. A., Bourouiba, L., & MacIntyre, C. R. (2020).
Airborne or Droplet Precautions for Health Workers Treating Coronavirus Disease 2019?
The Journal of Infectious Diseases, jiaa189. https://doi.org/10.1093/infdis/jiaa189
Bellomo, N., Clarke, D., Gibelli, L., Townsend, P., & Vreugdenhil, B. J. (2016). Human
behaviours in evacuation crowd dynamics: From modelling to “big data” toward crisis
management.
Physics
of
Life
Reviews,
18,
1–21.
https://doi.org/10.1016/j.plrev.2016.05.014
Bellomo, N., & Gibelli, L. (2016). Behavioral crowds: Modeling and Monte Carlo simulations
toward validation. Computers & Fluids. https://doi.org/10.1016/j.compfluid.2016.04.022
Bellomo, Nicola, & Dogbé, C. (2008). On the modelling crowd dynamics from scaling to
hyperbolic macroscopic models. Mathematical Models and Methods in Applied Sciences,
18(supp01), 1317–1345. https://doi.org/10.1142/S0218202508003054
D’Orazio, M., Bernardini, G., & Quagliarini, E. (2020). How to restart? An agent-based simulation
model towards the definition of strategies for COVID-19" second phase" in public
buildings. ArXiv Preprint ArXiv:2004.12927.
Duives, D. C., Daamen, W., & Hoogendoorn, S. P. (2013). State-of-the-art crowd motion
simulation models. Transportation Research Part C: Emerging Technologies, 37, 193–
209. https://doi.org/10.1016/j.trc.2013.02.005
Fruin, J. J. (1987). Pedestrian Planning and Design ((Revised Edition)). Elevator World, Inc,
Mobile, AL.
Geoerg, P., Schumann, J., Boltes, M., Holl, S., & Hofmann, A. (2018). The influence of physical
and mental constraints to a stream of people through a bottleneck. Proceedings of the 9th
International Conference on Pedestrian and Evacuation Dynamics.
Giordano, G., Blanchini, F., Bruno, R., Colaneri, P., Di Filippo, A., Di Matteo, A., & Colaneri, M.
(2020). Modelling the COVID-19 epidemic and implementation of population-wide
interventions in Italy. Nature Medicine. https://doi.org/10.1038/s41591-020-0883-7
Goscé, L., Barton, D. A., & Johansson, A. (2014). Analytical modelling of the spread of disease
in confined and crowded spaces. Scientific Reports, 4, 4856.
Goscé, L., & Johansson, A. (2018). Analysing the link between public transport use and airborne
transmission: Mobility and contagion in the London underground. Environmental Health,
17(1), 84. https://doi.org/10.1186/s12940-018-0427-5
Gwynne, S., Galea, E. R., Owen, M., Lawrence, P. J., & Filippidis, L. (1999). A review of the
methodologies used in the computer simulation of evacuation from the built environment.
Building and Environment, 34(6), 741–749. https://doi.org/10.1016/S03601323(98)00057-2

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Helbing, D., Farkas, I., & Vicsek, T. (2000). Simulating dynamical features of escape panic.
Nature, 407(6803), 487–490.
Honey-Roses, J., Anguelovski, I., Bohigas, J., Chireh, V., Daher, C., Konijnendijk, C., Litt, J.,
Mawani, V., McCall, M., Orellana, A., Oscilowicz, E., Sánchez, U., Senbel, M., Tan, X.,
Villagomez, E., Zapata, O., & Nieuwenhuijsen, M. (2020). The Impact of COVID-19 on
Public Space: A Review of the Emerging Questions [Preprint]. Open Science Framework.
https://doi.org/10.31219/osf.io/rf7xa
Italian Government. (2020). DPCM 22/03/2020 Misure urgenti di contenimento del contagio
sull’intero territorio nazionale [Urgent measures of contagion containment on the entire
national territory].
Johansson, A. (2008). Data-driven modeling of pedestrian crowds.
Johansson, A., & Goscè, L. (2014). Utilizing Crowd Insights to Refine Disease-Spreading Models.
In U. Weidmann, U. Kirsch, & M. Schreckenberg (Eds.), Pedestrian and Evacuation
Dynamics
2012
(pp.
1395–1403).
Springer
International
Publishing.
https://doi.org/10.1007/978-3-319-02447-9_116
Kermack, W. O., & McKendrick, A. G. (1927). A contribution to the mathematical theory of
epidemics. Proceedings of the Royal Society of London. Series A, Containing Papers of a
Mathematical and Physical Character, 115(772), 700–721.
Korean Ministry of Economy and Finance. (2020). Tackling COVID-19—Health, Quarantine and
Economic Measures: Korean Experience. Republic of Korea.
Kucharski, A. J., Russell, T. W., Diamond, C., Liu, Y., Edmunds, J., Funk, S., Eggo, R. M., Sun,
F., Jit, M., Munday, J. D., Davies, N., Gimma, A., van Zandvoort, K., Gibbs, H., Hellewell,
J., Jarvis, C. I., Clifford, S., Quilty, B. J., Bosse, N. I., … Flasche, S. (2020). Early
dynamics of transmission and control of COVID-19: A mathematical modelling study. The
Lancet Infectious Diseases, S1473309920301444. https://doi.org/10.1016/S14733099(20)30144-4
Lewis, D. (2020). Is the coronavirus airborne? Experts can’t agree. Nature, 580(7802), 175–175.
https://doi.org/10.1038/d41586-020-00974-w
Lovreglio, R., Ronchi, E., & Kinsey, M. J. (2019). An Online Survey of Pedestrian Evacuation
Model Usage and Users. Fire Technology. https://doi.org/10.1007/s10694-019-00923-8
Lovreglio, R., Ronchi, E., & Nilsson, D. (2015). Calibrating floor field cellular automaton models
for pedestrian dynamics by using likelihood function optimization. Physica A: Statistical
Mechanics
and
Its
Applications,
438,
308–320.
https://doi.org/10.1016/j.physa.2015.06.040
Matsumoto, M., & Nishimura, T. (1998). Mersenne twister: A 623-dimensionally equidistributed
uniform pseudo-random number generator. ACM Transactions on Modeling and Computer
Simulation (TOMACS), 8(1), 3–30.
Meacham, B. J., & Custer, R. L. (1995). Performance-based fire safety engineering: An
introduction of basic concepts. Sage Publications Sage CA: Thousand Oaks, CA.
Meloni, S., Perra, N., Arenas, A., Gómez, S., Moreno, Y., & Vespignani, A. (2011). Modeling
human mobility responses to the large-scale spreading of infectious diseases. Scientific
Reports, 1, 62.
Movement Strategies, L. (2020). Comparison of social distancing guidance across countries amid
the COVID-19 crisis (Return to Office 2020).
Organization, I. M. (2016). Revised guidelines on Evacuation Analysis for New and Existing
Passenger Ships, MSC.1/Circ.1533. International Maritime Organization.

E. Ronchi, R. Lovreglio. EXPOSED: An occupant exposure model for confined spaces to retrofit crowd models
during a pandemic

Organization, W. H., & others. (2020). Modes of transmission of virus causing COVID-19:
Implications for IPC precaution recommendations: Scientific brief, 27 March 2020. World
Health Organization.
Rimea, G. (2016). Richtlinie für Mikroskopische EntfluchtungsAnalysen [Guidelinefor
Microscopic Evacuation Analysis] version 3.0. www.rimea.de.
Ronchi, E. (2015). Disaster management: Design buildings for rapid evacuation. Nature,
528(7582), 333–333. https://doi.org/10.1038/528333b
Ronchi, E., Kuligowski, E. D., Nilsson, D., Peacock, R. D., & Reneke, P. A. (2014). Assessing the
Verification and Validation of Building Fire Evacuation Models. Fire Technology, 52,
197–219. https://doi.org/10.1007/s10694-014-0432-3
Ronchi, E., Kuligowski, E. D., Reneke, P. A., Peacock, R. D., & Nilsson, D. (2013). The process
of Verification and Validation of Building Fire Evacuation models. Technical Note 1822.
National Institute of Standards and Technology.
Saberi, M., Hamedmoghadam, H., Ashfaq, M., Hosseini, S. A., Gu, Z., Shafiei, S., Nair, D. J.,
Dixit, V., Gardner, L., Waller, S. T., & González, M. C. (2020). A simple contagion process
describes spreading of traffic jams in urban networks. Nature Communications, 11(1),
1616. https://doi.org/10.1038/s41467-020-15353-2
Thompson, P. A., & Marchant, E. W. (1995). Testing and application of the computer model
‘SIMULEX.’ Fire Safety Journal, 24(2), 149–166. https://doi.org/10.1016/03797112(95)00020-T
Thompson, P., Nilsson, D., Boyce, K., & McGrath, D. (2015). Evacuation models are running out
of time. Fire Safety Journal, 78, 251–261. https://doi.org/10.1016/j.firesaf.2015.09.004
Yu, I. T., Li, Y., Wong, T. W., Tam, W., Chan, A. T., Lee, J. H., Leung, D. Y., & Ho, T. (2004).
Evidence of airborne transmission of the severe acute respiratory syndrome virus. New
England Journal of Medicine, 350(17), 1731–1739.

