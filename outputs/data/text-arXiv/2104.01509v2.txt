Practical ML for Developing Countries Workshop at ICLR 2021

D ETECTION OF COVID-19 D ISEASE USING D EEP
N EURAL N ETWORKS WITH U LTRASOUND I MAGING

arXiv:2104.01509v2 [eess.IV] 11 Apr 2021

Carlos Rojas-Azabache, Karen Vilca-Janampa
Universidad Nacional Mayor de San Marcos, Peru
{carlos.rojas6,10140251}@unmsm.pe
Renzo Guerrero-Huayta, Dennis Núñez-Fernández
Universidad Nacional de Ingenierı́a, Peru
{rguerreroh,dnunezf}@uni.pe

A BSTRACT
The new coronavirus 2019 (COVID-2019) has rapidly become a pandemic and
has had a devastating effect on both everyday life, public health and the global
economy. It is critical to detect positive cases as early as possible to prevent the
further spread of this epidemic and to treat affected patients quickly. The need
for auxiliary diagnostic tools has increased as accurate automated tool kits are
not available. This paper presents a work in progress that proposes the analysis
of images of lung ultrasound scans using a convolutional neural network. The
trained model will be used on a Raspberry Pi to predict on new images.

1

I NTRODUCTION

COVID-19 is the most recently discovered infectious disease caused by the coronavirus. Both this
new virus and the disease it causes were unknown before the outbreak in Wuhan, China, in December
2019. Today, COVID-19 is a pandemic affecting many countries around the world. It has had
a devastating effect on daily life, public health and the global economy. The current COVID-19
pandemic has impacted the world with over 18.35 million infections and over 6,96,147 deaths so
far (as of August 5, 2020) (WHO, 2019). Early identification, isolation and care of patients is a key
strategy for optimal management of this pandemic (Ai et al., 2020) and therefore a new approach
can have a positive impact on the population and on the different remote areas of the country.
Since the appearance of cases of COVID-19, several methodologies based on machine learning have
been developed for its detection using medical images, gaining more relevance in the pulmonary
affectation those of the chest X-ray, computed tomography (CT) scanner and ultrasonography type.
Such approaches have shown favorable results. In (Horry et al., 2020a) transfer learning is used
with X-ray, ultrasound and CT images, and using the model VGG19 with an accuracy of up to 86%
for chest radiography, 100% for ultrasound and 84% for CT. In (Born et al., 2020) they make use
of 1103 ultrasound images of healthy patients with COVID-19 and bacterial pneumonia and a CNN
POCOVID-Net, giving a sensitivity of 0.96, a specificity of 0.79. At (Roy et al., 2020) they use
ultrasound imaging and a novel deep network, derived from Spatial Transformer Networks, that
predicts the quantification of disease severity and provides the location of pathologic features in a
weakly monitored manner.
However, the benefits and risks of each modality of imaging methods (chest radiography, CT, and
ultrasonography) will depend on the patient and the stage of disease progression. In the current state,
CT is the imaging method of choice for COVID-19 pneumonia imaging, which is characterized by
ground-glass opacity (GGO) abnormalities at the onset of the disease, followed by the crazy-paving
pattern, and finally consolidation in the more advanced stage of the disease (Pan et al., 2020) (Chung
et al., 2020). Although chest CT is useful, it is expensive and not available in many institutions, and
sterilization of the CT scanner after use can cause delays in the care of other patients (Yasukawa &
Minami, 2020). Another method used is the chest X-ray, but when using radiation it requires certain
requirements regarding permits and the construction of the environment that it needs to function, it
is necessary to comply with regulations, as well as personnel with a license to use radiation and also
1

Practical ML for Developing Countries Workshop at ICLR 2021

good maintenance of the equipment, without considering that in the country this procedure is used
only for control and not for detection.
In this paper we propose a convolutional neural network in grayscale images obtained from lung
ultrasound to classify whether the image belongs to a patient with COVID-19 or a healthy one. The
system will perform inference on a Raspberry Pi embedded computer to work in different health
centers with or without an Internet connection.

2

M ETHODOLOGY

In this work we will use lung ultrasound images to perform the detection of COVID-19, as it is a
low cost and high availability method that does not use ionizing radiation. In addition, we propose
the use of a convolutional neural network to perform the classification task. The trained model will
be used on a Raspberry Pi to predict on new images with fast response time and without Internet
access, see Fig. 1.

Figure 1: Diagram for the proposed system
The dataset used for this work was collected from different private clinics in the town of Lima, and
extracted with various brands of portable ultrasound machines. The proposed number of videos for
collecting is 50, from which a total of 750 images will be extracted for cases with COVID-19 and
750 images for healthy cases. The images will be presented in grayscale format and with a size of
512x512 pixels.
The proposed architecture is based on the stages of image processing, data enhancement, model construction and finally a classification. In the processing stage, a scaling to 224x224 pixels will be performed, and also data augmentation will be used, thus obtaining 10 times the initial amount (Horry
et al., 2020b). In the construction of the model, it has been taken into account previously proposed
architectures for the classification of images from chest X-rays such as VGG-16 (Qjidaa et al., 2020)
and the COVIDX-Net based on seven different architectures from DCNN, VGG19, DenseNet201,
InceptionV2, Resnet101, InceptionV3, Xception and MobileNetV2 (Hemdan et al., 2020). In addition, for the construction of the model, transfer learning from the POCOVID-Net network will
be used (Born et al., 2020), training the dense layers so that they can classify the lung ultrasound
images that are in the dataset. Therefore, the proposed architecture will have the following composition: 2xC(150x150x64) - MP(75x75x64) - 2xC(75x75x128) - MP(37x37x128) - 3xC(37x37x256)
- MP(18x18x256) - 3xC(18x18x512) - MP(9x9x512) - 3xC(9x9x512) - MP(4x4x512) - F(8192) FC(2). Where, C: Conv. layer, F: Flatten, FC: Full connection, MP: Max Polling.

3

C ONCLUSIONS

In this work we propose the use of lung ultrasound imaging and a convolutional neural network for
the detection of COVID-19, and the use of the trained model in a Raspberry Pi to perform prediction
on new images. Ultrasonography, since it does not use ionizing radiation, decreases the cost and
has high availability. It can also be performed several times to evaluate the patient’s condition, an
alternative that is not possible with chest X-rays or tomography. Despite our work is interesting, we
are still collecting the images. In this way, the project will have a positive impact on the population
and on the different remote areas of the country, since it will be of great support for the diagnosis,
prognosis, monitoring, recovery and complications that Covid-19 patients present.

2

Practical ML for Developing Countries Workshop at ICLR 2021

R EFERENCES
T. Ai, Z. Yang, H. Hou, C. Zhan, C. Chen, W. Lv, Q. Tao, Z. Sun, and L. Xia. Correlation of Chest
CT and RT-PCR Testing for Coronavirus Disease 2019 (COVID-19) in China: A Report of 1014
Cases. Radiology, 296(2):E32–E40, 08 2020.
Jannis Born, Gabriel Brändle, Manuel Cossio, Marion Disdier, Julie Goulet, Jérémie Roulin, and
Nina Wiedemann. Pocovid-net: Automatic detection of covid-19 from a new lung ultrasound
imaging dataset (pocus), 2020.
Michael Chung, Adam Bernheim, Xueyan Mei, Ning Zhang, Mingqian Huang, Xianjun Zeng, Jiufa
Cui, Wenjian Xu, Yang Yang, Zahi A. Fayad, Adam Jacobi, Kunwei Li, Shaolin Li, and Hong
Shan. Ct imaging features of 2019 novel coronavirus (2019-ncov). Radiology, 295(1):202–
207, 2020. doi: 10.1148/radiol.2020200230. URL https://doi.org/10.1148/radiol.
2020200230. PMID: 32017661.
Ezz El-Din Hemdan, Marwa A. Shouman, and Mohamed Esmail Karar. Covidx-net: A framework
of deep learning classifiers to diagnose covid-19 in x-ray images, 2020.
M. J. Horry, S. Chakraborty, M. Paul, A. Ulhaq, B. Pradhan, M. Saha, and N. Shukla. Covid-19
detection through transfer learning using multimodal imaging data. IEEE Access, 8:149808–
149824, 2020a.
M. J. Horry, S. Chakraborty, M. Paul, A. Ulhaq, B. Pradhan, M. Saha, and N. Shukla. Covid-19
detection through transfer learning using multimodal imaging data. IEEE Access, 8:149808–
149824, 2020b.
F. Pan, T. Ye, P. Sun, S. Gui, B. Liang, L. Li, D. Zheng, J. Wang, R. L. Hesketh, L. Yang, and
C. Zheng. Time Course of Lung Changes at Chest CT during Recovery from Coronavirus Disease
2019 (COVID-19). Radiology, 295(3):715–721, 06 2020.
M. Qjidaa, A. Ben-fares, Y. Mechbal, H. Amakdouf, M. Maaroufi, B. Alami, and H. Qjidaa. Development of a clinical decision support system for the early detection of covid-19 using deep
learning based on chest radiographic images. In 2020 International Conference on Intelligent
Systems and Computer Vision (ISCV), pp. 1–6, 2020.
S. Roy, W. Menapace, S. Oei, B. Luijten, E. Fini, C. Saltori, I. Huijben, N. Chennakeshava, F. Mento,
A. Sentelli, E. Peschiera, R. Trevisan, G. Maschietto, E. Torri, R. Inchingolo, A. Smargiassi,
G. Soldati, P. Rota, A. Passerini, R. J. G. van Sloun, E. Ricci, and L. Demi. Deep learning
for classification and localization of covid-19 markers in point-of-care lung ultrasound. IEEE
Transactions on Medical Imaging, 39(8):2676–2687, 2020.
WHO. Who covid-19 situation reports. In World Health Organization report, Geneva, 2019.
Kosuke Yasukawa and Taro Minami. Point-of-care lung ultrasound findings in patients with covid-19
pneumonia. The American Journal of Tropical Medicine and Hygiene, 102(6):1198–1202, 2020.
ISSN 0002-9637. doi: https://doi.org/10.4269/ajtmh.20-0280. URL http://www.ajtmh.
org/content/journals/10.4269/ajtmh.20-0280.

3

