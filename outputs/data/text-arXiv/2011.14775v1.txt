1

Crowd Size using CommSense Instrument for
COVID-19 Echo Period
Santu Sardar
IIT Hyderabad

Amit K. Mishra
University of Cape Town

Mohammed Z. A. Khan
IIT Hyderabad

arXiv:2011.14775v1 [cs.NI] 20 Oct 2020

Abstract
The period after the COVID-19 wave is called the Echo-period. Estimation of crowd size in an
outdoor environment is essential in the Echo-period. Making a simple and flexible working system for
the same is the need of the hour. This article proposes and evaluates a non-intrusive, passive, and costeffective solution for crowd size estimation in an outdoor environment. We call the proposed system as
LTE communication infrastructure based environment sensing or LTE-CommSense. This system does not
need any active signal transmission as it uses LTE transmitted signal. So, this is a power-efficient, simple
low footprint device. Importantly, the personal identity of the people in the crowd can not be obtained
using this method. First, the system uses practical data to determine whether the outdoor environment
is empty or not. If not, it tries to estimate the number of people occupying the near range locality.
Performance evaluation with practical data confirms the feasibility of this proposed approach.

I. I NTRODUCTION
With the outbreak of COVID-19 virus, we are forced to rethink visiting public areas [1–4]. After the
current primary wave of infection improves, we will be living in a period when we will need to run
business “almost” as usual without a vaccine. This phase is sometimes called the Echo-period [5]. In
this scenario, a device to measure the crowd size is urgently required. Crowd sensing is an active area
of research because of its diverse applications.
Keeping this in mind, a passive system, called CommSense (communication-based environment sensing
system), is proposed here for measuring crowd size in an outdoor environment. The concept of CommSense was proposed and verified by the authors in simulation and with field-collected data for various
indoor applications like indoor object detection, indoor localization and indoor occupancy estimation [6].
The system was also tested for outdoor vehicle detection and classification [7]. These give the confidence
to apply the CommSense principle to perform outdoor crowd size measurement. It can be noted that
a major advantage of the CommSense system, compared to audio or vision-based methods, is that our
system is non-intrusive. It cannot identify the persons.
To demonstrate the objective, the experiments and analyses performed here are as follows:
1) First, we considered that the people in the outdoor crowd are static. Crowd detection using a
threshold-based method was performed first. If a crowd is detected, it triggers the investigation of
the deriving number of persons in the crowd.
2) In the next step, the same analysis was repeated when the people in the crowd were moving freely.
3) Finally, we have performed these two experiments on a different day and time and compared the
performance to examine the consistency of this approach.
II. T HE S TATE OF THE A RT
As crowd sensing is vital for many other applications [8, 9], there have been attempts to perform
outdoor crowd size estimation in the past. Video based crowd size estimation was proposed in [10].
The performance of video processing for crowd-monitoring applications was analyzed in [11]. A crowd
counting method was proposed in [12], which uses detection flow along the temporal video sequence.

Automated video analytic was used for crowd monitoring and counting in [13]. Counting the number of
people present in a crowd with a real-time network of image sensors was proposed in [14]. A motionbased crowd density estimation method was proposed in [15]. A crowd counting method based on image
processing and Convolutional Neural Network (CNN) was proposed in [16]. The proposal was verified
using U CF − CC − 50 dataset and the ShanghaiT ech crowd monitoring dataset [16]. But these visionbased approaches require the crowd to be in the line-of-sight of the cameras. Their performance also
depends on the overlapping of the objects, the relative positioning of the crowd, visibility at the time of
the day, weather conditions, pollution level, etc. Additionally, it also poses privacy concerns. The authors
of [17] tried to estimate the size of dense crowds i.e., having hundreds to thousands of people present
in the crowd using a distributed protocol that relies on mobile device-to-device communication. This
required active transmission at all times and was verified in simulation. In addition, for the post-COVID
scenario, we need crowd size estimation on a smaller scale. The work in [18] uses smartphones’ acoustic
sensors in the presence of human conversation, and motion sensors in the absence of any conversational
data, for crowd size estimation. The presence of up to ten occupants was tested with this proposed system.
There has been few attempts to use LTE based systems for crowd density estimation [19, 20]. In [21],
the authors presented an Internet of Medical Things enabled wearable called EasyBand for autocontact
tracing to limit the growth of new positive cases. Currently, the world is almost coming to a halt to reduce
COVID-19 spread. Official recommendations for social distancing have pushed people into ever-smaller
clusters [1]. Though the risk is low for a small event or crowd, each additional case or event of any size
increases the overall risk.
III. LTE-C OMM S ENSE S YSTEM
Fig. 1(a) shows a simple version of the proposed system which uses a piece of single user equipment
(UE) [6, 7]. In this work, a single UE was considered for verification using practical data. The LTE UE
receiver works at Band-40 (2300 MHz to 2400 MHz frequency band) in time division duplexing (TDD)
topology. The signal captured had a bandwidth of 10 MHz.

(a)

(b)

Fig. 1. (a) A Block Diagram of LTE-CommSense System which uses a Single UE for Outdoor Crowd-size Estimation, (b)
Relative Position of LTE receiver, Crowd and LTE eNodeB in the Outdoor Environment.

In the experimental setup, we have used a total of 19 number of people in an outdoor roadside
environment. The CommSense prototype was employed to collect LTE downlink (DL) data affected by
the presence of the crowd. The modelled UE, which is a part of the proposed prototype, then receives
Accepted; to be published in IEEE Consumer Electronics Magazine

2

the DL data and performs standard UE operations to evaluate state information (CSI). Further processing
was performed on the CSI for the detection of the crowd and onward estimation of the number of people
present in the crowd. First, feature extraction was performed, and then crowd presence was detected using
a threshold-based method. In case a crowd is detected, the next stage of operation initiates wherein the
prototype tries to determine the number of persons present in the crowd.
The description and working principle of an USRP N200 SDR platform can be obtained from [6, 7].
The SDR was modelled as the CommSense prototype containing LTE receiver. The LTE downlink signal
was captured via the antenna and radio frequency (RF) daughter card connected to the N200 platform.
This captured downlink data was transferred to the processing unit using Ethernet serial port interface
for further computation and analysis. Fig. 1(b) explains the relative position of the prototype, crowd,
and LTE base station (eNodeB) in the outdoor environment in the experimental setup. Firstly, the LTE
downlink data were recorded without the presence of the crowd, and then data were captured for different
numbers of people present. The size of the crowd i.e. the number of persons present in the crowd is
varied from one to nineteen at an interval of three. This method is performed for two scenarios. In one
case, the persons in the crowd are static, and in another case, they were moving without any restriction
within the premises. For each downlink data capture, a thousand CSI values were extracted from the LTE
receiver inside our prototype.
IV. A C ASE S TUDY D ESIGN
A. Detection for Static and Dynamic Crowd
As per the experimental setup, there are a total of eight different cases. The first class corresponds
to the outdoor environment with the absence of any crowd. The next category denotes the presence of
only one person. Category three is for the presence of four persons. In a similar manner, we keep on
increasing the number of persons by three until the eighth category corresponding to the presence of
nineteen persons was reached. For all these eight categories, 1000 CSI values were extracted. Now, to
detect the presence of a person, Principal component analysis (PCA) was performed for feature extraction
of the CSI values [6].
Principal components for all the categories corresponding to the largest eigenvalue are plotted in
Fig. 2(a). Fig. 2(b) depict the three-dimensional scatterplots of the principal components for the largest
three eigenvalues. The description of the categories for Fig. 2(b) are explained in Table I. In this plot,
distinguishable clusters are visible corresponding to the absence of crowd and the presence of different
sizes of the crowd. In Fig. 2(a), for the case where only one principal component corresponding to the
largest eigenvalue was considered, the overlap between the clusters was more, and this overlap decreases
gradually when more number of principal components were considered.
TABLE I
C ATEGORY D ESCRIPTION IN THE T HREE D IMENSIONAL C LUSTERPLOT FOR T HREE P RINCIPAL C OMPONENTS
CORRESPONDING TO H IGHEST T HREE E IGENVALUES
Symbol

•

+
X

♦
∆
F

Experiment Description
Empty Outdoor Environment
No. of Persons = 1
No. of Persons = 4
No. of Persons = 7
No. of Persons = 10
No. of Persons = 13
No. of Persons = 16
No. of Persons = 19

Accepted; to be published in IEEE Consumer Electronics Magazine

Category
1
2
3
4
5
6
7
8

3

(a)

(b)

Fig. 2. Static Crowd Detection: (a) Histogram of Principal Component for Largest Eigenvalue, (b) Scatterplot corresponding to
Highest Three Eigenvalues

The above analysis was performed next when the persons were in random motion in the locality.
Principal components for all the categories corresponding to the largest eigenvalue are plotted in Fig.
3(a). Fig. 3(b) depict the three-dimensional scatterplots of the principal components for the largest
three eigenvalues. The description of the categories for Fig. 3(b) are same as in Table I. In this plot,
distinguishable clusters are visible corresponding to the absence of crowd and the presence of different
sizes of the crowd. In Fig. 3(a) i.e., for the case where only one principal component corresponding
to the largest eigenvalue was considered, the overlap between the clusters was more, and this overlap
decreases gradually when more number of principal components were considered.

(a)

(b)

Fig. 3. Dynamic Crowd Detection: (a) Histogram of Principal Component for Largest Eigenvalue, (b) Scatterplot corresponding
to Highest Three Eigenvalues

B. Threshold-based Detection and Verification of Consistency
Threshold-based detection performance corresponding to different values of the selected threshold may
be analyzed for both static and dynamic case. For static crowd as shown in Fig. 2(a), the error percentage
of crowd detection vs. the selected threshold was shown in Fig. 4. The percentage of error in detection
was obtained to be 0.65% for a threshold value of 0.80. The same analysis was performed for the dynamic
crowd shown in Fig. 3(a). The error percentage of 1.7% was evaluated for a threshold value of 0.82 (Fig.
2(d)). Both these results are depicted in Fig. 4 labelled as ‘Static Crowd Day 1’ and ‘Dynamic Crowd
Day 1’ respectively.
We evaluated the performance consistency of the proposed approach to ascertain the reliability of the
developed prototype. The exercise performed above i.e., detection of the crowd and subsequent crowd size
Accepted; to be published in IEEE Consumer Electronics Magazine

4

estimation for the static and dynamic crowd, was repeated on a different day with a new set of people.
In Fig. 4, we can see the detection performance for the other day (Day 2) was also along with the
initial day data. In ‘Day 2’, for these two different types of crowds, minimum detection errors achieved a
minimum value of 0.8% and 1.55%, respectively. The threshold value for which the error percentages are
minimum can be finalized as the threshold value with which the future data samples may be compared for
detection of crowd. Comparison with the performances of Day 1 concludes that both the days’ detection
performance was consistent.

Fig. 4. Consistency of CommSense Detector performance: Comparison of Detection Performance at Two Different Days.

C. Estimation of Crowd Size for Static and Dynamic Crowd
Detection of the crowd triggers the next stage of analysis. Here, we attempt to estimate crowd size
i.e. the number of persons in the crowd. This estimation was also performed for both static and dynamic
conditions of the crowd. Table II depicts the evaluated accuracy for different numbers data for training
and size estimation. A simple nearest neighbor classifier was chosen for this purpose. When a new sample
data is input to the system, using the nearest neighbor classifier the distance of that from the nearest data
available in the training data-set was evaluated. The results reveal that proposed approach is a promising
candidate for crowd detection and its size estimation in an outdoor environment consisting of either static
or dynamic persons present in the crowd. Table III shows the confusion matrix for the lowest accuracy
achieved in the Table II. The corresponding accuracy achieved for the static and dynamic crowd cases
are 86.02% and 84.55%, respectively.
TABLE II
C LASSIFICATION OF N UMBER OF P ERSONS P RESENT FOR S TATIC AND DYNAMIC C ROWD S CENARIO
Training
Images

Testing
Images

200
300
400
500
600
750

250
350
500
700
800
1000

Accuracy
(%)
for
Static
Crowd
85.9
86.3
86.02
85.3
85.6
85.6

Accuracy
(%)
for
Dynamic
Crowd
84.35
85.36
84.55
83.02
83.72
83.91

Accepted; to be published in IEEE Consumer Electronics Magazine

5

TABLE III
C ONFUSION M ATRIX FOR S TATIC AND DYNAMIC C ROWD FOR THE CASE OF 500 T RAINING DATA PER C ATEGORY AND 700
T ESTING DATA PER C ATEGORY
Static Crowd
697
1
0
0
0
0
0
0
697
1
0
0
0
0
0
0

3

0

698
1
0
0
0
0
0

1
699
0
0
0
0
0

3
685
10
0
0
0
0
0

0

0
0
682
7
0
8
1
Dynamic
0
0
14
0
688 2
3
659
5
12
0
0
0
11
0
0

0

0

0
0
0
0
7
0
671 15
29
644
7
0
2
26
Crowd
0
0
0
0
0
0
22
1
639 28
24
623
11
10
1
44

0

0

0
0
11
5
1
685
1

0
0
0
2
26
0
670

0
0
0
14
14
5
658
5

0
0
0
1
2
48
10
650

V. C ONCLUSION
Crowd detection and its size estimation in an outdoor environment are very helpful for safety in the
post-COVID world. This article proposes a passive non-intrusive solution for outdoor crowd detection and
subsequently, its size estimation. The feasibility of this novel approach was verified with practical signal
captured using SDR based prototype developed by the authors. The detection and subsequent estimation
analysis was performed for crowd in static condition. Later the same analysis was performed for the case
where the persons were in motion without any restriction in the outdoor location. The results prove the
feasibility of our proposal. For the static crowd case, the percentage of error in detection was 0.65%,
whereas, for the dynamic scenario, the same was evaluated to be 1.7%.
Consistency of the performance of this proposal was evaluated by calculating the detection accuracy
for static and dynamic crowd on a different day. The crowd was constituted with a different set of
people. When compared with the initial outcomes, similar performance was observed which proves the
performance consistency of the proposed method.
For the static as well as dynamic crowd cases, the nearest neighbor classifier provided acceptable
performance. Fig. 2(a) and Fig. 3(a) reveals that confusion is more when we try to distinguish between
more number of persons.
The analysis in this article with practical data confirms that LTE-CommSense principle can successfully
detect crowd in outdoor environment. After detection, it can estimate the crowd size as well with
reasonable accuracy.
R EFERENCES
[1] V. S. Rathore, V. Kumawat, and B. Umamaheswari, “Coronavirus (covid-19) in india- statistics facts,” in
2020 Fourth World Conference on Smart Trends in Systems, Security and Sustainability (WorldS4), 2020, pp.
518–521.
[2] T. Coughlin, “Impact of COVID-19 on the consumer electronics market,” IEEE Consumer Electronics
Magazine, pp. 1–1, 2020, doi: 10.1109/MCE.2020.3016753.
[3] R. Abbas and K. Michael, “COVID-19 contact trace app deployments: Learnings from australia and singapore,”
IEEE Consumer Electronics Magazine, vol. 9, no. 5, pp. 65–70, 2020.

Accepted; to be published in IEEE Consumer Electronics Magazine

6

[4] K. Michael and R. Abbas, “Behind COVID-19 contact trace apps: The google–apple partnership,” IEEE
Consumer Electronics Magazine, vol. 9, no. 5, pp. 71–76, 2020.
[5] “Multilateral call for solutions for covid-19 echo period – life without a vaccine,” https://www.eurekanetwork.
org/content/multilateral-call-solutions-covid-19-echo-period, accessed: 2020-06-19.
[6] S. Sardar, A. K. Mishra, and M. Z. A. Khan, “Indoor occupancy estimation using the lte-commsense
system,” International Journal of Remote Sensing, vol. 41, no. 14, pp. 5609–5619, 2020. [Online]. Available:
https://doi.org/10.1080/2150704X.2020.1734246
[7] S. Sardar, A. K. Mishra, and M. Z. A. Khan, “Vehicle detection and classification using lte-commsense,” IET
Radar, Sonar Navigation, vol. 13, no. 5, pp. 850–857, 2019.
[8] S. P. Mohanty, U. Choppali, and E. Kougianos, “Everything you wanted to know about smart cities: The
internet of things is the backbone,” IEEE Consumer Electronics Magazine, vol. 5, no. 3, pp. 60–70, 2016.
[9] A. Baldini, L. Ciabattoni, R. Felicetti, F. Ferracuti, S. Longhi, A. Monteriú, and A. Freddi, “Room occupancy
detection: Combining RSS analysis and Fuzzy logic,” in Proc. IEEE 6th International Conference on Consumer
Electronics - Berlin (ICCE-Berlin), Sept 2016, pp. 69–72.
[10] W. Li, X. Wu, K. Matsumoto, and H. Zhao, “A new approach of crowd density estimation,” in Proc. IEEE
Region 10 Conference, 2010, pp. 200–203.
[11] C. Bailas, M. Marsden, D. Zhang, N. E. O’Connor, and S. Little, “Performance of video processing at the
edge for crowd-monitoring applications,” in Proc. IEEE 4th World Forum on Internet of Things (WF-IoT),
2018, pp. 482–487.
[12] J. Xing, H. Ai, L. Liu, and S. Lao, “Robust crowd counting using detection flow,” in Proc. 18th IEEE
International Conference on Image Processing, 2011, pp. 2061–2064.
[13] K. H. Cheong, S. Poeschmann, J. W. Lai, J. M. Koh, U. R. Acharya, S. C. M. Yu, and K. J. W. Tang, “Practical
automated video analytics for crowd monitoring and counting,” IEEE Access, vol. 7, pp. 183 252–183 261,
2019.
[14] Yang, Gonzalez-Banos, and Guibas, “Counting people in crowds with a real-time network of simple image
sensors,” in Proceedings Ninth IEEE International Conference on Computer Vision, 2003, pp. 122–129.
[15] P. Chondro, C. Liu, C. Chen, and S. Ruan, “Detecting abnormal massive crowd flows: Characterizing fleeing
en masse by analyzing the acceleration of object vectors,” IEEE Consumer Electronics Magazine, vol. 8, no. 4,
pp. 32–37, 2019.
[16] Z. Liu, Y. Chen, B. Chen, L. Zhu, D. Wu, and G. Shen, “Crowd counting method based on convolutional
neural network with global density feature,” IEEE Access, vol. 7, pp. 88 789–88 798, 2019.
[17] P. Danielis, S. T. Kouyoumdjieva, and G. Karlsson, “Urbancount: Mobile crowd counting in urban environments,” in Proc. 8th IEEE Annual Information Technology, Electronics and Mobile Communication Conference
(IEMCON), 2017, pp. 640–648.
[18] M. A. A. H. Khan, H. M. S. Hossain, and N. Roy, “Sensepresence: Infrastructure-less occupancy detection for
opportunistic sensing applications,” in Proc. 16th IEEE International Conference on Mobile Data Management,
vol. 2, 2015, pp. 56–61.
[19] M. De Sanctis, T. Rossi, S. Di Domenico, E. Cianca, G. Ligresti, and M. Ruggieri, “Lte signals for device-free
crowd density estimation through csi secant set and svd,” IEEE Access, vol. 7, pp. 159 943–159 951, 2019.
[20] S. D. Domenico, M. D. Sanctis, E. Cianca, P. Colucci, and G. Bianchi, “LTE-based Passive Device-free Crowd
Density Dstimation,” in Proc. IEEE International Conference on Communications (ICC), May 2017, pp. 1–6.
[21] A. K. Tripathy, A. G. Mohapatra, S. P. Mohanty, E. Kougianos, A. M. Joshi, and G. Das, “Easyband: A
wearable for safety-aware mobility during pandemic outbreak,” IEEE Consumer Electronics Magazine, vol. 9,
no. 5, pp. 57–61, 2020.
Santu Sardar received the M.Tech. degree from IIT Guwahati, India in 2010. He is pursuing his Ph.D. from IIT Hyderabad,
India and heading a DRDO laboratory working on Quantum technologies. Contact him at sardar.santu@gmail.com.
Amit K. Mishra joined IIT Guwahati, as an Assistant Professor in 2006. He is currently with the University of Cape Town,
Cape Town, South Africa. Mr. Mishra is a Y-Rated Researcher in South Africa. He was a recipient of the IRSI Young Scientist
Award in 2008 and the Endeavor Research Fellowship in 2010. Contact him at akmishra@ieee.org.
Mohammed Z. A. Khan has worked with Sasken, Silica Semiconductors, and Hellosoft. He is currently a Professor at IIT
Hyderabad, India. His contributions in space–time block codes are adopted by the WiMAX Standard. He was a recipient of
the INAE Young Engineer Award in 2006 and the Visvesvarya Young Faculty Research Fellowship since 2016. Contact him at
zafar@iith.ac.in.

Accepted; to be published in IEEE Consumer Electronics Magazine

7

