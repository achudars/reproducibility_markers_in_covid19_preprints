arXiv:2008.06549v2 [cs.SI] 21 Dec 2020

Targeted Interventions Reduce the Spread of
COVID-19: Simulation Study on Real Mobility Data
1+

Haotian Wang,2+ Abhirup Ghosh,3 Jiaxin Ding,4∗ Rik Sarkar,5 Jie Gao
1

Department of Computer Science, Stony Brook University, USA
2

3

Department of Computing, Imperial College London, UK

John Hopcroft Center for Computer Science, Shanghai Jiao Tong University, China
4

5

∗

School of Informatics, University of Edinburgh, UK
Department of Computer Science, Rutgers University, USA

To whom correspondence should be addressed; E-mail: rsarkar@inf.ed.ac.uk. + Co-first author.

Major interventions have been introduced worldwide to slow down the spread
of the SARS-CoV-2 virus. Large scale lockdown of human movements are effective in reducing the spread, but they come at a cost of significantly limited
societal functions. We show that natural human movements are statistically diverse, and spread of the disease is significantly influenced by a small group of
active individuals and gathering venues. We find that interventions focused on
these most mobile individuals and popular venues reduce both the peak infection rate and the total infected population while retaining high levels of social
activity. These trends are seen consistently in simulations with real human mobility data of different scales, resolutions, and modalities from multiple cities
across the world. The observation implies that compared to broad sweeping
interventions, more targeted strategies based on the network effects in human
mobility provide better balance between pandemic control and normal social
activities.

Introduction
The global pandemic of a novel coronavirus (SARS-CoV-2) has swept through nearly all countries since December 2019. Due to the high infection rate and therefore high demand for medical resources, most countries have adopted large-scale interventions such as business lockdowns
1

and restricted movements. These intervention methods have proven to be effective, successfully
reducing the number of peak daily infected cases and the total number of infected cases so far,
as shown by both direct observation from real data (1, 2) as well as indirect metapopulation
models and simulations (3, 4).
While these intervention methods have aided controlling the pandemic, they are not sustainable over long periods of time. To address this challenge, we must understand the effect of
human movements and if the epidemic can be controlled by a less disruptive set of intervention
strategies.
The relation between mobility and spread of COVID-19 has been observed in several recent studies (4–6) that show empirical evidence of correlation between aggregate mobility and
number of cases. These observations do not consider the social costs (7) (for example, the reduction in social and economic activities due to the ailment) and are at large scales that do not
provide the understanding necessary for more targeted interventions (2). Classical epidemiology approaches can model behaviour at scale of agents – these include models such as SIR or
SEIR (8) and their variations (3, 9, 10), data-driven models (11), and multi-agent models (12).
By amending the epidemiological models with characteristics of COVID-19 and incorporating
the effect of real human movements, we can gain insights into targeted strategies for interventions and the social costs of interventions.
The objective of our study is to understand the effect of human movements in the spread of
the virus. We use an agent based simulation where a mobile agent can probabilistically infect
other agents that are at close proximity – such as at the same venue. We consider movements of
the real people captured in three types of mobility data – check-ins at seven different cities, WiFi
connection events on a university campus, and GPS traces of electric bikes – representing different scales, behaviours and modalities. Across these diverse circumstances, we observe several
common features in human movement, spread of the epidemic and effect of interventions.

Results
We found that mobility statistics are heterogeneous across individuals and venues (Fig. 1), with
few agents being highly active and some venues attracting many visitors. This heterogeneity
and consequent network effects influence the spread of COVID-19. The common strategy of
blanket lockdown is seen to delay the peak, but comes at a high social cost (Fig. 2). High
mobility agents and popular venues attract early infections and play an important role in the
early spread of the infection (Fig. 3). Interventions that protect these entities, such as isolating
or immunizing the highly active agents, or closing the popular venues, are seen to have a large
effect – both delaying the peak and reducing total infections – while still incurring a relatively
small social cost (Fig. 4). Basic models (e.g.SEIR (8)) where infection transmission is not
related to spatial proximity do not show such heterogeneous effects (Supplementary Fig. S7),
which implies that mobility makes a significant difference compared to homogeneous models.
Finally, a social network or contact graph – that connects agents to other agents they meet
2

frequently or to venues that they visit frequently – is seen to have the property that a similar
number and group of people are infected in this static model as under the dynamic mobility
simulation model (Fig. 5). In this section, we elaborate on these results, starting with a study of
the baseline lockdown strategy.

Evaluation of baseline uniform mobility intervention strategy.
Under a lockdown or stay-at-home order, mobility drops only to a limited extent (23). We model
such a partial lockdown by randomly removing events with a certain probability. This is our
baseline intervention strategy. Fig. 2 studies the realistic scenario where the intervention lasts
for a limited duration, with 80% of the events removed. Thus, during intervention this retains
20% social value (experiments with other probabilities are in Supplementary Fig. S1 online).
The results agree with the observations across the world – the peak of the infection is lowered
and delayed (2). However, we discover that this strategy alone does not significantly reduce the
total number of infections when applied for a limited duration. Supplementary Fig. S2 shows
the effects of such a strategy applied for longer durations.
Part I of Fig. 2 studies the disease spread with varied starting time of the intervention while
keeping its duration fixed at 15 days. In the Foursquare NYC dataset, the intervention starts on
day 9 when 5% of the population gets infected. Compared to the scenario without intervention,
this strategy reduces the total number of infected agents by 8%, delays the peak of active infections by 11 days and lowers it by 6%. The peak of new infections is also delayed by 18 days.
The University dataset shows a similar pattern, as the peaks in active and new infection are
delayed by 22 and 19 days respectively. Other datasets show trends consistent with the above
(Supplementary Fig. S3 online).
We note that when implemented for a fixed duration, an earlier lockdown is not necessarily the better strategy. An imperfect lockdown can allow the infection to survive, which then
spreads rapidly on removal of the intervention and produces a high eventual peak or second
wave. On the other hand, a lockdown implemented somewhat later achieves a lower peak later
on, and lower total number of infections.
In Fig. 2, Part II, the intervention strategy starts when 10% of the population is infected
(day 13 for the Foursquare NYC dataset and day 36 for the University dataset). The longer
interventions are seen to have a more significant effect in reducing both the peak of active
cases and total infections. A 30 days intervention reduces the total infected population by
27% and 5% in the Foursquare NYC dataset, the University dataset respectively. While for
shorter interventions (up to 15 days), the active infection curves remain uni-modal, a longer
intervention (30 days) produces two peaks and the second peak is delayed by 32 and 65 days
for the Foursquare NYC and the University dataset respectively. The growth rate, λt for the
longer intervention does not go to zero (λt reaches zero when no new person is infected), thus
the disease remains in circulation for a longer period of time. Interventions up to two months
(Supplementary Fig. S4 online, Part II) show similar conclusions: second peaks are observed
and the cumulative number of infected people does not decrease beyond 10% compared to the
3

setting without intervention.
Dividing a population into non-interacting cohorts has been proposed as an intervention
strategy (24,25), with the idea that preventing transmission across group boundaries will reduce
the spread. We find that grouping does act to delay and lower the peaks and to reduce the total
number of infections in Fig. 6 and S5. The number of infected people is reduced by 37% in NYC
and by 53% in the university with 4 groups. The effect is milder in the Foursquare datasets with
larger population size, for example in the Istanbul dataset (Fig. 6B). By taking the same sized
population as in NYC dataset (Fig. 6C), the effect appears – the total number of infected agents
is reduced by 22% with 4 groups.

Heterogeneity in mobility and contagion dynamics.
We found that the most active individuals are infected significantly earlier (Fig. 3) than the
average population. The activity of a person is quantified by the number of check-ins in the
Foursquare datasets and number of meetings in the University and Bike datasets. The popularity of a venue is measured by the number of check-ins. Of the top 5% most active agents,
approximately 60% − 80% get infected at the peak of active infections compared to the peak
height about 20% − 40% for the overall population, and this peak is reached about 10 days
earlier. Thus, highly active people are at a higher risk, and more likely to be propagators of
the disease in the early stages. Similar results on other datasets can be seen in Supplementary
Fig. S6.
The heterogeneity creates fundamental differences in infection spread compared to the homogeneous SEIR model. Supplementary Fig. S7 shows that in comparison to the homogeneous
SEIR model - where agents meet all other agents with equal probability - the data driven simulation achieves a higher peak, but a smaller total number of infections.
The heterogeneity of venues in spreading the contagion is seen in Fig. 3E to G. The number
of agents infected from a venue has a heavy tailed distribution for all cities in the Foursquare
datasets, and the results for the NYC dataset is shown separately. Most of the venues infect
a very small number of individuals, but a few venues infect a large number of agents - In the
Foursquare NYC dataset, 50% people are infected from 0.05% (19 venues) most popular venues.
There are 718 and 4, 979 individuals who have visited the top 0.01% most popular venues in the
Foursquare NYC and Istanbul datasets respectively. While these people are infected in higher
proportions (by at least 12% higher), the shape of active infections remains similar to the curve
for the overall population.

Targeted interventions on the most active individuals and the most popular
venues.
We study targeted intervention schemes to put a higher level of protection on the most active
agents and most popular venues, thus reducing or eliminating their contribution to spreading
the virus.
4

Fig. 4A to D use the social and health values to compare the targeted interventions against
multiple other strategies including the uniform intervention of staying home, protecting a random subset of agents and closing a random subset of venues. The social value of an intervention strategy is measured as the inverse of the social cost - that is, the number of activities (e.g.,
check-ins) preserved under the intervention. The health value of an intervention is correspondingly measured as the percentage of agents who escape infection due to the intervention. While
in Foursquare datasets, closing the most popular venues is the most effective strategy, protecting
the most active agents is the most effective strategy in the University and Bike datasets.
In the NYC dataset, to achieve similar ∼ 80% social value, the strategy of closing the
most popular venues shows 60% to 72% more health value than other strategies. In Istanbul
dataset, to achieve 60% social value closing the most popular venue achieves at least 52%
more health value than other strategies. The other cities in the dataset show consistent patterns
(Supplementary Fig. S8 online). In both the University and Bike datasets, at 80% social value,
protecting the most active agents achieves 30% or more health value than other strategies.
The strategy to close the most popular venues is analyzed in detail in Fig. 4E, F, and Supplementary Fig. S9. In Foursquare NYC and Istanbul datasets, closing a few (∼ 1%) most popular
venues reduces the total number of infected individuals by more than 40%, the peak number of
active infections by ∼ 30% and delays the time of the peak by up to 30 days. In larger sample populations, this strategy is seen to have a smaller impact on total infections and the peak
number but serves to delay the peak. In the university dataset, closing 5% of the most popular
venues can reduce the total number of infected individuals by 50% and the peak number of
active infections by more than 20%.
Figure 4G, H, and Supplementary Fig. S10 show the effect of protecting the infection of
the most active agents. In the University and Bike datasets, protecting the most active 5% to
10% of the population reduces total infection by 20% to 40% and delays the peak by 90 to 110
days. Protecting the most active individuals in the Foursquare datasets has similar effects – in
the NYC dataset, the total number of infected people is reduced by ∼ 30% and peak of active
cases is reduced by ∼ 25% when 20% most active people are protected. However, protecting
20% most active people reduces the social value by ∼ 45%. The rest of the Foursquare datasets
show similar patterns.
We study other intervention strategies where the agents and venues to protect are selected
randomly in Supplementary Fig. S11, S12. They are used in the comparison of different interventions in Fig. 4.

Contact graph: Social network abstraction to estimate mobility based infection spread.
We designed social network models derived from mobility data such that the spread of infection
in a mobility dataset resembles that in the corresponding social network. To model person to
person disease transmission as a social network, we define a graph G with agents as nodes and
edges connect agents who have met at least once. Each edge has a weight, w, as the average
5

number of times they met in a day. For infection spread via venues, the social network is defined
using a bipartite graph where the agents and venues constitute the two sets of nodes, and they
connect if a person visited a venue. The edges are weighted by the average number of daily
visits.
Fig. 5 compares the contagion simulation on a social network against the simulation on time
ordered mobility data. The total number of infected people matches between the simulations
(Fig. 5, Part I). Further, nearly the same set of agents get infected starting with independent
random seed agents. We measure the similarity of the agents infected in two simulations using
. For all datasets, Jaccard similarity
Jaccard similarity which is defined for sets A, B as |A∩B|
|A∪B|
between the agents (identified by unique user identifiers in the datasets) infected in the mobility
based simulation and the social network simulation reach above 65%. The peak of the active
cases differs by 1% (in University) to 24% (in Istanbul). Supplementary Fig. S13 shows similar
patterns for other Foursquare datasets.
For the person to person transmission model, Fig. 5, Part II compares the total number
of infected people for three intervention strategies: staying home, protecting the most active
agents, and dividing people into groups. The strategies are simulated in the social network
setting by preprocessing the graph, G. The staying home intervention of skipping a meeting
with probability α is simulated by removing an edge with weight w with probability 1−(1−α)w .
The activity of an agent is defined as the total weight of the edges incident on the corresponding
node. The strategy to protect the most active agents translates to removing the nodes with the
highest activities from G. The strategy to divide the population into groups is simulated by
first randomly assigning the nodes to groups and then removing the edges between nodes that
belong to different groups. The infection curves for mobility and social network simulations
are matched for all strategies for both University and Bike datasets – the difference between
two curves is always below 10%. The percentage of people infected in total goes to zero in two
models with similar intervention parameters.

Robustness of results.
The conclusions from the simulations are robust to changes in simulation parameters, and has
been confirmed in a range of experiments using different parameter values - for infection probability (β) (Supplementary Fig. S14 online), number of seeds (Supplementary Fig. S15 online),
and the probability of an agent being asymptomatic (Supplementary Fig. S16 online). Decreasing β reduces the number of infected people and delays the peak of active infections. In the NYC
dataset, 68% of the population gets infected when β = 0.75 compared to 34% at β = 0.25. In
the Istanbul dataset, the peak is delayed by 10 days when β is reduced to 0.25 from 0.75. Increasing the number of seeds – initial infected people – increase the robustness or predictability
of the spread of infection, but otherwise has a relatively small effect: a moderate number of
seeds shows similar behavior to a larger number of seeds – the total number of infected people
differs no more than 4% across datasets for using 20 seeds compared to 1 seed. The fraction of
asymptomatic carriers increases the rate of infection (since these carriers remain infectious for
6

a longer period), but does not cause a major growth in infection – in the NYC dataset 14% more
people get infected when increasing the percentage of asymptomatic people from 15% to 75%.
Similar pattern is found in the other datasets.
The conclusions are also sustained when simulations are carried out on sub-samples of data.
(Supplementary Supplementary Fig. S17 online). Here a fraction of the agents is randomly
sampled for simulation. For the same fraction of the most active agents protected within the
subsample, a larger population has a larger fraction of the total population infected. However,
this growth appears to be sublinear and the effect tapers off with the size of the population.
Sampling has a similar effect under the intervention of closing popular venues.

Discussion
We have shown that the diversity of human movement has an influence on the spread of the
virus, making its behavior different from homogeneous models. The heterogeneity can be leveraged to devise less disruptive strategies of intervention. Our conclusions are complementary to
other non-pharmaceutical interventions such as maintaining person to person distance, wearing
masks, and avoiding contact. The analysis is based on datasets that are samples of population
behavior, and thus, the infection numbers or percentages generated by the simulations should
not be regarded as precise representative values but rather as patterns to expect under various interventions. The trends in relative measurements hold across multiple datasets of varying sizes
and representing multiple locations, lifestyles, and geographic scales, giving us confidence that
they reflect general properties of infection spread due to mobility and corresponding interventions.
Mobility in a region may be affected by policies and interventions applied to other regions
such as neighboring districts (26). This spillover effect can be seen as a network effect at a
larger scale, and it has been shown (27) that spillover indeed affects aggregate mobility in US
counties and thus intervention policies should be coordinated at larger scales. Our datasets do
not include mobility across such administrative zones and consequent spillover effects. As more
mobility data from the ongoing pandemic becomes available, it may be possible to incorporate
and model such larger-scale network effects on agent mobility and infection, as well incorporate changes in human behavior due to COVID-19 (28, 29). The datasets used here represent
pre-COVID behaviour between (2012 and 2018) and thus are representative of the spread of
infection under “normal” behaviour. The effect of changed mobility under social distancing
and COVID awareness will require corresponding datasets and separate study.
In simulations, we found that the existing common strategies come with some caveats. The
cohort strategy, i.e. partitioning the population into non-interacting groups (24, 25, 30) is effective in circumstances such as small populations, a large number of groups, and the specific
dataset of University mobility (Fig. 6), but not necessarily in other scenarios. The simulations
are restricted to certain slices of the society, and in practice, it is infeasible to maintain a consistent partitioning across different communities such as residence, work, and school, which is
7

likely to reduce the impact of this strategy. A larger number of partitions or cohorts will reduce
the spread of infection, but a large number of cohorts are difficult to implement and schedule,
and they come at a larger social cost of reduced interaction across cohorts. The implementation of a cohort strategy may differ by circumstances, such as separating the groups spatially
(different classrooms) versus separating temporally (different time slots), which will influence
the person-to-person distancing and infection propagation. For the other common strategy of a
blanket lockdown, which has been implemented by many countries, the results in Fig. 2 shows
that the timing and duration of the action subtly influence the peak and total infections. Since
this strategy is a limited resource - in the sense that it cannot be sustained for long - it needs to
be deployed with careful planning, and with consideration of available medical and economic
resources.
We found targeted interventions on the most mobile agents and most popular venues to have
a significant effect on pandemic control at a low social cost (Fig. 4). These results are complementary to prioritizing protections for essential workers such as medical professionals (31, 32),
as our conclusions are for the mobility component of infection spread, which is not addressed
in other works (33). In this respect, those most at risk and likely spreaders of infection are
workers whose professions require frequent movement. While isolating them from work is not
practical, better protection strategies such as protective equipment, strict regulations, and early
vaccinations can help to reduce infections. Closing the most popular venues such as university
cafeteria (Supplementary Fig. S18) are also unsustainable over long durations, but modified operations and strict social distancing at these venues can help to significantly reduce infections.
The influence of these various strategies relative to other non-pharmaceutical interventions remain to be investigated. It has been suggested (26) that with more data, implicit Randomized
Controlled Trials may be carried out by comparing similar localities enforcing different subsets
of policies.
The difference in results for data-driven mobility and those from traditional homogeneous
models (Supplementary Fig. S7) can be attributed to information-structural properties of human
mobility, creating a complex network effect. Inclusion of social and economic considerations
are likely to add to these complexities, for example, it has been argued that the worldwide food
supply chain is being affected by labor shortages, trade restrictions, and factory closures (34).
The relations between mobility, essential industries and economics will be important to decipher
for the development of long term strategies.
We conclude with a summary of the key takeaways and cautions to use our results in designing effective policies. The discovery that the targeted interventions on the most active agents
and the most popular venues reduce the infection significantly without losing much of the social activities points us towards the necessity to protect such individuals by prioritising their
testing, vaccination, protective equipment, etc. Venues can refrain from becoming the hub of
spreading the infection by limiting large gatherings, reducing the need to visit the stores (e.g.,
by providing delivery facilities). The strategy to allow pupils and employees to work in groups
in non-intersecting hours should first evaluate the risk of spreading to decide the details, such as
the number of groups required, etc. While our findings show targeted interventions offer better
8

results, we note that the results are derived from a small slice of mobility, whereas the spreading
of a pandemic in the real world is multi-faceted and complex.

9

Part I

# such people (log scale)

Part II

A

Meeting
105

University

103

101

101

101

102

100

103

102

101

# event by a person (log scale)

New York City
Tokyo
# such perople (log scale)

Bike

105

103

100

Chicago
Istanbul

Los angeles
Jakarta

London

103
102

102

101

101

Foursquare Tokyo
100

100
100

B

check-in

101

102

101

100

103

102

# such venues (log scale)

Part III
105

University

104

102

103
102

101

101

100

100
102

103

104

105

106

101

103

105

Sun

Mon

Tues

# check-ins at a venue (log scale)

Part IV

Thurs

Wed

Sun

Sat

Fri

Mon

Tues

1.5
1.0
0.5
0.0

Wed
% checkins

% checkins

103

# check-ins by a person (log scale)

6

30

54

78

102

126

Istanbul

1.0
0.5

6

30

Night time (6 pm - 6 am)

# hours

Sat

Fri
NYC

0.0

150

Thurs

54

78

# hours

102

126

150

Day Time (6 am - 6 pm)

Figure 1: The model for infection spread (Part I) and dataset properties (Part II to IV).
The model (A) is adapted from SEIR infection spread model and the parameters (B) are from
CDC for COVID-19. The model states and actions are represented by boxes and ovals respectively. Part II and III present distributions of the number of check-ins or meetings per person
and per venue, depicting the heterogeneity of mobility. Part IV: Normalized check-in counts
aggregated over a week for all Foursquare datasets show daily patterns with increased activity
on weekends. Patterns vary across cities.

10

Part I: 80% stay home starts when x% of population is infected and lasts for 15 days

40

20

0

20

40

60

80

100

120

37%

30
20
10
0

61
55

60

40

20

0

0

20

40

60

80

100

120

Day 37

50
100
Days from start

150

A. NYC
30

Day 50

1.5
1.0
0.5
0.0

30%

Day 72

20

10

0

1.0

0.5

0.0

0

20

40

60

80

100

0

120

20

40

60

80

100

120

50
75 100
Days from start

125

150

40

100

120

125

150

Days from start

Days from start

(5% infected on day 9, 10% on day 13, and 15% on day 17)

25%

0

1.5

Day 19

2.0

Days from start
% of people actively infected

% of people infected in total

Days from start

0

43%

Day 51

% of people newly infected

0

40

15 %

Growth rate ( t)

60

10 %

2.5

50
100
Days from start

150

Reproduction number (Rt)

68
60

5%
infected
%
% of
of people
peoplenewly
infected
today

infected
actively
people
still infected
people
of of
% %

of people
infected
in total
infected
people
% of%

No mitigation
Day 40

Day 45

2

Day 64

1

0

0

50
100
Days from start

150

8
6
4
2
0

0

25

B. University (5% infected on day 31, 10% on day 36, and 15% on day 38)
Part II: 80% stay home starts when 15% of population is infected and lasts for x days

40

41

20

0

20

40

60

80

100

120

20

0

% of people actively infected

% of people infected in total

60
55

20

0

50
100
Days from start

0

20

40

60

80

100

150

C. NYC
30

1.0
0.5
0.0

120

Day 68
Day 102

10

0

0

1.0

0.5

0.0
0

20

40

60

80

100

0

120

20

60

80

Days from start

Days from start

(Intervention starts on day 13)

Day 52

20

1.5

1.5

Days from start

40

0

Day 72

10

Days from start

60

Day 54

30

30 days

Day 37

2.0

% of people newly infected

0

40

15 days
Day 19

Growth rate ( t)

62

Day 40

50
100
Days from start

D. University

150

Reproduction number (Rt)

60

7 days
infected
%
%of
ofpeople
peoplenewly
infected
today

people
still infected
infected
actively
people
of of
% %

of people
infected
in total
infected
% of%people

No mitigation
68

Day 48

2

Day 64
Day 102

1

0

0

50
100
Days from start

150

8
6
4
2
0

0

25

50
75 100
Days from start

(Intervention starts on day 36)

Figure 2: Uniform lockdown for limited duration delays and lowers the peak of the infections, but often has a small effect on total infection. Here, 80% check-in or meeting events
are randomly removed. Part I: A limited duration intervention (15 days) delays (by 11 days
in NYC and 22 days in the University) and lowers (by 6% in Foursquare NYC and 5% in the
University) the peak of active cases, but does not reduce the total number of infected people,
as the second peak is imminent. Part II: With increasing length of intervention, the number of
infected people reduces (by 33% in NYC), but in the University dataset, the effect is milder.

11

50%

20

40

60

0

80

30
30%

Day 56

20

19%

10
0

20

40

60

80

0

0

20

Days from start
B. Foursquare Istanbul

Most active 1 % people

40

60

80

0

0

20

40

80

100

120

D. Bike

C. University

Most active 5 % people

60

Whole population

60

105

# of such venues (log)

# of such venues (log)

Day 52
20

20

0

69%

40

40

40

20

Day 48

60
50

60

Day 42

45%

40

A. Foursquare NYC

10

68%

60
Day 33

60

0

Day 41

90%

80

Day 35

75%

4

103
102
101
100
0

100

101

104
103

Foursquare (NYC)

102
10

1

100

102

0

100

101

% of tracked people
actively infected

% of tracked people
actively infected

Day 24

Day 33

80

102

of people
infected
# of people infected#from
a venue
(log) from a venue (log)

Chicago
Istanbul

Los angeles
Jakarta

65%

60
50

45%

40

50%

40
30

30

20

20

10
0

10
0

20

40

60

80

0

0

Days from start

F. Foursquare NYC

E
New York City
Tokyo

57%
50

20

40

60

80

G. Foursquare Istanbul

Tracking people who visited at least a 0.01% most popular venues.
Tracking people who visited at least a 0.1% most popular venues.
Whole population

London

Figure 3: Heterogeneity of mobility in venues and agents result in varied risks to catch
and spread the virus. Agents with higher activity get infected with a higher proportion and
earlier (A to D). In all Foursquare datasets, the number of people infected from a venue has
heavy-tailed distributions (E). People who visit the most popular venues get infected in higher
proportions (F, G).

12

Health Impact

60
40
(80, 16)
(80, 10)

100

100

80

80

80

60
40
20

0

60
40
20

0
40

60

80

100

20

40

60

80

Social Impact

100

Close popular venues

Close random venues

20
12
0

0

50

100

78
71

75

50
29

25

80

100

20

40

60

80

100

al..Impact

D. Bike

C. University
Protect random people

No mitigation

Protect active people

0.01%

0.1%

1%

100

2
1.0

Day 41
20

0

0

50

100

Day 41
40

20

Day 75

50
1

0.5

Drops to 0 for
no new cases

)

40

40

% of people newly infected

% of people infected in total

47

60

Day 19

Day 40

% of people actively infected

60

40

Social Impact

Social value

Close x% most popular venues in Foursquare
68
63

20
0

20

B. Foursquare Istanbul

A. Foursquare NYC
Staying home

40

0

0

50

100

E. Foursquare NYC

3

2

Social value

20

60

0

Growth rate (

20

100

Health Impact

(82, 82)

80

Health Impact

Health value

100

0.0
0

50

100

1.50

0

0

50

100

50

100

100

1.25

50
1.00

1
0.75

0

0

50

0

100

0

50

0

100

0

50

0

100

50

0

100

0

Days from start

F. Foursquare Istanbul
Protect x% most mobile agents
in University and Bike dataset

0

0

50

100

150

200

% of people
infected
% of
people

# days from start

50

Day 120
Day 162

0

0

50

42.90

100

150

200

# days from start

Day 55

49.98

40

15

Day 77

34.53

30

Day 109
Day 146

5

10
0

10

21.99

20

0

50

100

150

# days from start

200

0

0

50

100

100

150

# days from start

200

Day 70

1.0

Day 138
0.0

0

50

100

150

200

# days from start
G. University

2.5

Day 43
2.0
1.5

Day 72

1.0

Day 104

0.5
0.0

Day 154
0

50

100

150

# days
from start
Days
from
start
H. Bike

Figure 4

13

80
60

4

Day 98

0.5

15%

200

40
2

0

0

50

100

150

# days from start

Social value

20

21.76 10

10%

6

Reproduction number ( )

41.78 20

Day 72

% of people newly infected

40

5%

Day 48

52.43

% of people actively infected

% of people
infected
infected
in total

Day 52

61.15 30

60

No mitigation
1.5

200

20
0

0

50

100

150

200

Days from start

100

8
6

60

4

40

2
0

80

20
0

50

100

150

# days from start

200

0

0

50

100

150

Days from start

200

Figure 4: Across all datasets, the most effective strategies in terms of their health and
social values consider the heterogeneity of mobility (A to D) and (E to H) present the details of the best strategies. The health value quantifies the percentage of people not infected
compared to without intervention scenario and the social value is the percent of check-ins or
meetings remain under intervention. An ideal strategy would have both high health and social
values. Across Foursquare datasets, closing the most popular venues is the most effective strategy (A, B); isolating or protecting the most active agents is the best strategy in University (C)
and the Bike (D) datasets. The Bike dataset does not have venues and therefore it omits corresponding strategies. E to H show details of the best strategies. They reduce infections to a large
extent (closing the most popular 1% venues results in 57% reduction in infection in the NYC
dataset), delays and lowers the peak of active infections (protecting the most active 5% agents
in the University dataset delays the peak by 20 days) and maintain high social values (1% most
popular venues contribute to 20% check-ins in the NYC dataset).

14

Mobility simulation

Contact graph simulation

Part I
61.06 30

60

30%

29%

69%

60

20

40

40

20

0

10

20

Day 50

Day 43
0

20

40

60

80

100

0

120

0

20

40

60

0

80

100

0

20

40

60

80

100

120

120

A. University
49

20 21%
15

30
20
10
0

0

20

40

60

80

100

120

68
64

60

40

20

10
5

Day 56
Day 50

0

0

20

40

60

80

100

120

B. Bike
45%

40
37%

30
20

71%

% of people infected in common

18%

40

% of people actively infected

% of people infected

% of people infected in total

50

60
40
20

10

0

25

50

75

100

125

150

0

0

20

40

60

80

100

120

# rounds / days from start

65%

60
50
40
30
20
10

Day 44

0

0

0

25

50

0

75

100

125

0

25

50

75

100

125

150

150

C. Foursquare NYC
80

73%

84%

60

60

49%

40

40

40
20

20

20
0

87%

80

60

0

Day 32

0

25

50

75

100

125

150

0

0

25

50

75

100

125

0

25

50

75

100

125

150

150

D. Foursquare Istanbul
Rounds / days from start

% of people infected

% of people infected in total

Part II
60

60

60

40

40

40

20

20

20

0

0

0
0

10

20

30

0

20

40

2

60

4

6

8

E. University
50

50

50

40

40

40

30

30

30

20

20

20

10

10

10

0

0

0
0

10

20

30

% active people protected

0

20

40

60

% stay home

F. Bike

Figure 5

15

2

4

6

# groups

8

Figure 5: Contagion simulation in the derived social network model infects a similar number and similar set of agents as the simulation using mobility data in both with and without
intervention settings. Part I: The curves for total infection numbers, actively infected agents,
and Jaccard similarity of the infected agents match under no intervention scenario (A to C).
Although in the Istanbul dataset (D), two infection number curves do not match after 25 days,
similar sets of people get infected in the two simulations. Part II: In person to person infection spread model, with different intervention parameters, the final infection number is similar
between the two models in all three intervention strategies.

16

% of people still infected

60
53
41

40

31
20

60

80

100

120

20
10
0

Days from start

40

% of people infected

20

20

40

60

80

100

63

60

53
47
41

50
40
30
20
10
0

20

40

60

80

Days from start

100

120

% of people still infected

43.94

120

30
20
10
0

0

20

40

60

80

100

120

Days from start

B. Foursquare Istanbul
40

30

20

10

0

0

20

40

60

80

100

0.25
0.00
0

20

40

60

80

100

120

0

Days from start

120

20

40

60

80

100

120

100

120

Days from start

3

2

1

1.4
1.2
1.0
0.8

0

0

20

40

60

80

100

120

0

Days from start

20

40

60

80

Days from start

2.5
1.4

2.0
1.5

1.2

1.0

1.0

0.5
0.0

0.8

0

20

40

60

80

100

0

120

20

40

60

80

100

120

125

150

Days from start

Days from start

Day 50

20
Day 75
Day 101

8.91
50
75 100
Days from start

A. NYC

100

40

21.30 10

20

25

80

50

61.19 30

0

60

0.0

C. Istanbul - Randomly sampling same number of people as NYC (1790)

40

0

40

0.50

0.5

Days from start

60
% of people infected

120

Days from start

0

% of people actively
infected
% of people
still infected

60

% of people still infected

% of
% of people infected
inpeople
totalinfected

80
75
68

0

20

0.75
1.0

Days from start

80

0

0

1.00

1.5

Growth rate

40

30

1.25

2.0

125

150

0

0

25

50
75 100
Days from start

125

150

Reproduction number (Rt)

20

40

# groups=4

Day 19

% of people newly
infected
% of people infected today

0

# groups=3

% of people infected today

0

# groups=2
Day 40

% of people infected today

% of people infected

68

% of people infected today

No mitigation

Day 45

2.0
1.5
1.0

Day 68
0.5
0.0

Day 89
0

25

Days from start

50
75 100
Days from start

125

150

8
6
4
2
0

0

25

50
75 100
Days from start

D. University

Figure 6: Diving agents into cohorts cuts off the contacts between different cohorts, like
separating students into different sessions for courses and acts to reduce the spread of the
disease. With the more groups, the number of infected people is reduced (by 37% in NYC and
by 53% in the university with 4 groups). The large population of the Istanbul dataset produces
densely connected groups that result in substantial intra-group infection spread (B). Thus, when
we sample the same number of people as NYC, the effect of separating groups re-appear (C).
In addition, the peaks of active cases are also delayed and flatten, especially in the University
dataset.

17

Method
Our work takes the approach of multi-agent models but incorporates real mobility traces to study
the probable spread of an infectious disease. The study involves three data sets that represent
three typical social settings. (Refer to Supplementary material for detailed data description).
• Foursquare check-ins. We use check-in data (13,14) from the Foursquare mobile application, which captures snapshots of human mobility in popular public spaces. The dataset
includes seven major cities across the world (New York, Chicago, Los Angeles, London,
Tokyo, Istanbul, and Jakarta), and contains a total of 2, 293, 716 check-ins from 24, 068
individuals in 397, 610 venues over a period of 140 days.
• University campus (15): WiFi log data on connections of mobile devices with nearby
WiFi access points from a large university campus (Tsinghua University) is a representative case of mobility in a large University setting. The dataset contains 106, 975 average
daily localization points from 47, 359 individuals.
• Personal electric bikes (16): Densely sampled GPS mobility traces of 46, 078 personally
owned electric bikes over the period of a month provides a unique dataset as they capture
unstructured personal mobility patterns not tied to specific public spaces or institutions.
All three data sets have fine-grained location resolution of within 10s of meters, which allow us
to investigate inter-personal interactions and interactions of individuals and public venues. Collectively, these datasets cover three representative slices of human mobility that play important
roles in spread of infectious diseases. Infection can propagate person to person at a meeting
event (when two agents are with close proximity), or through a venue (when a susceptible agent
visits a venue recently visited by an infectious agent). Note that these datasets were collected
pre-COVID between 2012 and 2018, and thus represent “normal” human movements. We ran
simulations on the three datasets with a variety of different intervention strategies and show
their impact in slowing down the spread. We study the total number of individuals infected
under various intervention strategies, growth rate of new infections, the maximum number of
infected individuals at any time (height of the peak) and the time-varying reproduction number
(Rt ). The social cost of an intervention strategy is measured as the number of check ins and
meetings lost due to the strategy.
Mobility data driven infection simulation model for COVID-19. We customize the SEIR
model (8) to operate on mobility data and incorporate the properties of COVID-19 transmission
as probabilistic features using the parameters from Center for Disease Control and Prevention (17, 18) (Fig. 1 Part I). Similar to the SEIR model an agent in our model can be in one of
the four states: susceptible, infected (or exposed), infectious, and recovered or immune. Unlike the standard model that assumes person to person disease transmission through uniformly
probable contacts, we obtain person to person contacts from the mobility datasets and extend
the model to disease transmission via check-ins to venues.
18

The simulation starts by infecting a random set of seed agents with all other agents as
susceptible. The disease transmits from person to person at a meeting (in the University and the
Bike dataset), or through a venue (in the Foursquare datasets) with a transmission probability,
β. In the University dataset, two agents meet when they are at the same location (such as a
classroom or cafeteria) at the same time. In the Bike dataset, a meeting occurs when two bikes
are within 5 meters for more than 5 minutes. In the Foursquare dataset, when an infectious
agent visits a venue, we mark the venue as infected and it remains infected for 48 hours. This
aligns with the studies on COVID-19 lifespan on various surfaces (19).
A susceptible person is infected with probability β when meeting an infectious person or
visiting an infected venue. The value of β is determined for each scenario based on knowledge
of existing variables such as R0 (see supplementary material for details). An infected person
remains in incubation for N (6, 1) days followed by the infectious stage gaining the ability to
infect other susceptible agents or venues. Here, N (µ, σ) denotes a sample from a normal distribution with mean µ and standard deviation σ. The distribution models variability in the infection
behavior. For COVID-19 there are a significant fraction of asymptomatic carriers (20) (21). As
per CDC, we consider 35% of the infected population (randomly chosen) to be asymptomatic.
A symptomatic person remains infectious for N (5, 1) days before showing symptoms and subsequently enters the in-care stage such as at home self-quarantine or hospitalization. At this
stage, the person ceases to infect others. After N (13, 1) days in care, the agent assumed to
recover and become immune. On the other hand, asymptomatic agents do not seek care, and
thus they skip the in-care state and remain infectious for N (18, 1) days.
We study temporal dynamics of the infection spread in four dimensions – the total number of
infected people till date, number of active cases, number of new infections, and epidemiological
parameters such as the time varying reproduction number (Rt ) or growth rate (λt ). The active
cases include individuals that have been infected till date but not yet recovered. The timevarying reproduction number (22), Rt for day t is the expected number of average individuals
infected by a single agent who gets infected on day t. The growth rate, λt , it the ratio of the
total number of agents newly infected on day t to the same number on the day t − 1.

Ethics of data and methodology
In this study, we used datasets collected in the past (between 2012 and 2018) by other researchers. The datasets were completely anonymous with personal identifying information
removed. This research method has gone through the ethics review process at the School of
Informatics, University of Edinburgh. The datasets are either public or collected with consent
as follows:
• The Foursquare data were derived from open public posts on Twitter between 2012 and
2014 by researchers at University of Freibiurg and made available online (https://
sites.google.com/site/yangdingqi/home/foursquare-dataset). Details of the data has been published previously (13, 14).
19

• The University and Bike datasets were collected from adult participants with informed
consent. The University dataset was collected between September 2015 to November
2015 by the research group at (NetMan) AIOps labs at Tsinghua University, for research
purposes. The data collection process was published in 2016 (15). We received the
dataset through personal communication with the authors. The Bike dataset was collected between June 2018 and September 2018 by a private company, Zhejiang Tendency
Technology Co., Ltd in the city of ZhengZhou, P.R. China.

Data Availability
Among the data used in the work, the Foursquare check-ins dataset spanning seven cities are
publicly available and has been cited in the text. The Tsinghua WiFi dataset and Zhengzhou bike
datasets cannot be made public due to our non-disclosure agreement with the respective data
owners. Our contribution is the program code for the simulations and analysis, which is publicly
available at https://github.com/SBUhaotian/Mobility_Contagion (?) for reproducibility, and use on other datasets.

References
1. S. Flaxman, S. Mishra, A. Gandy, H. J. T. Unwin, T. A. Mellan, H. Coupland, C. Whittaker,
H. Zhu, T. Berah, J. W. Eaton, M. Monod, Imperial College COVID-19 Response Team,
A. C. Ghani, C. A. Donnelly, S. Riley, M. A. C. Vollmer, N. M. Ferguson, L. C. Okell,
S. Bhatt, Estimating the effects of non-pharmaceutical interventions on COVID-19 in Europe, Nature, 1-5 (2020). doi:10.1038/s41586-020-2405-7
2. S. Hsiang, D. Allen, S. Annan-Phan, K. Bell, I. Bolliger, T. Chong, H. Druckenmiller
L. Y. Huang A. Hultgren, E. Krasovich, P. Lau, J. Lee, E. Rolf J. Tseng, T. Wu, Tiffany,
The effect of large-scale anti-contagion policies on the COVID-19 pandemic Nature (2020).
doi:10.1038/s41586-020-2404-8
3. M. Chinazzi, J. T. Davis, M. Ajelli, C. Gioannini, M. Litvinova, S. Merler, A. P. Y. Piontti,
K. Mu, L. Rossi, K. Sun, C. Viboud, X. Xiong, H. Yu, M. E. Halloran, Jr I. M. Longini,
A. Vespignanio, The effect of travel restrictions on the spread of the 2019 novel coronavirus
(COVID-19) outbreak, Science 368, 395-400 (2020). doi:10.1126/science.aba9757
4. M. U. G. Kraemer, C. Yang, B. Gutierrez, C. Wu, B. Klein, D. M. Pigott, Open COVID19 Data Working Group†, L. Plessis, N. R. Faria, R. Li, W. P. Hanage, J. S. Brownstein,
M. Layan, A. Vespignani, H. Tian, C. Dye, O. G. Pybus, S. V. Scarpino, The effect of
human mobility and control measures on the COVID-19 epidemic in China, Science 368,
493-497 (2020). doi:10.1126/science.abb4218

20

5. R. Li, S. Pei, B. Chen, Y. Song, T. Zhang, W. Yang, J. Shaman, Substantial undocumented
infection facilitates the rapid dissemination of novel coronavirus (SARS-CoV-2), Science
368, 489-493 (2020). doi:10.1126/science.abb3221
6. H. S. Badr, H. Du, M. Marshall, E. Dong, M. M. Squire, L. M. Gardner, Association between mobility patterns and COVID-19 transmission in the USA: a mathematical modelling
study, The Lancet Infectious Diseases (2020). doi:10.1016/S1473-3099(20)30553-3
7. C. J. E. Metcalf, D. H. Morris, S. W. Park, Mathematical models to guide pandemic response, Science 369, 368–369 (2020). doi:10.1126/science.abd1668
8. H. Wang, Z. Wang, Y. Dong, R. Chang, C. Xu, X. Yu, S. Zhang, L. Tsamlag, M. Shang,
J. Huang, Y. Wang, G. Xu, T. Shen, X. Zhang, Y. Cai, Phase-adjusted estimation of the
number of coronavirus disease 2019 cases in Wuhan, China, Cell discovery 6, 1-8 (2020).
doi:10.1038/s41421-020-0148-0
9. K. Prem, Y. Liu, T. W. Russell, A. J. Kucharski, R. M. Eggo, N. Davies, Centre for
the Mathematical Modelling of Infectious Diseases COVID-19 Working Group, M. Jit,
P. Klepac, The effect of control strategies to reduce social mixing on outcomes of the
COVID-19 epidemic in Wuhan, China: a modelling study, The Lancet Public Health,
(2020). doi:10.1016/S2468-2667(20)30073-6
10. S. Lai, N. W. Ruktanonchai, L. Zhou, O. Prosper, W. Luo, J. R. Floyd, A. Wesolowski,
M. Santillana, C. Zhang, X. Du, H. Yu, A. J. Tatem, Effect of non-pharmaceutical interventions to contain COVID-19 in China, Nature, (2020). doi:10.1038/s41586-020-2293-x
11. I. COVID, C. J. Murray, Forecasting COVID-19 impact on hospital bed-days, ICUdays, ventilator-days and deaths by US state in the next, medRxiv, March 20, 2020;
doi:10.1101/2020.03.27.20043752.
12. N. M. Ferguson, D. Laydon, G. Nedjati-Gilani, N. Imai, K. Ainslie, M. Baguelin, S. Bhatia,
A. Boonyasiri, Z. Cucunubá, G. Cuomo-Dannenburg, others, Impact of non-pharmaceutical
interventions (NPIs) to reduce COVID-19 mortality and healthcare demand, DOI 10, 77482
(2020). doi:10.25561/77482
13. D. Yang, B. Qu, J. Yang, P. Cudre-Mauroux, Revisiting user mobility and social relationships in lbsns: a hypergraph embedding approach, The World Wide Web Conference, 4147–
2157 (2019). doi:10.1145/3308558.3313635
14. D. Yang, B. Qu, J. Yang, P. Cudre-Mauroux, LBSN2Vec++: Heterogeneous Hypergraph
Embedding for Location-Based Social Networks, IEEE Transactions on Knowledge and
Data Engineering, (2020). doi:10.1109/TKDE.2020.2997869

21

15. K. Sui, M. Zhou, D. Liu, M. Ma, D. Pei, Y. Zhao, Z. Li, T. Moscibroda, Characterizing and
improving wifi latency in large-scale operational networks, Proceedings of the 14th Annual
International Conference on Mobile Systems, Applications, and Services, 347-360 (2016).
doi:10.1145/2906388.2906393
16. H. Wang, J. Gao, Distributed Human Trajectory Sensing and Partial Similarity Queries,
2020 19th ACM/IEEE International Conference on Information Processing in Sensor Networks (IPSN), 253–264 (2020). doi:10.1109/IPSN48710.2020.00-43
17. Z. Wu, J. M. McGoogan, Characteristics of and important lessons from the coronavirus
disease 2019 (COVID-19) outbreak in China: summary of a report of 72 314 cases from
the Chinese Center for Disease Control and Prevention, Jama 323, 1239–1242 (2020).
doi:10.1001/jama.2020.2648
18. Centers for Disease Control and Prevention, “COVID-19 Pandemic Planning Scenarios”,
(2020); https://www.cdc.gov/coronavirus/2019-ncov/hcp/planning-scenarios.html.
19. N. van Doremalen, T. Bushmaker, D. H. . Morris, M. G. Holbrook, A. Gamble,
B. N. Williamson, A. Tamin, J. L. Harcourt, N. J. Thornburg, S. I. Gerber, J. O. LloydSmith, E. de Wit, V. J. Munster, Aerosol and surface stability of SARS-CoV-2 as compared with SARS-CoV-1, New England Journal of Medicine 382, 1564–1567 (2020).
doi:10.1056/NEJMc2004973
20. H. Nishiura, T. Kobayashi, T. Miyama, A. Suzuki, S. Jung, K. Hayashi, R. Kinoshita,
Y. Yang, B. Yuan, A. Akhmetzhanov, N. M. Linton, Estimation of the asymptomatic ratio
of novel coronavirus infections (COVID-19), International journal of infectious diseases
94, 154 (2020). doi:10.1016/j.ijid.2020.03.020
21. K. Mizumoto, K. Kagaya, A. Zarebski, G. Chowell, Estimating the asymptomatic proportion of coronavirus disease 2019 (COVID-19) cases on board the Diamond Princess cruise
ship, Yokohama, Japan, 2020, Eurosurveillance 25, 2000180 (2020). doi:10.2807/15607917.ES.2020.25.10.2000180
22. K. M. Gostic, L. McGough, E. Baskerville, S. Abbott, K. Joshi, C. Tedijanto, R. Kahn,
R. Niehus, J. Hay, P. de Salazar, J. Hellewell, S. Meakin, J. Munday, N. I. Bosse, K. Sherrat,
R. N. Thompson, L. F. White, J. S. Huisman, J. Scire, S. Bonhoeffer, T. Stadler, J. Wallinga,
S. Funk, M. Lipsitch, S. Cobey, Practical considerations for measuring the effective reproductive number, Rt, medRxiv, June 23, 2020; doi:10.1101/2020.06.18.20134858
23. A. Aktay, S. Bavadekar, G. Cossoul, J. Davis, D. Desfontaines, A. Fabrikant,
E. Gabrilovich, K. Gadepalli, B. Gipson, M. Guevara, C. Kamath, M. Kansal, A. Lange,
C. Mandayam, A. Oplinger, C. Pluntke, T. Roessler, A. Schlosberg, T. Shekel, S. Vispute,
M. Vu, G. Wellenius, B. Williams, R. J. Wilson, Google COVID-19 Community Mobility

22

Reports: Anonymization Process Description (version 1.0), arXiv:2004.04145, [Preprint].
April 9, 2020; arXiv:2004.04145.
24. New Jersey Department of Education, ”The Road Back: Restart and Recovery Plan for
Education”, (2020). https://www.nj.gov/education/reopening/.
25. J. Lowe, A. S. Khan, J. Herstein, J. Lawler, B. Grimm, B. Rauner, D. BrettMajor, M. Schwedhelm, ”COVID-19 Back to School PlayBook: Guiding Principles to Keep Students, Teachers, and Staff Safe in K-12 Schools”, 2020;
https://www.unmc.edu/publichealth/news/UNMC COPH K-12 Playbookv1.pdf.
26. J. Haushofer, C. J. E. Metcalf, Which interventions work best in a pandemic?, Science 368,
1063–1065 (2020). doi:10.1126/science.abb6144
27. D. Holtz, M. Zhao, S. G. Benzell, C. Cao, M. A. Rahimian, J. Yang, J. Allen, A. Collis, A. Moehring, T. Sowrirajan, D. Ghosh, Y. Zhang, P. Dhillon, C. Nicolaides, D. Eckles, S. Aral, Interdependence and the cost of uncoordinated responses to COVID-19, OSF
Preprints, May 27 (2020). doi:10.31219/osf.io/b9psy
28. R. Abouk, B. Heydari, The immediate effect of covid-19 policies on social distancing behavior in the united states, SSRN, April 15, 2020. doi:10.2139/ssrn.3571421
29. S. Gao, J. Rao, Y. Kang, Y. Liang, J. Kruse, Mapping county-level mobility pattern changes
in the United States in response to COVID-19, SIGSPATIAL Special 12, 16–26 (2020).
arXiv:2004.04544
30. J. G. Adams, R M. Walls, Supporting the Health Care Workforce During the COVID-19
Global Epidemic, Jama 323(15), 1439–1440 (2020). doi:10.1001/jama.2020.3972
31. D. Chang, H. Xu, A. Rebaza, L. Sharma, C. S D. Cruz, Protecting health-care workers
from subclinical coronavirus infection, The Lancet Respiratory Medicine 8, e13 (2020).
doi:10.1016/S2213-2600(20)30066-7
32. Lancet, COVID-19: protecting health-care workers, Lancet (London, England)
395(10228), 922 (2020). doi:10.1016/S0140-6736(20)30644-9
33. J. Wang, M. Zhou, F. Liu, Reasons for healthcare workers becoming infected with novel
coronavirus disease 2019 (COVID-19) in China, Journal of Hospital Infection, (2020).
doi:10.1016/j.jhin.2020.03.002
34. D. Laborde, W. Martin, J. Swinnen, R. Vos, COVID-19 risks to global food security, Science 369, 500–502 (2020). doi:10.1126/science.abc4765

23

35. J. Stehlé, N. Voirin, A. Barrat, C. Cattuto, V. Colizza, L. Isella, C. Régis, J. Pinton,
N. Khanafer, W. V. Broeck, P. Vanhems, Simulation of an SEIR infectious disease model
on the dynamic contact network of conference attendees, BMC Medicine 9, 87 (2020).
doi:10.1186/1741-7015-9-87

24

Supplementary materials
Title: Targeted Interventions Reduce the Spread of COVID-19: Simulation
Study on Real Mobility Data
Authors: Haotian Wang, Abhirup Ghosh, Jiaxin Ding, Rik Sarkar, Jie Gao.
This PDF file includes:
Materials and Methods
Figure S1 to S18
Table S1 and S2

Data
All our datasets describe individual mobility by timestamped locations. Datasets use anonymized
individual identifiers and have assorted temporal and spatial resolutions. Table S1 quantifies the
datasets.
Foursquare dataset. Foursquare enables users to record their check-in times at venues and
thus produce a log of users’ mobility to public places. Although the check-ins are accessible to people only within social circles, many people choose to share them on twitter. Authors in (13, 14) collected the Foursquare check-ins posted on twitter. In this work, we use a
sub-sample of the available dataset containing 7 cities (New York, Tokyo, Istanbul, Chicago,
Jakarta, Los Angeles, and London) with dense data distributions spanning between Apr-2012
and Aug-2012. Check-ins for a city are selected by first choosing a Geo-location bounding
box containing the city, for example, we consider the venues within the box ranging between
latitude [40.5378◦ N, 41.0131◦ N ] and longitude [73.4532◦ W, 74.3074◦ W ] are considered in the
New York City dataset. Then we select the check-ins that happened in the selected venues. Essential characterizations of the datasets agree with the findings in (13, 14). The check-ins have
the temporal resolution in seconds.
University dataset. The Tsinghua University campus covers an area of 4.4km2 with 47, 359
students and 12, 000 faculties. There are 2, 346 wireless access points deployed in 114 buildings including classrooms, departments, administrative buildings, apartments, gyms, libraries,
restaurants, supermarkets, and hotels. The dense deployment allows tracking the connected
devices. Each connected device reports its connecting access point every 5 minutes. The
dataset (15) is one week long and assuming that the weekly movement stays similar in this
setting, we repeat the dataset to generate more number of days. When two agents stay in the
same room within a time period, it is regarded as a meeting between them.

1

Bike dataset. Zhengzhou (China) has wireless tracking terminals that can locate and monitor
electric bikes in real-time using a variety of IoT sensors, such as satellite positioning module, voltage and current detection module, and temperature sensing module. Our dataset (16)
has timestamped GPS locations of 46, 087 personally owned electrical bikes with the temporal
granularity of 10 seconds. On average, there are more than 41, 000 people traveling by electrical
bikes and more than 19 million data points collected every day for a month and repeat them in
the simulation. If a person stops moving in one location for more than 5 minutes, this location
with the time period is regarded as a stay point of this agent. On average, there are 118, 337
daily stay points and 90, 144 meetings every day.
Data resolution. The data we operate with has a high spatial resolution, which allows us to
execute detailed agent-based models. Other forms of data often used in movement analysis
include cellular data - representing cell tower connections of mobile phones, which can include
errors at a scale of kilometers, which is the range of cell towers. Even in the urban scenarios of
dense deployments, cell towers are separated by hundreds of meters implying correspondingly
low resolutions. In comparison, in the bike GPS dataset, we have errors at the level of few
meters, and similarly, the errors in University WiFi dataset are bounded by a few tens of meters,
which is the typical WiFi range, and connection to the same WiFi usually implies agents being
in the same building. The Foursquare dataset correspondingly contains precise information of
agents visiting the same venue. Compared to metapopulation models that treat the population as
a set of communities, this high-resolution simulation incorporates a more dynamic and precise
movement pattern. We are able to simulate movement or presence of agents with precision such
as presence in the same building, and correspondingly likely infection transmission.

Intervention Strategies
We have investigated multiple non-pharmaceutical interventions. Some strategies referenced
briefly in the main article are described below.
Intervening random individuals and venues. Here, the venues to close (Supplementary
Fig. S11 online) and people to protect (Supplementary Fig. S12 online) are chosen uniformly at
random. In the Foursquare, NYC dataset, closing 40% random venues results in ∼ 20% reduction in total infected people and 60% reduction in the social value. In other Foursquare datasets
of cities such as Istanbul and Tokyo, the effect of this strategy on health value is minimal with
reduction not more than ∼ 5%. Other datasets show a similar trend. In the University dataset,
closing 40 random venues brings 17% reduction in total infected people. Across all datasets,
closing 40% random venues results in more than ∼ 33% reduction in the infected population
(Supplementary Fig. S12 online).
These strategies are shown to be less effective than intervening the most active agents or
most popular venues. In the Foursquare NYC dataset, to achieve the same social value (∼ 60%),
the strategy to close randomly chosen venues achieves 65% less health value compared to the
2

targeted strategy to close the most popular venues. In the University dataset, to achieve the
same social value (∼ 80%), the strategy to protect random people obtains 55% less health value
compared to the strategy to protect the most active people.

Methods: Implementation and Experimental setup
The Foursquare datasets contain time-ordered check-ins along with categorical unique identifiers for venues and agents. In the University and Bike datasets, meetings are computed and
stored as data pre-processing steps. The meetings in the University dataset are computed first
grouping the contacts by venues and then finding the overlapping staying intervals. In the Bike
dataset, the spatial proximity is computed by a kd-tree, a spatial indexing structure to find the location within a given distance. The meetings are stored with the participates, location, starting,
and ending time. Meetings are ordered by their starting time.
The simulation progresses sequentially over the events ordered by check-ins or meetings
and keeps track of the states of the agents and venues. While the state machine for the agents
is described in the main article, a venue can be in one of the two states – susceptible and
infected. Initially, all venues are susceptible and a venue becomes infected once an infectious
agent checks-in. Each infected venue keeps a timer that goes off after 48 hours of being infected
and then the venue becomes susceptible again. If an infectious agent visits an infected venue,
the timer is reset to the current check-in time. We maintain the timer by operating on it only at
check-in event times.
In the person to person infection spread model, the infection probability, β, used in the simulation is derived for a particular dataset based on existing knowledge of the initial reproduction
number, R0 for COVID-19. R0 denotes the expected number of people infected from a single
person, i.e., R0 = cβT , where c is the average number of daily meetings per person, and T is the
average number of days an agent remains infectious. While c is estimated from a dataset, model
parameters in Fig. 1B give the value of T as 9.55 days. For the disease transmission through
venues, β has a different interpretation and does not correspond to usual parameters such as R0 .
We evaluate a range of β value in Supplementary Fig. S14 and find consistent patterns across
them.
There are 10 initial infectious seeds at the beginning of each simulation. The infection
probability is set as 0.75 for the Foursquare dataset and take R0 as 3 to obtain the infection
probability for the University and Bike dataset.
For both the person to person and via venue transmission models, the probabilistic virus
transmission is simulated as follows. A uniform random number is sampled in the range [0, 1]
and compared against the infection probability, β. The probabilistic experiment is successful,
i.e., the agent becomes infected, if the sample is less than β.
We study dynamics of the infection spread in four dimensions – the total number of infected
people till date, number of active cases, number of new infections, and epidemiological parameters such as the time-varying reproduction number (Rt ) or growth rate (λt ). The active cases
include individuals that have been infected till date but not yet recovered. The time-varying
3

reproduction number, Rt for the day t is the expected number of average individuals infected
by a single agent who gets infected on the day t. The growth rate, λt , is the ratio of the total
number of agents newly infected on the day t to the same number on the day t − 1. When λ1
above 1, the number of infections grows exponentially; when λt is below 1, the number of new
infections converges.
In the contact graph based study, the contagion simulation uses the same model and parameters as mobility datasets (Fig. 1 Part I). It starts with 10 initial randomly selected infectious
nodes (seeds) and all other nodes are at susceptible state. It works in synchronous and discrete
time rounds – at each round, an infectious node infects its susceptible neighbors in G with
a probability, p. As both the meetings and the check-ins to venues are abstracted to counts
instead of timestamped events, the contacts are considered to be distributed uniformly over
the duration of the dataset and infection transmission probabilities β are adjusted per edge as
p = (1 − (1 − β)w ). In the infection transmission model via venue, an infectious individual
infects a venue with probability min(1, w) at each round, and the infected venue in-turn infects
an individual with probability p.
Similar to mobility based simulations, in the social network setting we use β = 0.75 for
transmission via venues. In the person-to-person transmission model, β is derived from R0
from the same expression, R0 = cβT . Here, c is counted as the average total weight from a
node and T remain the same as 9.55.
Computation of social and health values of interventions. The social value of an intervention strategy is measured as the percentage of activities (check-ins) preserved under the
intervention. When a venue is closed or an agent is protected, the corresponding activities are
canceled. The social value of a strategy is denoted by 1 − x/y in percentage, where x and y
number of check-ins (for Foursquare datasets) or meetings (for University and Bike datasets)
performed under the intervention and without intervention respectively. The health value of an
intervention is correspondingly measured as the percentage of agents who escape infection due
to the intervention. If x and y number of agents are infected under intervention and without
intervention respectively, then the health value of the strategy is 1 − x/y as the percentage.
The simulations are implemented in Python and executed in standard desktop machines
with Intel i7 cores and 16GB memory. The simulation is compute-efficient – all our simulations
run under 5 minutes. The efficiency results from in-memory processing, pre-computation of
meetings prior to simulation, and storing infection states in the data structures for venues. All
of these reduce the number of operations at each discrete event timestamp. The result of a
simulation contains the timestamps of new infections and recoveries.
As our simulation model is stochastic, each experiment is run 10 times to test their stability.
We report the temporal dynamics in the figures with the median of 10 runs as the solid curve
and the shaded regions denote the area between 25 and 75 percentiles. The figures are smoothed
with 7 day rolling average. Moreover, to bring about the major trends, the growth rate and reproduction number plots are further smoothed using a standard Gaussian filter with the standard
deviation of the Gaussian kernel set as 2 days.
4

Existing Models for infection spread
There are various existing models for infection spread. We discuss below the ones most relevant
to us.
• Epidemiology models: Classical models in epidemiology include SIR (Susceptible-InfectedRecovered), SEIR (Susceptible-Exposed-Infected-Recovered) models (8) and other variations (9, 10). These models make simplistic assumptions of a homogeneous population
and any two individuals have the same structure of interactions and dynamics. The model
evolves by using a small number of parameters such as the chance of an infectious person infecting another one and then derives ordinary differential equations. To incorporate
heterogeneity in a large population, meta-population models (3) include population structures that describe variations in age groups, behaviors, neighborhoods, but in general,
these models are coarse-grained.
• Data-driven models: A few models such as the one from Institute of Health Metrics
(IHME) (11) use a data-driven model to predict the number of new infections, based
on data from other countries. This model assumes that the infection process is uniform
across different countries, thus it ignores the important parameters such as the discrepancy
of culture, weather, the density of population, and the life style.
• Multi-agent models: The models from Imperial College London (12) are individual-based
multi-agent models. These models are fairly complicated with a large number of parameters describing the interactions between the agents. For example, individuals are assumed
to reside in high-density residential areas from census data. Contacts with other individuals are assumed to happen within the household, at school, in the workplace, and in the
wider community. The parameters of population density in these scenarios are taken as
the average in published data. It is a challenge to choose these parameters and validate
the choices against real data.

Comparison with standard SEIR model
From a dataset, we count the average number of daily contacts for an agent, c. With the population size of N , there are N c/2 contacts in total per day. The SEIR simulation progresses
in synchronous daily rounds and N c/2 contacts are randomly sampled each day. The other
parameters remain similar to Fig. 1.
We apply the standard SEIR model to COVID-19 parameters, i.e., consider meetings between random pairs of agents. We simulate the person to person transmission model in the
University and the Bike datasets keeping the model parameters the same as Fig. 1B. Given the
dataset, N c/2 contacts between two agents are randomly sampled. Here, we ignore the timestamped of each meeting from the dataset. Similar to our simulation model, the simulation
5

starts with 10 initial seeds and proceeds with probabilistic disease transmission using sampled
contacts.
Supplementary Fig. S7 compares the infection spreads in two models for a setting without
intervention. For both University and Bike datasets, a larger population gets infected by SEIR
model compared to our mobility based simulation. In both the datasets, the peak of active
infections in SEIR model is at least 15% higher delayed by more than 35 days than the mobility
model. This is due to heterogeneity of agents – more active agents get the virus early and
infect other susceptible agents early – resulting in an early peak. Besides a large fraction of
agents have a low number of meetings therefore have less risk of being infected which leads to
a lower total infection number compared with SEIR model. Our observations match with the
observations in (35).
The difference in meeting distributions in the two simulation models results in different
distributions for the number of agents infected from an individual. While the mobility based
model has a long tail distribution suggesting that the more active agents infect more people, the
SEIR model does not have a long tail.

6

Table S1: The statistical result for the Foursquare dataset.
Number of check-ins
New York
202, 599
Istanbul
559, 966
Tokyo
642, 687
Chicago
103, 432
Los Angeles
402, 989
Jakarta
336, 386
London
45, 657

Number of people
1, 790
8, 925
4, 744
924
3, 590
3, 623
472

Number of venues
39, 764
53, 075
96, 931
23, 391
104, 629
67, 047
12, 773

Table S2: The statistical result for University dataset and Bike dataset.
University
Bike

# of daily stay points
106, 975
118, 337

# of people
47, 359
46, 087

7

# of venues
2, 346
N.A.

# of daily meetings
2, 476, 837
90, 144

No mitigation

40

62

60

0.2

0.5

0.8
1.5

2

1.0
40

20

1

80

75

50

25

0

0

50

100

61
57

60

0

50

0

100

NYC

40

20

0

0

50

100

Istanbul
30

0

50

Growth rate (

0

100

100

3

2

0

50

0

100

0

50

50

100

1.50

1.25

100

2

0

50

0.75

0

1

0

0

1.00

10

20

0.0

1

20

40

0.5

Reproduction number ( )

50

% of people newly infected

0

% of people actively infected

% of people infected in total

0

)

20

0

100

0

50

Days from start

0

50

100

0

50

100

7.5
5.0
2.5
0.0

100

52

83
75

43

44 40

40
50

0

0

50

100

0

20

19

40

0

50

100

0

0

50

0

100

10

0

50

100

30

0

0

50

0

100

0

50

100

15
40

20

15

20

40

29

20
25

25

60

30

31 50
20

20

49
44

76

75

37

35

10

10
20

10

0

0

0

50

100

0

50

100

10

20

0

0

5

0

50

100

50

100

0

50

0

100

1.5

0.0

0.5

0

50

100

0.0

0

50

0

100

0

50

100

1.5

1.0

0.0

0

50

1.0

0.5
1.0

0.5
0.0
0

50

Tokyo

100

100

0

50

Chicago

100

0.0

0.0
0

50

100

0

Los Angeles

50

Jakarta

100

0

50

London

0

50

100

0.0

100

1.0
0.5

1.0

50

0.5

1

1.5

1.5

0

0.5

0.5

100

100

2

2

50

50

1.0
1.0

0

0

3

1.0

0

5

1.0

1.5

4

0

0

100

Reproduction number ( )

Growth rate (

)

% of people newly infected

% of people actively infected % of people infected in total

University

10

5

0

Bike

Figure S1: Infection spreading with the intervention strategy of varying probability, with
which check-in is skipped with random sampling. All interventions start when 10% of the
population is infected and it lasts for 15 days. While with higher probability (i.e., stronger
intervention) the peak of active infections gets delayed and lowered, the total number of infected people is independent of the probability (in Istanbul, Tokyo, Jakarta, University, and
Bike datasets
8

No mitigation

0.2

0.4

1.5

68
63
57

60

0.1

40

100

2
1.0

20

1

0.5

77
71

75

50

25

0

0

50

100

61
56
51

60

0

0

50

100

40

20

0

0

50

100

30

0

50

100

NYC

3

0

50

0

50

Istanbul

0

0

50

100

0

0

50

50

100

0

50

100

0

50

100

100

1.50

0

100

100

0

100

0.75

0

1

100

50

1.00

10

20

0

0

1

2

32

0.0

1.25

2

20

40

0

0

Growth rate (

100

Reproduction number ( )

50

% of people newly infected

0

% of people actively infected

% of people infected in total

0

50

)

37

20

Social value

40

50

50

0

100

100

7.5

5.0
50

2.5

0.0

0

50

0

100

52

81
74

75

46 75

45 40
35

50

28

14

0

50

100

0

61

0

50

100

11
0

0

50

25

0

100

0

50

100

20

19

Growth rate ( )

48
44
39

20

21

0

7
0

50

0

100

20

40

10

20

0

50

100

15
10

10
10

20

0

0

50

100

0

0

50

100

0

5

0

50

0

100

0

50

100

5

0

50

0

100

1.5

2

0

50

100

0

50

100

0.5

1

0.0

0

0

50

100

0

50

100

0.0

0

50

1.0

0.5
0.5

0.0
0

50

100

50

100

1.0

0.0

0.0
0

50

100

0

50

100

0

50

100

0

50

0

50

100

50

100

0.0

100

1.0
0.5

1.0

0

0.5

1.5

1.0

1.5

100

0.5

0.5

0.0

50

1.0

1.0
1.0

2

0

0

1.0

1.5

4

0

1.5

Social value

40

15

20

40

31

10

30

60

30

50

20

20
25

0

72

38

40

100

Reproduction number ( )

% of people newly infected % of people actively infected % of people infected in total

Days from start
University

6
4
2
0

100

100

100

100

100

100

50

50

50

50

50

50

0

0

50

Tokyo

100

0

0

50

Chicago

100

0

0

50

0

100

0

50

Jakarta

Los Angeles

100

0

0

50

London

100

0

0

Bike

Figure S2: Infection spreading with the intervention strategy of Stay home intervention.
This intervention strategy uniformly randomly ignores a check-in with a probability. This represents people reducing their social activities. Naturally, as more check-ins are skipped the
infection is slowed and the social value is also reduced.

9

35

50

00

50

100

00

50

00

100

50

75

80 75

50

50

25

25

00

100

50

100

75

40

20

20

10

00

50

100

00

50

100

100

1.5

00

50

100

00

50

100

0.5

0.0 0

50

100

0.5

0

50

100

0.0

100

00

50

00

50

100

0

50

100

0.0 0

00

50

100

3

3

2

2

1

1

00

1.5

1.50

1.0

1.25

0.5

1.00

0.0

10

5
50

100

5

00

50

100

00

50

100

0.75

0

50

100

50

100

50

100

1.0
0.5

00

50

100

1.5

50

100

0.0 0

50

100

1.0
0.5

1.0
0

0.5

0

50

100

0.0

0.00

0

50

100

6
4
2
00

50
100
Days from start

Days from Start

No mitigation
Tokyo

100

1.0

1.0

1.0

1.0

50

15

20

20

10

0.5

50

00

10

1.0

00

20

15

1.5

2

19

49
43

40

10

40

40

20

1.5

4

33

30
20

30

60

1.5

Growth rate (λt )

31
20

20

25

46

40

40

Reproduction number (Rt)

% of people newly infected % of people actively infected % of people infected in total

52

82

75

Chicago

Los Angeles

5%
Istanbul

10%
Jakarta

15%
London

Bike

Figure S3: Infection spreading with a varied start time of uniform intervention as Part I in
Figure 2. The intervention strategy uniformly randomly skips 80% of the check-in or meeting
events. Intervention starts when 5%, 10%, and 15% population is infected and lasts for 15 days.
This intervention strategy can reduce the total number of infected agents in some datasets, but
the fraction is independent of the starting time of the intervention.

10

83
78

75

40

50

52
46 40

46
75
39

35

31
20

20

25
50

100

00

50

00

100

50

25

00

100

73

50

50

15 25

13

00

75
77
73

50

100

00

50

100

30

60
40

20

20

10

00

50

100

10

00

50

100

100

00

50

100

00

50

50

100

1.0
1.5
0.5
1.0
50

100

0

50

Tokyo

100

Chicago

50

100

50

100

00

50

00
1.50
1.25

0.5

1.00

50

5

00

50

00

100

50

100

50

100

1.0

0.5

50

100

00

50

100

1.5

0.5

Los Angeles

50

100

50

100

0.5

1.0

0

100

0.0 0

1.0

0.75

0

10

1

1.0

0

Istanbul

50

100

0.0

0

50

Jakarta

0.00

100

6
4
2
00

50
100
Days from start

London

Days from start
7 days
15 days

No mitigation

Bike

30 days

Part II

60
40
20
00

50

100

150

200

48
40

100

30
20
10
00

50

100

150

200

15

50

0

1

50

100

150

200

1.0
0.5

5
100

200

No mitigation

00

100

7 days

0.00

200

15 days

30 days

Figure S4
11

100

0.75

100

2

00

Istanbul

Growth rate (λt )

00

10

20
00

50

1.00

200

45 days

50

100

7.5

University

63
55

00

1

1.25

5.0
2.5
0.00

10

50

100

150

5

00

60 days

200

Bike

100

2

Reproduction number (Rt )

50

20

Reproduction Number (Rt )

25

1.50

3

40

% of people newly infected

% of people infected in total

50

% of people actively infected

77
73

75

00

100

1.0

1.5

0.0

100

2

1

0.0 0

50

3

2

0.5

2.0

0

11

00

34

20

5

00

100

3

0.0 0

0.0

10

49
44

15

20

20

1.0

0.5

50

19

10

1.0

00

20

40

40

1.5

2

33
40
27

15
20

1.5

4

30

Reproduction number (Rt)

Growth rate (

)

% of people newly infected

% of people actively infected % of people infected in total

Part I

100

200

Figure S4: Infection spreading with the intervention strategy of varying intervention
length similar to Part II in Figure 2. With long intervention, the total number of infected
people is reduced significantly in Chicago, Los Angeles, London and Bike datasets. Here, 30
days are enough to have the infected people recovered and the second wave of infection does not
occur. In the other datasets, after the intervention, there is a second wave of infection leaving
a similar number of infected people. We also test longer interventions in Part II in the datasets
with larger populations and the patterns in Part I hold.

12

20

20
13

00

50

100

00

100

20
10
00

50

100

46

40

22

20

20
10

10
6

00

50

00

100
77
69
62
56

75
50

50

40

00

50

33

30

50

10
00

50

14
10

5

61

30

60
40

44

20

20

21

10

50

1.5

100

1.0

50

50

100

150
49

50

31
20

50

100

7
2

No mitigation

Tokyo
50

100

0

50

100

0

50

100

0

50

100

1.0

1.0

50

100

0.5
0.0
50

100

2

7.5
5.0

1

2.5

50

100

150

00

50

100

150

1.0

10
0.5

5
00

0

1.5

0.0 0

100

15

40

00

00

1.5

0.0

100

9
00

0.0

0.5

0.5

0.5

00

100

100

1.0

10

20

0.0 0

00
1.0

100

50

0.5

0.5

1

15

0
1.0

1.0

2

00

100

100

1.5

0.0 0

100

20

25

50

Chicago

31

50

Los Angeles

40

00
30

Jakarta

% of people actively infected

52

London

100

1.0

50

0.00

100

Days from start

# groups=2

50

# groups=3

100

0.00

50

100

150

University

50

2

6
4

Bike

20

)

25

1.5

Growth rate (

40

4

Reproduction number (Rt)

50

00

% of people infected in total

60

% of people newly infected

84
78
74
70

75

2
00

50

100

# groups=4

Figure S5: Infection spreading with the intervention strategy of dividing people into
groups. With more groups, each group has fewer agents and the connections between them
become sparser. In most datasets, dividing people into 4 groups can reduce the total number of
infected people significantly.

13

% of tracked people active

% of tracked people active

80
60
40
20
00

20

40

60

Days from start

% of tracked people active

60

100

50
40
30
20
10
00

80

20

80
70
60
50
40
30
20
10
00

60

30
20
10
00

80

20

Chicago
% of tracked people active

% of tracked people active

Tokyo

40

Days from start

40

20

40

60

Days from start

Jakarta

1%

40

60

Days from start

80

Los Angeles

40
30
20
10
00

80

5%

20

40

60

Days from start

80

London

100 %

Figure S6: Tracking the more active agents similar to Figure 3. The vertical lines denote the
days of the peak. All the datasets show consistent trends that the most active agents get infected
with a higher proportion and earlier than the whole population.

14

48

25
00

50
100
Days from start

50
100
Days from start

30
20
10
00

50
100
Days from start

102.0
101.0
100.0

100.5

101.0

50
100
Days from start

2
1
00

# such people (log scale)

103.0

100.0

50
100
Days from start

104.0

5.0
2.5
0.00

50
100
Days from start

University

00

University

104.0

Reproduction number (Rt)

00

1

7.5

6
4

Bike

50

10

2

Reproduction number (Rt)

93
75

20

% of people newly infected

50
100
Days from start

30

% of people newly infected

00

% of people actively infected

25

% of people actively infected

% of people infected in total

61

50

# such people (log scale)

% of people infected in total

93
75

2
00

50
100
Days from start

Bike

103.0
102.0
101.0
100.0

100.0 100.5 101.0 101.5
# of people infected by a person (log scale)

101.5

# of people infected by a person (log scale)

SEIR Model

Mobility Model

Figure S7: Infection spreading with random meeting information and real mobility data.
In the SEIR model, almost all people get infected in the end, which is a much higher percentage
than in the mobility model. At the same time, the peaks of people actively infected in the SEIR
model are about 35 days delayed, compared with the mobility model in two datasets. The third
row shows the distribution of the number of people infected by a person. In the mobility model,
an agent can infect at most 50 susceptible agents, while in the SEIR model, at most only 15
susceptible agents can be infected from one infectious agent. Thus, there is a long tail in the
mobility model because there are some more active agents, who spread the disease quickly.

15

100

80

80

80

60
40
20
0

Health Value

100

Health Value

Health Value

100

60
40
20
0

20

40

60

Social Value

80

20

100

80

80

60
40
20
20

40

60

Social Value

Istanbul

Staying home

Social Value

80

20
0

100

80

100

Close popular venues

40

60

Social Value

80

100

80

100

80

60
40
20
0

20

Los Angeles
Health Value

100

0

60

40

Chicago

100

Health Value

Health Value

Tokyo

40

60

20

40

60

Social Value

Jakarta

80

Close random venues

100

60
40
20
0

20

40

60

Social Value

London

Protect random people

Protect active people

Figure S8: Comparison of different intervention strategies in all other Foursquare
datasets similar to Figure 4. Closing popular venues is the most advantageous from both
health and social value perspectives.

16

40

20

22

46

40

22

00

50

100

25

20

50

100

20

40

10

20
00

50

100

4

00

50

100

7
1

00

50

100

40

10

20

00

50

00

100

1.5

3

1.0

2

1.0

2

0.5

1

50

100

0.0 0

50

100

1.0
0.5

1.0
0.5
0

50

100

0.0

20

50

100

50

100

1

0

50

100

0.0 0

50

00

3
50

100

1.5

1.5

1.0

1.0

0.5

0.5

0.0

0.0

0

50

100

50

100

100

11
00

10

20

5

10

00

50

100

00

50

100

00

0

50

100

0.00

100

100

100

50

50

50

50

50

50

00

50

100

00

50

00

100

50

100

50

75

25

50

75

2.5

100

100

25

5.0

100

50

75

7.5

100

00

50

1

0.0 0

0.0

25

2

0.5

50

20

30

1.0

0

40

15

1.0

00

100

61
56

60

31
10

0.5

0.5

00

33
29

30

10

00

20

1.5

)

46

30

60

1.5

50
25

11
00

77
72

75

Reproduction number (Rt)

25

Growth rate (

% of people newly infected % of people actively infected % of people infected in total

52
40

50

2.0

Social value

81
75

75

00

50

100

00

25

25

50

75

50

75

Days from start

Tokyo

Chicago

No mitigation

Los Angeles

0.01%

Jakarta

0.1%

London

1%

University
No mitigation
1%
3%
5%

Figure S9: Infection spreading with the intervention strategy of closing popular venues.
With more popular venues closed, the total number of infected people is reduced. The peaks
of people actively infected are delayed and become lower. In addition, closing these popular
venues have a comparatively smaller influence on the social value than uniform intervention.

17

40

2

20

1

100

50
40

39
30

20
00

50

45

50

100

20
10
00

100

40

00
30

50

100

20

50

00

100
79
69
59

75
50

00

00

50

100

1.5
1.0

50

100

76
67
55

50

50

100

50

40

00

100
33

30

13

10

0.0 0
1.5

50

100

50

100

1.0

0.0
1.5

1.0

1.0

0.5

0.5

0.0 0

50

100

00

50

100

50

100

50

100

50

100

50

100

50

100

Tokyo

100

50

0

50

100

00
100

0.0

0

50

100

00
100

1.50
1.25

50

1.00
0.75

00

50

100

2

1.5

1

1.0

50

100

15

00
1.0

50

0

0

100

50

100

50

100

00

0.5

00
100

1.0

50

0.5

5

5
00

100

50

10

20

50

50

100

20

25

0

0.5

3

40

00

100

1.0

0.5

1

75

00

2

2

50

100

1.5

20

25

50

50

10
10

00

00

100

100

4

20

31

50

Chicago

50

0

Istanbul

00

20

100

Jakarta

25

40

50

)

50

60

0.0

00

100

Growth rate (

83
73
61

75

50

% of people newly infected

% of people actively infected

% of people infected in total

00

100

50

0.5

20
50

NYC

1.0

London

38

Social value

40

00

100

1.5

53

Los Angeles

66

60

00

50

100

0.0 0

0.0
50

100

Days from start

No mitigation

1%

0

10%

50

100

00

20%

Figure S10: Infection spreading when protecting most active agents. The total number of
infected people is reduced and the peaks of active infections are delayed and lowered with more
active agents being protected.

18

1.5

100

51
43

40

34

20
00

50

00
30

50

20
10
00

100

100

50

100

46

40

35
23

20

00

50

75

75

4

1.0

00

50

100

1.5
1.0

75

50

100

100

1.0

50

100

40

0.0 0

50

1.5

100

0.0
1.5

1.0

1.0

0.5

0.5

0.0 0

50

100

0

50

100

50

0.0

0

50

100

33
28
24

30
20

50

100

00

50

100

50

100

50

100

50

100

50

1.00
0.75

00

50

100

0

50

100

00
100

1.5

50

50

100

15

1.0

00
1.0

50

0

100

50

100

00
100

1.0

10

0.5

17

50

0.5

5

00

50

00

100

60

60
53
43

40
20

50

30

100

50

75

50

100

2

20

1

10
25

0.0

0.0 0

Reproduction number (Rt)

10

00

00

100

1.25

1

00

100

100

100

100

1.50

2

20

00

00

50

50
25

50

50

0.5

3

40

00
74
66

50

0.5

1
100

0

Tokyo

2

2

50

100

1.5

20

00

50

50

10

50
25

00

100

100

20

00

100

50

Chicago

50

0

Istanbul

00

20

100

Jakarta

25

40

50

London

50

60

0.0

00

100

)

82
77

75

50

0.5

Growth rate (

00

100

% of people newly infected

50

% of people actively infected

% of people infected in total

00

50

1

00

25

50

75

00

25

50

75

0

50

100

10%
Figure S11
19

00

100

7.5
5.0

50

2.5
0.00

25

50

75

Days from start

No mitigation

Los Angeles

20

20

NYC

1.0

49
40

100

2

20%

40%

00

25

50

75

University

40

Social value

65
61

60

Figure S11: Infection spreading with the intervention strategy of closing random venues.
Compared with closing popular venues, this strategy does not have a strong intervention effect.
In some cities like Istanbul, when 40% venues are closed. the total number of infected people
is reduced a little, less than 10%, but the social value is reduced by about 40%.

20

20

1

100

1.0

NYC

35

2

50

0.5

20

00

50

100

52
40

43
35

20

21

00

50

100

00
30

100

20
10
00

50

100

46

40

33
20

15

00

50

75
50

46

77
69
60

50

42

25
00

50

50

00

50

100

1.5
1.0

33

30

11

5

60
52
44

30

40
20
25

50

50

50

1.5

40

48
42
35

20

22

100

100

50

100

50

100

50

100

50

100

50

0.5

0

50

100

1.5

1.0

1.0

0.5

0.5

50

00
100

100

0.0

0

3

1.50

2

1.25

50

100

00
100

50

1.00
0.75

50

100

2

1.5

1

1.0

00
1.0

100

50

0

50

0

100

100

00

50

100

00
100

0.5

50

0.0
50

100

2

1

10
25

50

00

75

15

25

50

75

1.0

10

00

0.5

No mitigation

50

0.00

100

Days from start

50

0.5

0.0 0

100

5
50

50

1.0

100

20

00

75

100

1.0

00

28

00
100

50

15

10
100

100

0.0

0.0 0

00

100

20

10

60

50

40

22

50

50

100

20

00

0

0.5

0.0 0

100

40

00

100

50

50

1.0

50

10

00

100

100

1.5

2

Reproduction number (Rt)

50

75

00

4

1

00

50

100

20

25

00

20

00

100
80
72
63

00

50

100

Tokyo

20

50

Jakarta

25

0

50

10%

100

20%
Figure S12

21

London

48

100

0

50

100

7.5
5.0

00

100

50

2.5
0.00

25

50

75

6
4

00
100

25

50

75

25

50

75

Bike

50

40

50

)

75

60

0.0

00

100

Reproduction number (Rt)

84
75
66

50

Growth rate (

00

100

% of people newly infected

50

% of people actively infected

% of people infected in total

00

Istanbul Los Angeles Chicago

40

40

50

2
00

50

40%

100

00

University

68
60
51

60

Figure S12: Infection spreading with the intervention strategy of protecting random people. Compared with protecting most active people, this strategy needs to protect more people
to achieve the similar health value. When 40% people are protected, the total number of people
infected can be reduced by about 20%, and the social value is reduced by 40%.

22

30
20
10
00

% of people infected

% of people still infected

40

25

50

75

40
20
00

25

50

75

# rounds / days from start

% of people still infected

% of people infected

40
30
20
10
00

25

50

75

100 125 150

# rounds / days from start

25

50

75

100 125 150

100 125 150

# rounds / days from start

25

50

75

# rounds / days from start

15
10
5
00

25

50

75

# rounds / days from start

Tokyo

100 125 150

5

20
00

25

50

75

100 125 150

25

50

75

100 125 150

25

50

75

100 125 150

25

50

75

100 125 150

25

50

75

100 125 150

# rounds / days from start

50
40

Chicago

100 125 150

10

100 125 150

60

75

15

60
50
40
30
20
10
00

80

50

20

100 125 150

# rounds / days from start

25

# rounds / days from start

25

00

% of people still infected

% of people infected

50

75

40

30
20
10
00

# rounds / days from start

50

Los Angeles

75

# rounds / days from start

50

60

40
30
20
10
00

# rounds / days from start

80
60

Jakarta

10

25

# rounds / days from start

80

40
20
00

# rounds / days from start

30

London

100 125 150

20
50

20

30
25
20
15
10
5
00

30

25

40

00

40

00

60

100 125 150

50

100 125 150

% people infected in common

75

% people infected in common

50

% people infected in common

25

# rounds / days from start

% people infected in common

20

80

% people infected in common

40

00

% of people infected

% of people still infected

60

% of people still infected

% of people infected

80

20
10
00

# rounds / days from start

Figure S13: Infection spreading between mobility network and bipartite social networks.
The infection curves between the two models are matched and the infection people in common
also have a large percentage.

23

Foursquare dataset
68

20

0

50

100

80
76

75

67
50

25

16%

0

0

50

100

NYC

Day 29
40

Day 39

20

1.0

)

32%
20

1

0

0.5

0

50

Growth rate (

34

0

1.5

2

% of people newly infected

40

0

= 0.25

Day 40

43%

40

= 0.5

57

% of people actively infected

% of people infected in total

60

= 0.75

100

3

0.0
0

50

100

50

100

1.50

1.25

2

1.00

1

0.75
0

50

0

100

0

50

0

100

0

50

Days from start

0

100

Istanbul

52
40

20

0

0

25

50

75

Day 43
Day 51

30
20
10
0

0

25

50

75

R0 = 2

Reproduction number ( )

68
62

60

R0 = 3

R0 = 4
% of people newly infected

% of people actively infected

% of people infected in total

University

2

1

0

0

25

50

75

10

5

0

0

25

50

75

52

84
80

75

70

46 75

37
28

50

12

0

50

100

0

50

100

0

50

100

0

50

100

0

50

100

0

20

40

50

10

20

0

50

100

0

50

100

0

10
5

0

50

100

0

0

50

100

0

0

50

100

0

0

50

100

1.0

1.5

1.5

2
1.0

1.0

0

0

50

100

1

0.5

0.5

0.0

1.0

0.5

2

0

50

100

0.0

0

50

100

0

0.5

0

50

100

0.0

0

50

100

)

1.5
1.0

1.5

Growth rate (

0

100

20

1.5

4

0

10

10

20

0

15

20

40

0

20
5

0

30

60

20

10

9
0

41

40

20
25

25

0

50

55
49

33

30

55

20

20

0

77
71

40
40

1.5

1.0

1.0
0.5

0.5

1.0

1.0

0.5

0.0
0

50

Tokyo

100

0

50

Chicago

100

0.0

0.0
0

50

100

0

Los Angeles

50

Jakarta

Same legends as Foursquare

100

0

50

100

London

0.0

Reproduction number ( )

% of people newly infected

% of people actively infected % of people infected in total

Days from start

0

50

100

10

5

0

0

50

100

Bike
Same legends as University

Figure S14: Infection spreading with varied transmission probabilities. In the Foursquare
datasets, the transmission probabilities are provided directly. In the University and Bike
datasets, the transmission probabilities are translated from R0 . With higher transmission probability values, the total number of people infected increase, and the peak of active cases get
higher.
24

# seeds=1
68

# seeds=5

# seeds=20

40

60

2

1.0

40

20

)
80
76

75

50

25

0

0

50

100

0

50

100

NYC

40

20

0

0

50

100

Istanbul
30

61

60

0

0

0

50

Growth rate (

0

100

100

3

0

0

50

50

0

50

0

100

University

54
47
40

0

50

100

0

50

100

1.5

1.0

100

2

82

75

0

50

100

45 75

75

7.5
5.0
2.5
0.0

40

49

37

40

40

29

37

50

50

20

20

20

20

25

25
8

0

0

50

100

0

50

100

0

0

50

0

100

0

0

50

100

0

50

100

0

50

0

100

20

40

10

20

10

0

50

100

0

50

100

50

100

10

5

0

50

100

0

0

50

100

0

0

50

100

1.5

4

0

0

50

0

100

1.0

3

1.5

1.0
1.0

2

1.0

0.5

2

50

100

0

50

100

1.0

0.0

Tokyo

100

0

50

100

0

0

50

100

50

Chicago

100

0

50

100

0.5
1.0

0.0

0.0
0

0.0

1.0

1.5

0.5

1.0

50

1

1.0

0.5

0

0.0

0

50

100

Los Angeles

0

50

Jakarta

100

0

50

London

100

0.0

Reproduction number ( )

0

0.0

0.5

0.5

0.5

0

0

20

10

20

0

15

20

40

0

0

30

60

1.5

Growth rate (

0

100

100

0.0

0

10

)

% of people newly infected

% of people actively infected % of people infected in total

0

50

0.5

1
20

0

1

20

40

0.0

2

Reproduction number ( )

50

% of people newly infected

0

% of people actively infected

% of people infected in total

0

0.5

1

20

0

7.5

5.0

2.5

0.0

0

50

100

Bike

Figure S15: Infection spreading with a varied number of seeds. With a small number of
initial seeds, the variance of infection is very large (shaded area). In most cases, when the
number of seeds is enough, the total infection numbers and the peaks of people infected actively
do not have a large difference.

25

=0.15

=0.35

=0.75

76
68
62

60

40

2

1.0

40

20

0.5

1

)

20

78

75

50

25

0

0

50

100

70

50

0

100

NYC

40

20

0

0

50

100

Istanbul
40

61
53

60

0

0

50

100

3

2

50

0

100

0

50

50

0

100

0

50

100

0

50

100

1.50

1.25

100

1

0

100

0.75

0

20

0

50

1.00

40

0

0

1

2

20

0.0

Growth rate (

0

100

Reproduction number ( )

50

% of people newly infected

0

% of people actively infected

% of people infected in total

0

0

50

100

10

5

0

75

61

60

52
46
40

60
55

40

38

50

0

0

50

100

0

0

50

100

0

49

50

50

100

0

20

0

50

100

0

0

50

0

100

30
40

20

10

0

0

0

50

100

40

20

20

10

0

50

0

50

100

0

0

20

20

20

10

0

50

100

0

0

50

100

0

50

100

10

0

50

0

100

2

4

1.5

0

50

100

0

2

1.0

1

0.5

0

0.0

1.0

1

1

2

0

50

100

0

0

50

100

0

50

100

0.5

0

50

)

1.0
0.5

0.5

0.5

0.0

0.0

1.0

0

50

Tokyo

100

0

50

Chicago

100

1.0

0.0
0

50

100

0

Los Angeles

50

Jakarta

100

0

50

London

0.0

100

1.0

1.5

1.0

1.5

100

3

2

1.5

Growth rate (

42

26

25

0

57

40

33

30

60

0

60

48
40

20

20

20

25

82
77
72

75

46

100

Reproduction number ( )

% of people newly infected

% of people actively infected % of people infected in total

University
82

0

50

100

0

50

100

10

5

0

Bike

Figure S16: Infection spreading with the varying probabilities of being asymptomatic.
With high asymptomatic probability, there will be more infected people who have a longer
duration to infect other susceptible people. It leads to a high percentage of people infected in
total and a higher peak of people infected actively.
26

60
40
20
40

60

80

100

60
40
20
40

% of people infected in total

60

80

100

20
0

20
20

40
60
80
Sample size (%)

100

40

60

80

100

40

60

80

100

Sample size in % of population

80
60
40
20
0

Sample size in % of population

x=0%
x=1%

x=5%
x=10%

40

0

40

Sample size in % of population

60

x=10%
x=20%

60

Sample size in % of population

80

0

x=0%
x=1%

% of users infected in total

0

x=0%
x=1%

University

x=1%
x=10%

% of people infected in total

% of users infected in total
% of users infected in total

Istanbul

New York

x=0%
x=0.1%
x=0.5%

Closing x% most popular
venues

% of users infected in total

Protecting x% most active
people

x=3%
x=5%

60
40
20
0

20

40
60
80
Sample size (%)

100

Figure S17: Infection spreading with the intervention strategy for different sizes of the
dataset. The sample size is in the percentage of agents sampled. Using the intervention strategies to protect the most active people and close most popular venues, the percent of infected
agents decreases with sample size.

27

20

17
25
50
75
Days from start

Reproduction number (Rt)

00

2

1

00

25
50
75
Days from start

No mitigation
Close classroom

% of people actively infected

40

60
52
46
40

% of people newly infected

% of people infected in total

60

Close department
Close cafeteria

30
20
10
00

25
50
75
Days from start

7.5
5.0
2.5
0.00

25
50
75
Days from start

Close classroom and department
Close classroom, department and cafeteria

Figure S18: Closing some types of venues and constraining some activities are good intervention strategies in universities. In the university environment, there are many gathering
events, especially taking courses and eating. In reality, many universities allow students to stay
in the campus, but move the courses online and require students to take the meal back to dorms.
So we test the spread in the university if some types of venues are closed. It shows that closing
one type of venue is not enough to control the spreading. Only when we close all the classrooms
and cafeteria, the total infection can be controlled under 20%, because students can also contact
with each other in other venues, due to the limited number of venues.

28

