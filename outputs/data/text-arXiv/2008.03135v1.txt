arXiv:2008.03135v1 [q-bio.PE] 6 Aug 2020

Visualization and machine learning for forecasting
of COVID-19 in Senegal
Babacar Mbaye Ndiaye, Mouhamadou A.M.T. Balde, Diaraf Seck∗

Abstract. In this article, we give visualization and different machine learning technics
for two weeks and 40 days ahead forecast based on public data. On July 15, 2020,
Senegal reopened its airspace doors, while the number of confirmed cases is still
increasing. The population no longer respects hygiene measures, social distancing as
at the beginning of the contamination. Negligence or tiredness to always wear the
masks? We make forecasting on the inflection point and possible ending time.
Keywords. COVID-19, regression, visualization, machine learning, forecasting.

1. Introduction
In Senegal, the pandemic of COVID-19 was reported in Dakar on March 2th, 2020,
and then quickly spread out national wide. The pandemic is in its active phase and is
progressing at breakneck speed. The latest assessment, after more than 147 days (by
July 26, 2020) of struggle, showed a worrying health situation with an increase in the
number of confirmed cases. Current social distancing measures to impede COVID-19
are economically unsustainable in the long term. Models are needed to understand the
implications of possible relaxation options for these measures. In [1, 2, 3, 4], authors use
deterministic, stochastic models and machine learning technics to study and forecast the
COVID-19 cases in Senegal. In these works, we take into account the nationwide measures
in Senegal. In [5], we explore some contamination factors on the COVID-19 evolution in
Senegal (population density, religions/beliefs, food, youth, temperature, humidity, and
cross-immunity) that reduce the rate of spread.
As of July 2, 2020, Senegal had just completed four months of response to the COVID19 disease. Epidemiological surveillance had remained static for a long time with the
investigation of suspected and confirmed cases and monitoring cases of contact.
In this work, first, we collect the pandemic data carefully from [18, 19], from 2020,
March 02, to July 26. Second, we propose visualization and different machine learning
technics (linear regression, polynomial regression, support vector regression, prophet, and
multilayer perceptron) to analyze the coronavirus pandemic in Senegal.
We organize the article as follows. In section 2, we present some data analysis followed by
the visualization in section 3. In section 4, we perform several machine learning technics
for forecasting for two weeks and 40 days. Finally, in section 5, we present conclusions
and perspectives.
This work was completed with the support of the NLAGA project.

2

Ndiaye et al.

2. Data analysis
The simulations are carried out from data in [18, 19], from 2020, March 02 to July 26.
The numerical tests were performed by using the Python with Panda library [21] and
nnfor R package [22], on a computer with the following characteristics: intel(R) Core-i7
CPU 2.60GHz, 24.0Gb of RAM, under UNIX system. According to daily reports, we
first analyze and make some data preprocessing before simulations. Figure 1a illustrates
the cumulative numbers of confirmed, recovered, and death cases, and Figure 1b is a
frequency histogram which analyzes how many times values of an interval of cumulative
confirmed cases are reached. Then, we get various summary statistics (per day), by giving
the mean, standard deviation, minimum and maximum values, and the quantiles of the
data (see Tables 1 and 2).

(a) Senegal COVID-19 cases confirmed, deaths and recovered

(b) Frequency histogram of confirmed cases

Figure 1. Cumulative cases
values
mean
std
min
25%
50%
75%
max

tests
cases contact
712.75 65.85
54.52
492.20 49.06
41.74
1
0
0
158.00 12.00
8.00
827.00 71.00
63.00
1087.75 105.50 87.50
1820
177
169

imported community
1.19
10.18
3.00
10.93
0
0
0.00
1.00
0.00
7.00
1.00
15.00
27
49

confirmed
3114.05
3104.67
1
240.50
2189.00
5711.00
9681

Table 1. Senegal summary statistics (per day) until July 26th, 2020
(tests, cases, contact, imported, community and confirmed).
Let’s define the Active cases = Confirmed-Recovered-Deaths, the Closed cases = Recovered + Deaths. The number of performed tests par day is not a constant (see Figure 2a).
The Figure 2b shows that in Senegal, between March 02 and July 26, 2020, the ratio (ratio=confirmed cases/tests) is almost constant despite variations in the number of daily
tests performed and considered to be unrepresentative. Despite official statements about
the peak period, it seems difficult to say whether the peak of contamination has already
been reached or will even be reached shortly. In addition, we find that the ratio varies
on average by 6 to 10%. Figures 2c and 2d show that the maximum number of severe
and community cases are less than 1% (0.54% and 0.5%, respectively) of the number of
confirmed cases.

Visualization and machine learning for forecasting of COVID-19 in Senegal
values
mean
std
min
25%
50%
75%
max

recovered
1907.19
2116.01
0
109.00
842.00
3823.50
6409

deaths evacuated
47.61
0.79
56.99
0.41
0
0
2.00
1.00
23.00
1.00
80.50
1.00
191
1

severe
13.27
15.01
0
0.00
8.00
22.00
53

3

active ratios
1159.24 0.13
974.17
0.18
1
0
131.00
0.07
1324.00 0.09
1840.50 0.11
3081
1

Table 2. Senegal summary statistics (per day) until July 26th, 2020
(recovered, deaths, evacuated, severe, active and ratios).

(a) number of tests per day

(c) severe cases per day

(b) ratios per day

(d) community cases per day

Figure 2. Senegal: tests - ratios / community and severe cases

3. Visualization
3.1. Datewise analysis
We have: Active = Confirmed - Recovered - Deaths, and Closed = Recovered + Deaths.
The grouping of different types of cases as per the date is given by the Table 3. The
number of actives and closed cases are given in Figures 3a and 3b. We see that the
number of closed cases is increasing, which is positive for Senegal. The weekly growth of
confirmed, recovered and death cases is given by Figure 4, while the weekly increase in
number of confirmed and death cases is given by Figure 5. We see that weeks 16, 18 and
21 were fatals for deaths and confirmed cases.

4

Ndiaye et al.
basic information
total number of confirmed cases
total number of recovered cases
total number of deaths cases
total number of active cases
total number of closed cases
approximate number of confirmed cases per day
approximate number of recovered cases per day
approximate number of death cases per day
approximate number of confirmed cases per hour
approximate number of recovered cases per hour
approximate number of death cases per hour
number of confirmed cases in last 24 hours
number of recovered cases in last 24 hours
number of death cases in last 24 hours

value
9681
6409
191
3081
6600
66.0
44.0
1.0
3
2
0
129
45
4

Table 3. Senegal: disease spread, by July 26th 2020.

(a) distribution of active cases

(b) distribution of closed cases

Figure 3. Number of active and closed cases per day

Figure 4. Weekly growth of confirmed, recovered and death cases

Visualization and machine learning for forecasting of COVID-19 in Senegal

5

Figure 5. Weekly increase in number of confirmed and death cases
3.2. High population density
If we take the distribution of contamination cases, we see that Dakar (with the highdensity area) is the most contaminated. Figure 6 illustrates the visualization of highdensity areas (for the North, South, West, and Center). Figure 7 shows this phenomenon
with the first 5 (Figure 7a) and the first 10 (Figure 7b). Besides, in Figure 8, we show
the cumulative repartition of the number of confirmed cases per zone.

(a) Dakar north

(c) Dakar south

(b) Dakar west and Dakar center

(d) zoom of Dakar cases

Figure 6. Dakar region cases
High population densities can catalyze the spread of COVID-19 [5]. With its 3,137,196
inhabitants, or almost a quarter of the population of Senegal (23.2%), living on an area
representing 0.3% of the total area of the country, Dakar is the most populated region of
Senegal, and its population density is also the highest with 5,846 people/km2 .

6

Ndiaye et al.

(a) the first 5 zones

(b) the first 10 zones

Figure 7. Number of confirmed cases per zone

Figure 8. Cumulative number of confirmed cases
Parcelles Assainies, Guediewaye are zones with high density. That involves community
cases (see Figure 6a), where the urbanization rate is 44%. By July 26, the active cases in
Dakar are 5283 (West (1451), South (1294), North (1148), and Center (1390)). Keeping
to more than one meter (1 m) distance between people coughing and sneezing, as recommended by the WHO, becomes more difficult with higher population densities like in
Dakar. Therefore, avoiding situations with higher population densities will be a necessary
requirement to limit the spread of COVID-19.

Visualization and machine learning for forecasting of COVID-19 in Senegal

7

The Figure 9 shows the confirmed cases by the density of population in each region,
Figure 10 shows the logarithm of confirmed cases per logarithm of density of population
in each region, Figure 11 shows the confirmed cases per region and Figure 12 shows the
confirmed cases and density per region. In Figure 10, we use the “CodesISO3166-2” to
characterize the regions: Dakar(SN-DK), Zinguinchor(SN-ZG), Diourbel(SN-DB), SaintLouis(SN-SL), Tambacounda(SN-TC), Kaolack(SN-KL), Thies(SN-TH), Louga(SN-LG),
Fatick(SN-FK), Kolda(SN-KD), Matam(SN-MT), Kaffrine(SN-KA), Kedougou(SN-KE),
Sedhiou(SN-SE). We see that for some regions with high density, there are few cases, while
for others with low density, there are many cases. However, the Dakar region with the
highest density has the most cases.

Figure 9. Confirmed cases per region density

Figure 10. Logarithm of confirmed cases per logarithm of region density

8

Ndiaye et al.

Figure 11. Histogram of confirmed cases per region

Figure 12. Histogram of confirmed cases and density per region

3.3. Mortality, recovery rates and daily increase
First, let’s define the mortality and recovery rates.
Mortality rate =

number of death cases
× 100
number of confirmed cases

number of recoverd cases
× 100
number of confirmed cases
The recovery and mortality rates are given by Figure 13, and their average and median
values in Table 4.
We see that the recovery rate has started to pick up again, which is a good sign. The
daily increase of confirmed, recovered, and death of cases are given in Figure 14, and
their average increase in Table 5.
Recovery rate =

Visualization and machine learning for forecasting of COVID-19 in Senegal
average/median
average recovery rate
median recovery rate
average mortality rate
median mortality rate

9

values
45.760529
49.509649
1.006177
1.119125

Table 4. Senegal: average and median values

(a) recovery rate

(b) mortality rate

Figure 13. Evolution of the recovery and mortality rates

Figure 14. Senegal: daily increase cases
average increase every day
average increase of confirmed cases every day
average increase of recovered cases every day
average increase of deaths cases every day

values
66.0
44.0
1.0

Table 5. Senegal: average increase cases

3.4. Growth factor
3.4.1. Growth factor for confirmed, recovered and deaths cases. The growth factor is
the factor by which a quantity multiplies itself over time. The formulas used are:

10

Ndiaye et al.

For confirmed cases:
Every day’s new Confirmed
new Confirmed on the previous day
For recovered cases:
Every day’s new Recovered
new Recovered on the previous day
For deaths cases:
Every day’s new Deaths
new Deaths on the previous day
Remark 3.1.
• A growth factor constant at 1 indicates there is no change in any kind
of cases.
• A growth factor above 1 indicates an increase corresponding cases.
• A growth factor above 1 but trending downward is a positive sign, whereas a growth
factor constantly above 1 is the sign of exponential growth.
The growth factor for confirmed, recovered and deaths of cases is given by Figure 15,
and their average and median growth factors in Table 6.

Figure 15. Senegal: growth factor for confirmed, recovered and deaths cases

average/median growth factor
average growth factor of number of confirmed cases
median growth factor of number of confirmed cases
average growth factor of number of recovered cases
median growth factor of number of recovered cases
average growth factor of number of death cases
median growth factor of number of death cases

values
1.073613
1.027353
inf
1.029787
inf
1.023810

Table 6. Senegal: average and median growth factors of cases

Visualization and machine learning for forecasting of COVID-19 in Senegal

11

3.4.2. Growth factor for active and closed cases. The formulas used are:
For active cases:
Every day’s new Active
new active on the previous day
For closed cases:
Every day’s new Closed
new Closed on the previous day
The growth factor for active and closed cases is given by Figure 16.

Figure 16. Senegal: growth factor for active and closed cases

3.5. Unreported cases
We can see in Figure 17 that starting around March 13 to July 07, the ratios are around
the mean 10%. That means the number of tests influences the number of daily cases, as
we see in Figures 2a of the number of tests and Figure 5 of weekly increase.
If we consider that the mean ratio shows the real situation of the country in the real
number of infectious individuals, we can compute approximately the number of unreported cases in the country. We can use the formula U = Ratio T − C, where T is the
daily test or for simplifying the mean daily test, C is the daily confirmed case. We know
by WHO that testing is the key to controlling the virus. The WHO considers that the
more tests that are conducted, the easier it becomes to track the spread of the virus and
reduce transmission. The WHO has suggested around 10, 30 tests per confirmed case as
a general benchmark of adequate testing.
By considering that an excellent way to spread the virus is to perform several tests between 10C and 30C, C is the daily confirmed cases. That means the daily and mean ratio
must be in the interval [1/30, 1/10]. In Figure 17, we show the daily and mean ratio and
the recommended lower and upper ratios.
It is clear that if the ratio is higher than the recommended upper ratio, there are undetected cases. Those cases have delay for contamination until they become confirmed (see
Figure 18 for the estimation of unreported cases).

12

Ndiaye et al.

Figure 17. Senegal: ratio

Figure 18. Senegal: estimation of unreported cases

4. Forecasting using machine learning models
In this section, first we perform 5 days ahead forecast with Linear regression [11], Polynomial regression [11], Support Vector Regression (SVR) [17], Prophet [20] and Multilayer
Perceptron (MLP) [7, 8]. Second, we compare their Root Mean Square Error (RMSE).
The RMSE measures how much error there is between two data sets. In other words, it
compares a predicted value (b
yi ) and an observed or known value (y). The smaller the
RMSE value is, the closer predicted and observed values are. Also, we make a forecasting

Visualization and machine learning for forecasting of COVID-19 in Senegal

13

(2 weeks and 40 days) with the two methods giving the two best RMSE (i.e., Prophet
and MLP).
Recall that the sum of squared errors is defined by:
n
X
2
(yi − ybi ) .
i=1

The mean square error (MSE) is the arithmetic mean of the squares of the deviations
between the model predictions and the observations, and the RMSE is the root of the
MSE. The mean absolute error (MAE) is the arithmetic mean of the absolute values
of the deviations. The mean absolute percentage error (MAPE) is the average of the
deviations in absolute value from the observed values.
The MSE, RMSE, MAE and MAPE formula are given, respectively, by:
v
u n
n
n
n
u1 X
1X
1 X yi − ybi
1X
2
2
t
(yi − ybi ) ,
(yi − ybi ) ,
|yi − ybi |,
n i=1
n i=1
n i=1
n i=1
yi
In section 4.4.1 we compare with Prophet the MSE, RMSE, MAE and MAPE for a week
forecasting, and in section 4.6 the RMSE of the 5 proposed forecasting technics.
4.1. Linear regression model
Linear regression is the most straightforward and most widely used statistical technic for
predictive modeling [11, 15]. Linear regression technics are used to create a linear model.
The model describes the relationship between a dependent variable y (also called the
response) as a function of one or more independent variables xi (called the predictors).
The general equation for a linear regression model is:
n
X
y = w0 +
wi xi + i
i=1

where w represents linear parameter estimates to be computed and  the error terms.
There are several types of linear regression models: simple linear regression (model with
only one predictor), multiple linear regression (model with multiple predictors), logistic
regression, ordinal regression, multinomial regression, and discriminant analysis. Here,
we are using simple linear regression.
The RMSE for linear regression is 1576.974603. The linear regression forecasting of confirmed cases is given in Figure 19. We see that the linear regression model is falling apart.
As it is visible that the trend of confirmed cases in absolutely not linear. It cannot model
the relationship between the target variable and the predictor variable. In other words,
they do not have a linear relationship. The polynomial regression might be of assistance.
4.2. Polynomial Regression
Polynomial regression is another form of regression in which the maximum power of the
independent variable is more than one [11, 15]. In this regression technic, the best fit
line is not a straight line; instead, it is in the form of a curve. The advantages of using
polynomial regression are: (i) polynomial fits a wide range of curvature, (ii) a broad range
of function can be fitted under it, (iii) polynomial provides the best approximation of
the relationship between the dependent and independent variable.
But, in polynomial regression, we have a polynomial equation of degree n represented as:
y = w0 + w1 x + w2 x2 + ... + wn xn
where x = score on the independent variable, y = estimated dependent variable score,
w0 = constant and w1 , w2 , ..., wn = are the weights in the equation of the polynomial

14

Ndiaye et al.

Figure 19. Senegal: linear regression forecasting of confirmed cases
regression and n is the degree of the polynomial.
We can choose the degree of polynomial based on the relationship between target and
predictor. The 1-degree polynomial is a simple linear regression; therefore, the value of
degree must be greater than 1. Here, we have taken a 3-degree polynomial.
The RMSE for polynomial regression is 132.4346590595342. The polynomial regression
forecasting of confirmed cases is given in Figure 20. We can observe that polynomial

Figure 20. Senegal: polynomial regression forecasting of confirmed cases
regression is better at fitting the data than linear regression. Also, due to better-fitting,
the RMSE of polynomial regression is way lower than that of linear regression.
4.3. Support Vector Machine - Regression (SVR)
Support Vector Machine (SVM) is a supervised machine learning algorithm that can
be used for both classification or regression challenges [17]. As a regression method, it
maintains all the main features that characterize the algorithm (maximal margin). The
Support Vector Regression (SVR) uses the same principles as the SVM for classification,
with only a few minor differences. SVM regression is considered a nonparametric technic
because it relies on kernel functions. The goal is to find a function f (x) that deviates

Visualization and machine learning for forecasting of COVID-19 in Senegal

15

from yn by value no greater than  for each training point x, and at the same time is as
flat as possible.
Suppose we have a set of training data where xi is a multivariate set of n observations with
observed response values yi . To find the linear function f (x) = xw + b, and ensure that
it is as flat as possible, find f (x) with the minimal norm value ||w||2 . This is formulated
as a convex optimization problem to minimize:
1
||w||2
2
s.t. |yi − (xi w + b)| ≤  ∀i

min

The function used to predict new values depends only on the support vectors:
y=

n
X

(αi − αi∗ ).(xi , x) + b

i=1
∗

αi and α are nonnegative multipliers for each observation xi .
The RMSE for SVR is: 4942.716486, and the SVR forecasting of confirmed cases is given
by Figure 21. In addition, we can clearly observe that polynomial regression is better at

Figure 21. Senegal: SVM forecasting of confirmed cases
fitting the data than linear and SVM regressions.
4.4. Prophet model
Prophet [20] is a procedure for forecasting time series data based on an additive model
where non-linear trends are fit with yearly, weekly, and daily seasonality, plus holiday
effects. It works best with time series that have strong seasonal effects and several seasons
of historical data. Prophet is robust to missing data and shifts in the trend, and typically
handles outliers well. For the average method, the forecasts of all future values are equal
to the average (or mean) of the historical data. If we let the historical data be denoted
by y1 , ..., yT , then we can write the forecasts as
ŷT +h|T = ȳ = (y1 + y2 + ... + yT )/T
The notation ŷT +h|T is a short-hand for the estimate of yT +h based on the data y1 , ..., yT .
A forecasting interval gives an interval within which we expect yt to lie with a specified

16

Ndiaye et al.

probability. For example, assuming that the forecast errors follow a normal distribution,
a 95% forecasting interval for the h-step forecast is
ŷT +h|T ± 1.96σˆh
where σh is an estimate of the standard deviation of the h-step forecast distribution.
4.4.1. Diagnostics. Here, we make some diagnostics by using the cross validation (see Table 7) and the performance metrics (see Table 8) using MSE, RMSE, MAE and MAPE.
The Figure 25 illustrates these cross validation metrics, making 7 forecasts with cutoffs between 2020-07-15, 00:00:00 and 2020-07-21, 00:00:00 (initial=’135days’, period=’1
days’, horizon = ’5 days’).

(a) mape

(b) mae

(d) mse

(c) rmse

Figure 22. Senegal: cross validation metrics

ds
2020-07-16
2020-07-17
2020-07-18
2020-07-19
2020-07-20

ŷ
8527.102656
8642.037561
8757.731562
8861.406842
8965.288487

ŷlower
8490.194455
8604.002596
8713.796517
8806.387035
8892.653796

ŷupper
8559.523867
8681.562780
8801.281978
8922.864695
9039.413469

y
8481
8544
8669
8810
8948

cutoff
2020-07-15
2020-07-15
2020-07-15
2020-07-15
2020-07-15

Table 7. Senegal: cross validation

From Table 7, by comparing the values obtained on July 20, 2020 (column y=8948) with
the predicted one (column ŷ=8965.288487), we see that the error is 0.19%. The predicted
value is always within the confidence interval. So, Prophet seems to give us good value.

Visualization and machine learning for forecasting of COVID-19 in Senegal
horizon
1 day
2 days
3 days
4 days
5 days

mse
1346.372683
1567.467031
1958.774371
2483.073134
3194.413073

rmse
36.692951
39.591249
44.258043
49.830444
56.519139

mae
28.612794
31.337141
34.955291
40.018887
45.507174

17

mape
0.003718
0.003992
0.004379
0.004936
0.005528

Table 8. Senegal: performance metrics with Prophet

4.4.2. Trend changepoints and forecasting. The RMSE for Prophet model is 24.332935.
The Prophet forecasting of confirmed cases, with trend changepoints, is given by Figure
23, and the trends and weekly increase are given by Figure 24. With Prophet, at ∼
August 09, 2020 we may obtain > 11090 confirmed cases and > 13870 confirmed cases
at ∼ September 04, 2020 (see Tables 9 and 10). The forecasts of confirmed cases are
illustrated in Figures 25a and 25b.

Figure 23. Senegal: changepoints of confirmed cases

ds
2020-08-05
2020-08-06
2020-08-07
2020-08-08
2020-08-09

ŷ
10655.486693
10763.013788
10876.303087
10991.262629
11097.823573

ŷlower
10510.221518
10600.112043
10707.775556
10782.447924
10875.493754

ŷupper
10790.299094
10914.058841
11039.098323
11179.373374
11306.275975

Table 9. Prophet: predicted cumulative confirmed cases ∼August 09, 2020.

18

Ndiaye et al.

Figure 24. Senegal: Trends and weekly indrease of confirmed cases

ds
2020-08-31
2020-09-01
2020-09-02
2020-09-03
2020-09-04

ŷ
13449.712068
13541.159323
13655.655402
13763.182496
13876.471796

ŷlower
12538.804551
12611.551136
12686.931428
12762.246012
12857.301393

ŷupper
14346.331331
14470.374884
14650.954431
14770.441020
14925.442430

Table 10. Prophet: predicted cumulative confirmed cases ∼September
04, 2020.

(a) 2 weeks forecasting

(b) 40 days forecasting

Figure 25. Senegal: Prophet for forecasting of confirmed cases

Visualization and machine learning for forecasting of COVID-19 in Senegal

19

4.5. Artificial neural network
Artificial neural networks are part of artificial intelligence. Biological neural networks are
part of the animal brain. One of the main functions of the brain is to process information,
and the primary information processing element is the neuron. This specialized brain cell
combines (usually) several inputs to generate a single output. Depending on the animal,
an entire brain can contain anywhere from a handful of neurons to more than a hundred
billion, wired together. The output of one cell feeding the input of another, to create a
neural network capable of remarkable feats of calculation and decision making (see [14]).
If we could qualify the brain as a computer, then we would say that it is the best of
computers. For this reason, the engineer seeks to improve mechanical computers to be
closer to the biological computer, i.e., the brain. The more neural connections there are,
the more the network can solve complex problems. Pattern recognition is a task that
neural networks can easily accomplish. For this task, introducing as input a pattern to a
neural network, yields as output a pattern back (see [10]).
In general, neural network problems involve a dataset used to predict values for later
datasets. For that, the neural network needs to be trained. Then, neural networks can
predict the outcome of entirely new datasets based on training from old data sets. Most
neural network structures use some type of neuron, node, or unit. An algorithm called a
neural network would generally be made up of individual interconnected neurons.
The artificial neuron receives input from one or more sources, which may be other neurons or data entered into the network from a computer program (see Figure 26). This
entry is usually a floating-point or binary. Often the binary input is coded floating point
representing true or false like 1 or 0. Sometimes the program also describes the binary
input as using a bipolar system with true as 1 and false as −1. An artificial neuron multiplies each of these inputs by a weight. It then adds these multiplications and transmits
this sum to an activation function given by:
n
X
f (xi , wi ) = φ(
wi · xi ),

(4.1)

i=1

with the variables x and w represent the input and the weights of the neuron, n is the
number of input and weight.
There is much class of Artificial neural networks, and each of them may be subdivided
into class again. A feedforward neural network is a class ANN where connections between
the nodes do not form a cycle. A multilayer perceptron (MLP) is a class of feedforward
artificial neural network. An MLP may refer to networks composed of multiple layers of
perceptrons, and a perceptron is an algorithm for supervised learning of binary classifiers
(see [7, 9, 10, 14]). We use the nnfor R package, which allows time series forecasting
with Multilayer Perceptrons (MLP) and Extreme Learning Machines (ELM). It relies on
the neuralnet package for R [22], which provides all the machinery to train MLPs (see
[13]). With MLP, at ∼ August 09, 2020 we may obtain > 11110 confirmed cases and >
13790 confirmed cases at ∼ September 04, 2020 (see Tables 11 and 12). The forecasts of
confirmed cases are illustrated in Figures 27a and 27b.

4.6. Comments and summary of forecasts using different models
The table 13 gives all rmse values obtained from the 5 methods. The confirmed cases
forecasting with linear regression, polynomial regression, SVR, Prophet and Multilayer
perceptron are given by Table 14.
We clearly observe that polynomial regression is better at fitting the data than linear

20

Ndiaye et al.

Figure 26. Senegal: MLP fit with 5 hidden nodes and 20 repetitions.
Date
2020-08-05
2020-08-06
2020-08-07
2020-08-08
2020-08-09

P
10716.477
10814.215
10911.786
11009.281
11110.988

Plower
10558.952
10661.085
10766.739
10873.242
10965.396

Pupper
10957.686
11082.901
11208.026
11333.900
11459.136

Table 11. MLP: forecasting 2 weeks (until 2020, 09 August).

Date
2020-08-31
2020-09-01
2020-09-02
2020-09-03
2020-09-04

P
13375.467
13481.011
13586.572
13692.030
13797.109

Plower
13169.586
13270.426
13371.284
13472.156
13573.002

Pupper
14198.702
14322.128
14445.321
14568.216
14690.702

Table 12. MLP: forecasting 40 days (until 2020, 04 September).

regression and SVR. Also, based on the cross-validation and RMSE, MLP (the best
fitting) and Prophet are better at fitting the data than linear, polynomial, and SVR.
Model name
Root Mean Squared Error (RMSE)
Linear Regression
1576.974603
Polynomial Regression
132.434659
Support Vector Machine Regressor
4942.716486
Prophet Model
24.332935
Mutilayer Perceptron
19.71207
Table 13. Senegal: root mean square error for all models

Visualization and machine learning for forecasting of COVID-19 in Senegal

(a) 2 weeks forecasting

21

(b) 40 days forecasting

Figure 27. Senegal: MLP for forecasting of confirmed cases
Date
2020-07-27
2020-07-28
2020-07-29
2020-07-30
2020-07-31

Linear
Polynomial
7951.692390 9872.025007
8018.221190 9987.827481
8084.749989 10103.531274
8151.278788 10219.120562
8217.807587 10334.579520

SVR
16345.262343
16891.321361
17452.339861
18028.623125
18620.480560

MLP
Prophet
9798.7073 9699.794909
9905.9566 9791.304248
10015.025 9905.861512
10121.759 10013.346832
10222.750 10126.594134

Table 14. Senegal: comparison values for confirmed cases forecasting

5. Conclusion and perspectives
Many questions deserve to be raised [6]: pharmacopeia to the rescue of a broken down
modern medicine, biological diagnosis, some prevention strategies, the resilience of the
Senegalese economy, and the legal consequences of COVID-19. Forecasts show that the
number of contamination in Senegal continues to climb despite the measures taken by
the government. The weeks 16, 18 and 21 were very particular because there are the top
in deaths and confirmed cases.
Severe measures still need to be put in place to reach the peak. Measures could help for
the reopening of schools and universities, and hope to be among the countries authorized
by the EU for their airspace.

Acknowledgement
The authors thanks the Non Linear Analysis, Geometry and Applications (NLAGA)
project for supporting this work (http://nlaga-simons.ucad.sn).

References
[1] B.M. Ndiaye, L. Tendeng, D. Seck, Analysis of the COVID-19 pandemic by SIR model
and machine learning technics for forecasting, arXiv:2004.01574v1 [q-bio.PE], 3 Apr 2020,
https://arxiv.org/pdf/2004.01574.pdf.

22

Ndiaye et al.

[2] B.M. Ndiaye, L. Tendeng, D. Seck, Comparative prediction of confirmed cases with
COVID-19 pandemic by machine learning, deterministic and stochastic SIR models,
arXiv:2004.13489 [q-bio.PE], 24 Apr 2020, https://arxiv.org/pdf/2004.13489.pdf.
[3] M.A.M.T. Balde, C. Balde, B.M. Ndiaye, Impact studies of nationwide measures COVID-19
anti-pandemic: compartmental model and machine learning, arXiv:2005.08395 [q-bio.PE],
17 May 2020. https://arxiv.org/pdf/2005.08395.pdf.
[4] M.A.M.T. Balde, Fitting SIR model to COVID-19 pandemic data and comparative forecasting with machine learning, medRxiv preprint doi: https://doi.org/10.1101/2020.04.
26.20081042.(2010).
[5] V.M. Ndiaye, S.O. Sarr, B.M. Ndiaye, Impact of contamination factors on the COVID-19
evolution in Senegal, arXiv:2006.16326 [q-bio.PE], 29 Jun 2020, https://arxiv.org/pdf/
2006.16326.pdf.
[6] S.O. SARR, A. Ndiaye, A. Badiane, M. Diouf, S.B. Lo, A.S. Badji, P.I. Ndiaye, B.M. Ndiaye,
A. Kane, M.P. Sarr, Groupe de Recherche Interdisciplinaire pour le Developpement (GRID),
Rapport interimaire n2 du 10 Juillet 2020.
[7] E. Alpaydin, Introduction to Machine Learning 2nd ed, 584. Adaptive Computation and
Machine Learning, (2010).
[8] Y. Freund and R. E. Schapire. Large margin classification using perceptron algorithm.
Machine Learning, 37(3):277-296, 1999.
[9] I. Goodfellow, Y. Bengio and A. Courville, Deep Learning, MIT Press. http://www.
deeplearningbook.org (2016).
[10] J. Heaton, AIFH Volume 3: Deep Learning and Neural Networks, Heaton Research, Inc,
268. Tracy Heaton (2015).
[11] Fan, Jianqing (1996). Local Polynomial Modelling and Its Applications: From linear regression to nonlinear regression. Monographs on Statistics and Applied Probability. Chapman
& Hall/CRC. ISBN 978-0-412-98321-4.
[12] Kermack WO, McKendrick AG (1927) Contributions to the mathematical theory of epidemics. Proc R Soc A 115 :700721.
[13] N. Kourentzes, Tutorial for the nnfor R package, Jan. 16, 2019, available on https://
kourentzes.com/forecasting/2019/01/16/tutorial-for-the-nnfor-r-package/.
[14] M.E.J. Newman, Networks An Introduction, Oxford University Press, 394. (2010).
[15] S. Saxena, Underfitting vs. Overfitting (vs. Best Fitting) in Machine Learning, Feb. 7, 2020,
Analytics Vidhya, , available on https://www.analyticsvidhya.com.
[16] Steven Sanche, Yen Ting Lin, Chonggang Xu, Ethan Romero-Severson, Nick Hengartner,
and Ruian Ke. The novel coronavirus, 2019-ncov, is highly contagious and more infectious
than initially estimated. medRxiv, 2020.
[17] Vapnik, V. The Nature of Statistical Learning Theory. Springer, New York, 1995.
[18] Minisère de la santé et de l’action sociale, Senegal, May 31, 2020, available on http://www.
sante.gouv.sn/.
[19] COVID-19 Data Hub, available on https://www.tableau.com/covid-19-coronavirusdata-resources.
[20] Prophet: Automatic Forecasting Procedure, avalailable in https://facebook.github.io/
prophet/docs/ or https://github.com/facebook/prophet.
[21] Python Software Foundation. Python Language Reference, version 2.7. Available at http:
//www.python.org.
[22] CRAN package repository, available on https://cran.r-project.org/web/packages/.

Visualization and machine learning for forecasting of COVID-19 in Senegal
Babacar Mbaye Ndiaye, Mouhamadou A.M.T. Balde, Diaraf Seck∗
Laboratory of Mathematics of Decision and Numerical Analysis.
University of Cheikh Anta Diop. BP 45087, 10700. Dakar, Senegal.
∗
IRD, UMMISCO, Dakar, Senegal.
e-mail: babacarm.ndiaye@ucad.edu.sn, mouhamadouamt.balde@ucad.edu.sn,
diaraf.seck@ucad.edu.sn

23

