Measuring the Internet during Covid-19
to Evaluate Work-from-Home
Xiao Song

University of Southern California
songxiao@usc.edu

arXiv:2102.07433v2 [cs.NI] 17 Feb 2021

ABSTRACT
The Covid-19 pandemic has radically changed our lives. Under
different circumstances, people react to it in various ways. One way
is to work-from-home since lockdown has been announced in many
regions around the world. For some places, however, we don’t know
if people really work from home due to the lack of information.
Since there are lots of uncertainties, it would be helpful for us to
understand what really happen in these places if we can detect the
reaction to the Covid-19 pandemic. Working from home indicates
that people have changed the way they interact with the Internet.
People used to access the Internet in the company or at school
during the day. Now it is more likely that they access the Internet
at home in the daytime. Therefore, the network usage changes in
one place can be used to indicate if people in this place actually
work from home. In this work, we reuse and analyze Trinocular
outages data (around 5.1M responsive /24 blocks) over 6 months to
find network usage changes by a new designed algorithm. We apply
the algorithm to sets of /24 blocks in several cities and compare
the detected network usage changes with real world covid events
to verify if the algorithm can capture the changes reacting to the
Covid-19 pandemic. By applying the algorithm to all measurable /24
blocks to detect network usages changes, we conclude that network
usage can be an indicator of the reaction to the Covid-19 pandemic.

KEYWORDS
Internet Measurement, Active Probing, Network Outages

1

INTRODUCTION

In 2020, the Covid-19 pandemic has completely changed our lives.
Media reports show millions of people are forced to stay at home,
with some working from home and others becoming unemployed [4].
However reactions to Covid-19 are not always certain. Public reports of Covid-19 responses (such as stay-at-home ) are not always
timely—the policy in some countries may be unclear, and its implementation may be uneven. Even when a government establishes a
policy, the population may embrace or reject that policy, so actual
participation of stay-at-home may diverge from stated policy [12].
These reasons open questions about the accuracy of reports about
stay-at-home.
The Internet has changed the ways in which we interact with
society, and Covid-19 has increased our Internet use [18]. As one
Permission to make digital or hard copies of part or all of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for third-party components of this work must be honored.
For all other uses, contact the owner/author(s).
arXiv, Feb. 2021, Marina del Rey, California, USA
© 2021 Copyright held by the owner/author(s).

John Heidemann

University of Southern California
johnh@isi.edu
example, early in the pandemic streaming media providers reduced
video quality to manage increased use [7]. Facebook reported a
sharp 20% increase in traffic in late March after widespread stay-athome [6]. Researchers saw a similar 15–20% increase in traffic at
IXPs in mid-March [13]. Changes depend on the perspective of the
observer: mobile (cellular) networks show a 25% drop in traffic and
a decrease in user mobility as people stay at home [19]. While how
the Internet changes varies, these changes hold the potential to
allow us to actually observe use and compliance with stay-at-home
orders, if they can be interpreted correctly.
In this paper we look at Internet address use as an indication
of stay-at-home. Many people use mobile devices (laptops, tables,
smartphones) on the Internet at the home and office, and these
devices acquire IP addresses when they are using the Internet. Often
these addresses are dynamically allocated using protocols such as
DHCP. In many networks today, these dynamic allocations use
private address space [25], in some cases these changes in use are
visible in the public IPv4 addresses space [9, 20, 21, 24, 29].
Our premise is that we can see these changes in public IPv4
address usage, and that it can be interpreted to indicate stay-athome behavior. We expect to see increased address use at home
networks and decreased use of office and school networks. We hope
that this information can provide information about stay-at-home
activity in places where policies are unknown and about compliance
with stay-at-home in places where compliance is uncertain.
We explore this question by developing new algorithms that can
extract change of address usage from ongoing IPv4 address scanning
for Internet outage detection [23]. This approach has the advantage
of broad, long-term, fine-grained coverage—measurements go to 4
to 5 million /24 IPv4 networks, have taken place consistently since
2014, and it provides new data about individual addresses every 11
minutes. However, re-analysis of existing data requires care, since
probing rates vary and and the probing mechanism was tuned for
other purposes.
The first contribution of our work is to define a new algorithm
that shows how network usage changes over time for /24 blocks.
We examine the active state of /24 blocks by counting the number
of active IPv4 addresses—those that reply to an ICMP echo request.
The number of active IPv4 addresses represent network usage each
IPv4 address block. Prior work has shown we can observe diurnal
patterns in some blocks [24]. We show that changes in diurnal
patterns can indicate network usage changes that correlate with
work-from-home. To study regional changes, we use seasonal timeseries decomposition followed by change-point detection to see
how all blocks geolocated to a region behave.
The second contribution is to apply our algorithm to study 150k
/24 blocks worldwide over the first six month of 2020. We verify that our algorithm detects Covid-related work-from-home by

arXiv, Feb. 2021, Marina del Rey, California, USA

Xiao Song and John Heidemann

20
0

METHODOLOGY

To detect changes in Internet use and infer work-from-home, we
begin with address scans, then filter and analyze the data with the
following steps:
(1)
(2)
(3)
(4)
(5)

2.1

Identify active addresses by accumulating partial scans
Identify change-sensitive blocks
De-trend address usage
Detect changes in usage
Verify results from multiple observers

Identifying Active Addresses

Tracking changes in active addresses requires regular, frequent,
complete scans of the IPv4 address space. It is certainly possible
to scan all of IPv4 quickly, but frequent complete scans will draw
abuse complaints and cause networks to filter our traffic. Rather
than new, active probing, we instead turn to re-analyze ongoing
probing—leveraging existing probing not only places no additional
burden on the Internet (and no additional operational cost on us),
but also allows us to re-examine years archived data.
We use Trinocular outage data as our existing data source [23].
Trinocular is an Internet outage detection system that scans addresses in millions of IPv4 blocks every 11 minutes and has collected
data 24x7 since November 2013. However, Trinocular is optimized
to minimize traffic on target networks—it cycles through all addresses in each network in a randomly chosen (but deterministic)
pattern, and probes only enough addresses to determine if the block
is reachable. Each round (11 minutes), it probes from 1 up to 15 or
16 addresses [5]. In principle we could use other sources of active
address scans, provided they are complete and frequently updated.
However, To our knowledge no other group currently makes available scans that are incremental and cover all blocks multiple times
per day.
Re-analysis of Trioncular begins by determining the state of all
addresses in the block by accumulating data over multiple Trinocular rounds. We assume addresses do not change state until they
are re-scanned. We accumulate addresses until we have observed
every active address in the block. At that point, we begin updating
our prior estimate as new observations arrive. Thus we generate
new estimates of the number of active addresses every 11 minutes,
but each estimate reflects data from multiple prior rounds.
The exact time needed to report on all addresses in a block varies
as function of how full the block is (we consider only addresses that
have been active in the last two years) and how many addresses

Begin diurnal changes
Covid-19 absent
work-from-home

40

MLK holiday

60

diurnal changes
over work-week

2

the number of active ip addreses
maximum count of ever active address

80

President's
day
holiday

evaluation of cities with lockdown events. For instance, the algorithm detects the network usage changes when Wuhan went on
lockdown on 2020-01-23. We obverse a large network changes in
Manila, Philippine on 202-03-16. The observation matches the truth
that Metro Manila went on lockdown on 2020-03-12. We also detects
the change in New Delhi in late March. It matches the real world
Covid-19 event that Prime Minister of India ordered a nationwide
lockdown on 2020-03-24.
Our source data is already available at no cost, and we plan to
make the data resulting from our work and our analysis software
available in early 2021.

1
0
8
7
5
3
2
2
0
9
1-0 -01-1 -01-1 -01-2 -02-0 -02-1 -02-2 -03-0 -03-1 -03-1
0
0
0
0
0
0
0
0
0
202
202
202
202
202
202
202
202
202

-0
020

2

Figure 1: The number of active addresses for 128.9.144.0/24
over 3 months. This change-sensitive block shows workfrom-home begin on 2021-03-15, after weeks of peaks during workdays.
respond (Trinocular stops scanning each round when it gets enough
responses). In §4.3 we examine how long this takes in practice.
The idea of our algorithm is to track the state of IP addresses
(either up, down, or unknown) of /24 blocks for every 11 minutes
round, keep updating the active states when the state of IP addresses
are changed at this round, and count the number of active addresses
of /24 blocks at specific time when all addresses in the ever-active
list have been probed.
Once we have obtained the active states of all addresses that are
in pre-generated ever-active IP addresses list, meaning no address is
marked as unknown, we then output the number of active addresses
of the /24 blocks. The corresponding timestamp is the round in
which all addresses in the ever-active list have a determined active
state. We regard all previous round as a full round.
In the following round, as long as one address changes its active
state (from up to down or from down to up), we will output a new
number of active addresses at that timestamp.

2.2

Identifying Change-sensitive Blocks

To detect work-from-home we must have blocks where address
changes reflect people’s daily schedules. We call such blocks change
sensitive, and identify them by two characteristics: first, they show
a regular, diurnal pattern; second, they need to show enough swing
(change) in the number of active addresses between day and night
that we can detect changes in use with confidence.
Figure 1 shows an example change-sensitive block. This graph
shows the number of active addresses in this block over three
months (the blue line). We usually see five clear bumps corresponding to the work week, followed by two days of flat behavior. This
block is at USC, so we confirm these changes correspond to laptops using DHCP-assigned IP addresses from discussions with the
network operators. In addition, these three months included two
3-day weekends both of which show up with 4 (not 5) workdays.

Measuring the Internet during Covid-19 to Evaluate Work-from-Home

arXiv, Feb. 2021, Marina del Rey, California, USA

mean behavior over the course of a full 24 hours, assuming we
“average in” any daily swing.
We track the underlying baseline by applying a standard seasonality model to the data that decomposes the signal into a baseline
convolved with a daily and possibly weekly signal. We considered
two models: the “naive” seasonality model [26] and the SeasonalTrend decomposition using LOESS (STL) [10, 26]. Although both
are similar, we adopted the STL for our work after comparing the
two and finding it slightly more robust.
Figure 3 shows the decomposition from our sample block (top
graph) from Figure 1 into trend, seasonal, and residual components
(lower three graphs). We use the trend (second from top) to detect
changes that occur independent of the diurnal swing (seasonal) and
noise (residual).

1.0

cumulative distribution

0.8
0.6
0.4 daily swing >= 5
0.2
0.0

0

50

100
150
maximum daily swing

200

250

Figure 2: Cumulative distribution of maximum daily swing
of all diurnal blocks in 2020q1.
Our approach must look for blocks that reveal people’s daily
work schedules. To identify these blocks, we examine all pingresponsive blocks and look for blocks that show diurnal changes
that are large enough to reliable detect. We find more than 200k
blocks meet these two requirements as we describe in §5.1.
Diurnal blocks: We identify diurnal blocks by taking the FFT of
the active-address time series and looking for energy in frequencies
corresponding to 24 hours (or harmonics of that frequency). This
approach follows that developed in prior work [24], which showed
that IP addresses often reflect diurnal behavior, particularly in Asia,
South America, and Eastern Europe.
Persistent daily swing: We look for blocks that have a “significant” daily swing in addresses so we are not making decisions of
just one or two addresses. We define the daily swing as the difference between minimum and maximum number of active addresses
over the midnight-to-midnight UTC 24-hour window .
We define significant swing as a change of 5 or more addresses,
based on evaluation of the data. (Too large a threshold will reduce
the number of accepted blocks, but too small makes the algorithm
vulnerable to noise.)
Figure 2 shows that there are around 90% diurnal blocks whose
maximum daily swing are greater than 5.
Although we require a daily swing, many blocks (like Figure 1)
show use primarily during the work week and not on weekends
and holidays. We therefore require blocks to have a significant daily
swing for at least 4 of 7 consecutive days. We consider it as one
seasonal week. We filter blocks that have daily swing greater than
5 and at least one seasonal week.

2.3

2.4

Detecting changes in usage

Finally, using STL trend as an estimate of the baseline, we can look
for changes in that baseline.
We apply a standard change-point detection algorithm, CUSUM [11,
14]. CUSUM looks for changes in the baseline flags when the upward or downward trend begins, and identifies the specific point in
time with largest change.
Figure 4 shows an example with the raw data in the top graph,
the STL trend second. The bottom graph shows cumulative increase
and decrease (purple and yellow colors), and we highlight start and
end of changes on the trend line.
This graph shows the change point detected by our algorithm
for 128.9.144.0/24. This is a change-sensitive block, with diurnal
behavior and a consistent address swing. We can observe the diurnal
swing goes away around 2020-03-15 from both Figure 1 and the
upper bar chart. The upper bar chart shows the time series of the
number of active IP addresses of 128.9.144.0/24 over three months.
The middle bar chart shows the trend of the time series. The red
dot represents the time when a change point is claimed by the
algorithm. The bottom bar chart is the cumulative sums of the
normalized trend over time. The change point detected around
2020-03-15 reflects the ground truth that work-from-home begins
at ISI/USC.
We assume there are more work blocks that are change-sensitive
than home blocks, so we consider a downward change to indicate
increased work-from-home, and an upward change to signal a
return-to-work.
In practice, if a downward change closely followed by a upward
change, it is very likely to be an outage.
This assumption is true if home networks are likely to either use
a single, always-on IP address, as is the case in the U.S. and western
Europe, or that home networks are not using public IP addresses,
as is the case in some countries like Iran.

De-trending address usage

We look for diurnal blocks with swings to find blocks that reflect
the network usage at work, but daily fluctuations make it difficult
to detect changes in use. We expect work-from-home will either
remove the diurnal swing, as occurs in Figure 1 after 2020-03-15,
or the overall use (and possibly also the size of the swing) will fall
as fewer people come into work. Either way, we need to track the

2.5

Using multiple observers

The analysis above assumes a single Trinocular observer, but there
are multiple observers, each running with the same list of destinations, but independently. We can strengthen our results by
combining data from multiple observers, either to validate what
one sees, or to provide data more rapidly.

observed

arXiv, Feb. 2021, Marina del Rey, California, USA

Xiao Song and John Heidemann

15
10

12
10

residuals

seasonal

trend

14

4
2
0

2.5
0.0
2.5
2020-01-01

2020-01-10

2020-01-18

2020-01-27

2020-02-05

2020-02-13

2020-02-22

2020-03-02

2020-03-10

2020-03-19

Raw data

Figure 3: Active addresses over time, the input data (top) and its STL decomposition into trend, seasonal, and residual components (lower three bars). We detect changes in the trend. Data: 128.9.144.0/24 for 2020q1.

15
10

Normalized trend

2020-01-01

2020-01-18

2020-01-27

2020-02-05

2020-02-13

2020-02-22

2020-03-02

2020-03-10

Time series and detected changes (threshold= 1, drift= 0.001): N changes = 1

2020-03-19
Start
Ending
Alarm

1
0
1
2

2020-01-01
cumulative sums

2020-01-10

1.00
0.75
0.50
0.25
0.00

2020-01-10

2020-01-18

2020-01-27

2020-02-05

2020-02-13

2020-02-22

2020-03-02

Time series of the cumulative sums of positive and negative changes

2020-03-10

2020-03-19

+
0

2000

4000

6000

8000

10000

Figure 4: Active addresses (top) with STL trend (middle) and CUSUM detection sums (bottom) for 128.9.144.0/24 in 2020q1. Our
algorithm detects a change between 2020-03-08 and -18, triggering on 2020-03-14.
One can treat separate observers as equivalent but independent,
validating the results against each other. We know that different
vantage points sometimes see different replies [15, 28]. We therefore
repeat analysis on observations from three different sites (currently
Los Angeles, USA; Tokyo, Japan; and Utrecht, the Netherlands), to
confirm our results hold and avoid any vantage-point-specific bias.
Alternatively, we can combine muliple results into a single, more
timely observation. Because Trinocular probes until it gets a positive response, blocks with many positive responses are probed
more slowly, requiring nearly two days in the theoretical worst
case. Ideally we need to scan a block multiple times per day to detect diurnal behavior. Since observers are independent, combining

multiple observers can reduce time to scan the full block. In §4.3,
we prove that leveraging data from multiple observers can reduce
the full block scanning time by 50%.

3

DATASETS

This paper uses the datasets listed in Table 1. All input data is
available at no cost to other researchers, and we plan to make the
results of our available as well.

Measuring the Internet during Covid-19 to Evaluate Work-from-Home

arXiv, Feb. 2021, Marina del Rey, California, USA

abbr.
dataset name
start
duration
2020q1-w internet_outage_adaptive_a39w-20200101 2020-01-01 3 months
2020q2-w internet_outage_adaptive_a40w-20200401 2020-04-01 3 months
2020q1-j
internet_outage_adaptive_a39j-20200101
2020-01-01 3 months
2020q2-j
internet_outage_adaptive_a40j-20200401
2020-04-01 3 months
2020q1-n internet_outage_adaptive_a39n-20200101 2020-01-01 3 months
2020q2-n internet_outage_adaptive_a40n-20200401 2020-04-01 3 months
Table 1: Datasets used in this paper. w: ISI-West in Los Angeles; j: Japan data from Keio University (SJF campus) near Tokyo;
n: Netherlands data from SurfNet.

4

VALIDATION AND GROUND TRUTH
250

the number of active ip addreses
maximum count of ever active address

200

diurnal changes
absent

We first start with ground truth. We examine several blocks from the
University of Southern California where we can confirm changes
with the network operators.
We are looking for data that shows USC’s switch to work-fromhome. USC switched to online classes from 2020-03-11, on a trial
basis for one week. Spring recess stared on 2020-03-15, with many
students leaving campus. USC resumed classes with distance learning and work-from-home following spring recess.

150
100
50
0

1
0
9
7
5
3
2
2
0
9
1-0 -01-1 -01-1 -01-2 -02-0 -02-1 -02-2 -03-0 -03-1 -03-1
0
0
0
0
0
0
0
0
0
202
202
202
202
202
202
202
202
202

-0
020

2

4.1

Dynamic Address Use in a Research Lab

We first examine the block 128.9.144.0/24, an address block allocated
to USC/ISI, a research lab with a mix of full-time researchers and
staff and students, using dataset 2020q1-w.
Based on the discussion with network operators, addresses in
128.9.144.0/24 are statically assigned to individual computers. Some
addresses are allocated to laptops that people bring in to work,
but each of these laptops is assigned a unique IP addresses with
DHCP. Other addresses in the block are for office computers that
are always on. Figure 1 shows the number of active addresses in
this block over 2020q1.
We see between 8 and 18 addresses are active, with a baseline
of 10 active addresses and workday “bumps” of 7 or 8 addresses.
These bumps do not appear on weekends or holidays (2020-01-19
and 2020-02-15 are U.S. national holidays). These results confirm
our ability to see work-from-office our address space data.
We see that the diurnal bumps go away starting 2020-03-15 with
the start of work-from-home—the laptops are now using addresses
in home networks, not ones in this address block. In addition, we
see the baseline drops from 10 to 7, suggesting some always-on
computers were shut down.
Our change-point detection in Figure 4 shows three changes
in usage: an increase at the beginning of January as researchers
return to work after winter break, a slight dip around 2020-02-13
when several always-on computers are turned off and there is a
3-day weekend. Finally, there is a large change around 2020-03-15
corresponding to start of work-from-home.
This block illustrates the diurnal pattern with significant daily
swing that we look for, and shows how change-detection identifies
the start of work-from-home.

Figure 5: The number of active addresses of 128.125.52.0/24
over 2020q1. Thus USC block was the pre-covid VPN, with
usage changing on 2020-03-15 with work-from-home.

4.2

A Pre-Covid VPN

We next consider 128.125.52.0/24, a block that is part of USC’s VPN.
We initially determined it was VPN based on reverse DNS addresses,
and then later confirmed this use with USC network operators.
Figure 5 shows the number of active addresses over time. We see
that after 10 weeks of steady use, address use drops of significantly,
just as work-from-home begins. This outcome seems backwards
from what one would expect—VPN use should go up with workfrom-home. USC network operators indicated that they shifted
the campus VPN to a newer, larger address space because of an
anticipated increase in use. Thus use of this address space went
down because use shifted to another block.
Figure 6 confirms that this change in use is detected by our
change-point detection. We observe the number of active IP addresses has a significant drop around 2020-03-15 based on Figure 5
and the upper bar chart of Figure 6. The change point detected
around 2020-03-15 reflects the ground truth that work-from-home
begins at USC.
Our detection algorithms find it, although they cannot (by themselves) show that these users moved to a different address block.

4.3

Data Update Frequency

Finally, we examine how quickly we get complete scans of each /24
block. Prior work has suggested sparsely occupied blocks are fully

arXiv, Feb. 2021, Marina del Rey, California, USA

Xiao Song and John Heidemann

140

Raw data

120
100
80
60
40
20
0

Normalized trend

2020-01-01

2020-01-10

2020-01-19

1.0
0.5
0.0
0.5
1.0
1.5
2.0
2.5

2020-01-27

2020-02-05

2020-02-13

2020-02-22

2020-03-02

Time series and detected changes (threshold= 1, drift= 0.001): N changes = 1

2020-03-10

2020-03-19
Start
Ending
Alarm

2020-01-01

2020-01-10

2020-01-19

2020-01-27

2020-02-05

2020-02-13

2020-02-22

Time series of the cumulative sums of positive and negative changes

2020-03-02

2020-03-10

2020-03-19

cumulative sums

1.0
0.8
0.6
0.4
0.2
0.0

+
0

2000

4000

6000

8000

10000

Figure 6: Active addresses (top), with STL trend (middle), and CUSUM cumulative sums (bottom) for 128.125.52.0/24, showing
automatic detection of the VPN changes on 2020-03-14.
1.0

a39w-a39j-a39n
a39w

fraction of /24 blocks

0.8

12 hours by using data collected from three Trinocular observers.
The result indicate that combining data from multiple Trinocular
observer can significantly reduce the full block scanning time.

0.6

5 RESULTS
5.1 How Many Change-Sensitive Blocks?

0.4
12 Hours

0.2
0.0

0

20000 40000 60000 80000 100000 120000 140000 160000
seconds

Figure 7: Cumulative distribution of time to complete a full
scan of all known active addreesses in blocks, for a single
VP (the bottom line, VP w) and three VPs (top line, VPs w, j,
and n).
scanned in about two hours in the worst case [5], but that analysis
covered only the subset of all blocks that were intermittently responsive. Here we care about change-sensitive blocks, a different
subset, prompting a new analysis.
Prior work placed bounds on the time. Full-block scanning (FBS)
is a recent addition to Trinocular to address false outages in sparse
blocks [5]. FBS requires evaluation of all active addresses in a block.
FBS analysis suggesting 17 rounds (3.1 hours) as an upper bound
for scanning sparse blocks. This estimate assumes 15 probes per
round and 256 addresses to cover in the block. In fact, a block where
all 256 addresses always respond will require 256 rounds (1.8 days).
However, these worst cases are rare, and blocks where they occur
are not change-sensitive, so our empirical time of 1 day is a much
better estimate of latency.
Figure 7 shows that there are around 90% change-sensitive blocks
take less than 1 day to scan the full block by using data collected
from single Trinocular observers. However, the upper plot shows
that there are around 73% change-sensitive blocks take less than

Our algorithms only work on change-sensitive blocks, not all blocks.
We therefore first examine how many blocks are change-sensitive
and suitable for analysis.
Table 2 shows data for the first half of 2020, with separate analysis
of each quarter. Of the 5.1M responsive blocks, only about 223k are
change-sensitive in each quarter, and only 150k blocks are change
sensitive in both quarters—only about 60% of blocks are consistently
change-sensitive.
The significant increase of responsive blocks in 2020q1 is due to
the expansion of address coverage. Starting from 2020q1, Trinocular
expand the coverage by pinging blocks with few live addresses. [5]
This difference may be in part to changes due to Covid-19.

5.2

Where are Change-Sensitive Blocks?

Prior analysis has shown that the number of diurnal blocks in each
country vary because different countries have different amounts of
IPv4 address space and different telecommunications policies.
Figure 8 shows a map of where our coverage is best—we geolocate all change-sensitive blocks (with Maxmind GeoCities Light)
and count blocks in each 2x2 degree latitude/longitude grid.
We see that coverage is best in East Asia (China, Korea, and
Japan), with some coverage in Brazil and North Africa, and sparse
coverage in the United States, Europe, and India. Coverage reflects
the intersection of where IPv4 addresses are allocated and where
those who use public IP addresses stop using them at night. Relative
sparse results from the U.S. and Europe reflect a large number of
IPv4 address, but mostly using always-on-devices. We believe the
heavier coverage in East Asia reflects local ISP policies.

Measuring the Internet during Covid-19 to Evaluate Work-from-Home

arXiv, Feb. 2021, Marina del Rey, California, USA

period:
2019q4
2020q1
2020q2
2020h1
allocated blocks
14,483,456 14,483,456 14,483,456 14,483,456
not routed
3,388,236
3,361,864
3,333,669
3,333,669
routed blocks
11,095,220 11,121,592 11,149,787 11,149,787
not responsive
7,049,754
5,922,911
5,925,238
6,024,576
responsive
4,045,466
5,198,681
5,224,549
5,125,211
not diurnal
3,631,272
4,799,382
4,849,579
4,850,967
diurnal
414,194
399,299
374,970
247,244
narrow swing
3,301,950
4,503,506
4,550,938
4,631,481
wide swing
743,516
695,175
673,611
493,730
not diurnal
3,758,005
4,946,555
4,990,036
4,974,523
or narrow swing
change sensitive
287,461
252,126
234,513
150,688
Table 2: Blocks before and after filtering (in /24s). Change-sensitive is interpreted as /24 blocks that are diurnal and with wide swing in both 2020q1 and 2020q2 (2020h1). Dataset: internet_outage_adaptive_a39w-20200101 and
internet_outage_adaptive_a40w-20200401 (Trinocular data from 2020q1 and q2, VP w; Allocated addresses from IPv4 Address
Space Registry [16]; Routing data from Routeviews [1–3].

2020-01-26
0.3
0.27
0.24
0.21
0.18
0.15
0.12
0.09
0.06
0.03
0.0
land (no networks)
ocean (no networks)
https://ant.isi.edu/diurnal/
internet_outage_adaptive_a39w-20200101
Copyright (C) 2021 by University of Southern California

Figure 8: Change-sensitive blocks by geolocation. Circles
show the number of blocks in each 2x2 degree geographic
grid. Dataset: 2020h1.

5.3

Some real world events

Finally, we look at real-world events in three different countries.
We start by looking at China in January, since that was the
country first affected by Covid-19. We then look at India and Philippines later in the quarter, looking at dates we discovered from our
algorithms.
For each case, we show our world-map with a 2x2 degree geographic grid and the number of changed blocks as a heat-map.
The color indicates the proportion of detected change points in the
2x2 degree geographic grid on this day, from dark blue to white
to red. We also show the line chart of the number of changes over
time for a given region.
5.3.1 2020-01-26, China. Figure 9 shows our 2x2 degree grid of
changes on 2020-01-26. The large number of white and light red
cells shows that there is a large network change around this day.
Figure 10 counts up the number of downward detections we
observe across all blocks for each day over six months. It shows
that there is a peak around 2020-01-26, indicating the network

Figure 9: The heatmap of fraction of change-sensitive blocks
that decrease on 2020-01-26, grouped by 2x2 degree cells.
Many white cells in Wuhan, China correlate with the
Wuhan lockdown.
usage drops significantly on that date—about 5% of change-sensitive
blocks show reduced usage.
According to media reports, Wuhan went on lockdown on 202001-23 [22], confirming our peak of down-events occurs at the same
time as a Covid-19 event.
5.3.2 2020-02-28, India. Figure 11 and Figure 12 show there was a
large network change in India on 2020-02-28. The 2x2 degree grid
cell that is “hot” in this graph is in the state of Uttar Pradesh. The
line chart indicates that there are about 24% of change-sensitive
blocks show reduced usage.
According to news, on 2020-02-23, Violence broke out between
police and anti-citizenship law protesters in the area of Uttar Pradesh’s
Aligarh. Following the clashes, the mobile internet was suspended
for a six-hour period [8]. This event is not Covid-19-related, but it
is a change in Internet usage for a different type of social change.
5.3.3 2020-03-16, Philippines. Figure 13 shows our 2x2 degree grid
of changes on 2020-03-16. The light red cell in Manila, Philippine

0.20
0.15
0.10
0.05
0.00

20

date

Figure 10: The fraction of blocks that decrease (light red) or
increase (dark blue) usage in Wuhan, China for 2020q1 and
q2.

2020-02-28

fraction blocks showing down (red) or up (blue)

0.25

0.15
0.10
0.05
0.00

date

0.3
0.27
0.24
0.21
0.18
0.15
0.12
0.09
0.06
0.03
0.0
land (no networks)
ocean (no networks)
https://ant.isi.edu/diurnal/
internet_outage_adaptive_a39w-20200101
Copyright (C) 2021 by University of Southern California

https://ant.isi.edu/diurnal/
internet_outage_adaptive_a39w-20200101
Copyright (C) 2021 by University of Southern California

5.3.4 2020-03-23, India. Figure 16 shows a peak of downward detections on 2020-03-23 in New Delhi, with usage falling in about
12% of change-sensitive blocks in that period. Figure 15 illustrates
the change of behaviors in India.
Based on media reports, Prime Minister of India ordered the
Janata curfew on 2020-03-22 [17]. This event shows our method
detecting a change corresponding to a Covid-19-related lockdown.

0.20

2020-03-16

land (no networks)
ocean (no networks)

shows that there is a large network change around this day. Figure 14 shows the large fraction of downward detections on 202003-16 as well. It indicates the network usage drops significantly
—about 24% of change-sensitive blocks show reduced usage on that
date.
This date is shortly after lockdown in Metro Manila on 2020-0312 [27].

up trend
down trend

0.25

Figure 12: The fraction of blocks that decrease (light red) or
increase (dark blue) usage in Uttar Pradesh, India for 2020q1
and q2.

0.3
0.27
0.24
0.21
0.18
0.15
0.12
0.09
0.06
0.03
0.0

Figure 11: The heatmap of fraction of change-sensitive
blocks that decrease on 2020-02-28, grouped by 2x2 degree
cells. We see white grid cells across much of India, but particularly in Uttar Pradesh in northern India on 2020-02-28.
We believe these are related to Internet shutdowns following protests against the Citizenship Amendment Act.

0.30

20
-0
20 1-01
20
-0
20 1-16
20
-0
20 1-31
20
-0
20 2-15
20
-0
20 3-01
20
-0
20 3-16
20
-0
20 3-31
20
-0
20 4-15
20
-0
20 4-30
20
-0
20 5-15
20
-0
20 5-30
20
-0
20 6-14
20
-06
-29

up trend
down trend

20

0.30

Xiao Song and John Heidemann

20
-0
20 1-01
20
-0
20 1-16
20
-0
20 1-31
20
-0
20 2-15
20
-0
20 3-01
20
-0
20 3-16
20
-0
20 3-31
20
-0
20 4-15
20
-0
20 4-30
20
-0
20 5-15
20
-0
20 5-30
20
-0
20 6-14
20
-06
-29

fraction blocks showing down (red) or up (blue)

arXiv, Feb. 2021, Marina del Rey, California, USA

Figure 13: The heatmap of fraction of change-sensitive
blocks that decrease on 2020-03-16, grouped by 2x2 degree
cells. Many white cells in Manila, Philippines correlate with
the Manila lockdown.

6

CONCLUSION

This report presents two contributions. First, we develop a new
algorithm that shows how network usage changes over time for /24
blocks. We demonstrate the approach works on sample blocks with
known events. Second, we analyze IPv4 address usage changes to
detect decreases in usage that often correlate with Covid-19-induced
work-from-home. We apply it to 150k /24 blocks for 6 months of
2020, identifying several changes in usage that correspond to Covid19 lockdown events. Although our work is still early—we are in the
process of more careful validation—we believe our approach shows
the potential to relate IPv4 address use with societal changes.

ACKNOWLEDGMENTS
This work is partially supported by the project “Measuring the
Internet during Novel Coronavirus to Evaluate Quarantine (RAPIDMINCEQ) ” (NSF 2028279), and John Heidemann’s work is partially

0.20
0.15
0.10
0.05
0.00

20

date

Figure 14: The fraction of blocks that decrease (light red) or
increase (dark blue) usage in Minila, Philippines 2020q1 and
q2.

2020-03-23
0.3
0.27
0.24
0.21
0.18
0.15
0.12
0.09
0.06
0.03
0.0
land (no networks)
ocean (no networks)
https://ant.isi.edu/diurnal/
internet_outage_adaptive_a39w-20200101
Copyright (C) 2021 by University of Southern California

Figure 15: The heatmap of fraction of change-sensitive
blocks that decrease on 2020-03-23, grouped by 2x2 degree
cells. Many white and light red cells in New Delhi, India correlate with the Janata curfew.
supported by the project “CNS Core: Small: Event Identification and
Evaluation of Internet Outages (EIEIO)” (CNS-2007106). We thank
Guillermo Baltra for prototyping analysis of Trinocular addresses
across a block, his involvment in early versions of this work, and
his comments on the work. We thank Yuri Pradkin for collecting
the Trinocular data that we use in our analysis.

REFERENCES
[1] APNIC. 2020. Routing Table Report - Japan view. https://mailman.apnic.net/
mailing-lists/bgp-stats/archive/2019/10/msg00001.html
[2] APNIC. 2020. Routing Table Report - Japan view. https://mailman.apnic.net/
mailing-lists/bgp-stats/archive/2020/01/msg00001.html
[3] APNIC. 2020. Routing Table Report - Japan view. https://mailman.apnic.net/
mailing-lists/bgp-stats/archive/2020/04/msg00001.html
[4] ChaeWon Baek, Peter B McCrory, Todd Messer, and Preston Mui. 2020. Unemployment effects of stay-at-home orders: Evidence from high frequency claims
data. Review of Economics and Statistics (2020), 1–72.
[5] Guillermo Baltra and John Heidemann. 2020. Improving Coverage of Internet
Outage Detection in Sparse Blocks. In Proceedings of the Passive and Active
Measurement Conference (johnh: pafile). Springer, Eugene, Oregon, USA. https:

fraction blocks showing down (red) or up (blue)

0.25

0.30

up trend
down trend

0.25
0.20
0.15
0.10
0.05
0.00

20
-0
20 1-01
20
-0
20 1-16
20
-0
20 1-31
20
-0
20 2-15
20
-0
20 3-01
20
-0
20 3-16
20
-0
20 3-31
20
-0
20 4-15
20
-0
20 4-30
20
-0
20 5-15
20
-0
20 5-30
20
-0
20 6-14
20
-06
-29

up trend
down trend

arXiv, Feb. 2021, Marina del Rey, California, USA

20

0.30

20
-0
20 1-01
20
-0
20 1-16
20
-0
20 1-31
20
-0
20 2-15
20
-0
20 3-01
20
-0
20 3-16
20
-0
20 3-31
20
-0
20 4-15
20
-0
20 4-30
20
-0
20 5-15
20
-0
20 5-30
20
-0
20 6-14
20
-06
-29

fraction blocks showing down (red) or up (blue)

Measuring the Internet during Covid-19 to Evaluate Work-from-Home

date

Figure 16: The line chart of detected network usage changes
over time in New Delhi, India.
//www.isi.edu/%7ejohnh/PAPERS/Baltra20a.html
[6] Timm Boettger, Ghida Ibrahim, and Ben Vallis. 2020. How the Internet reacted
to Covid-19: A perspective from Facebook’s Edge Network. In Proceedings of the
ACM Internet Measurement Conference. 34–41.
[7] Jon Brodkin. 2020. Netflix, YouTube cut video quality in Europe after
pressure from EU official.
Ars Technica https://arstechnica.com/techpolicy/2020/03/netflix-and-youtube-cut-streaming-quality-in-europe-tohandle-pandemic/. https://arstechnica.com/tech-policy/2020/03/netflix-andyoutube-cut-streaming-quality-in-europe-to-handle-pandemic/
[8] Zee Media Bureau. 2020. Anti-CAA protest: Internet services suspended in
Aligarh after protesters-police clash. https://zeenews.india.com/india/anti-caaprotest-internet-services-suspended-in-aligarh-after-protesters-police-clash2265646.html
[9] Xue Cai and John Heidemann. 2010. Understanding Block-level Address Usage
in the Visible Internet. In Proceedings of the ACM SIGCOMM Conference (johnh:
pafile). ACM, New Delhi, India, 99–110. https://doi.org/10.1145/1851182.1851196
[10] Robert B Cleveland, William S Cleveland, Jean E McRae, and Irma Terpenning.
1990. STL: A seasonal-trend decomposition. Journal of official statistics 6, 1 (1990),
3–73.
[11] M. Duarte. 2020. detecta: A Python module to detect events in data. https:
//github.com/demotu/detecta.
A Few Thousand Protest Stay[12] Reid J. Epstein and Kay Nolan. 2020.
at-Home Order at Wisconsin State Capitol.
New York Times (Apr. 24
2020). https://www.nytimes.com/2020/04/24/us/politics/coronavirus-protestsmadison-wisconsin.html?searchResultPosition=8
[13] Anja Feldmann, Oliver Gasser, Franziska Lichtblau, Enric Pujol, Ingmar Poese,
Christoph Dietzel, and Daniel Wagner. 2020. The Lockdown Effect: Implications
of the COVID-19 Pandemic on Internet Traffic. In Proceedings of the ACM Internet
Measurement Conference (johnh: pafile). ACM, Pittsburgh, PA, USA, 1–18. https:
//doi.org/10.1145/3419394.3423658
[14] Fredrik Gustafsson and Fredrik Gustafsson. 2000. Adaptive filtering and change
detection. Vol. 1. Citeseer.
[15] John Heidemann, Yuri Pradkin, Ramesh Govindan, Christos Papadopoulos,
Genevieve Bartlett, and Joseph Bannister. 2008. Census and Survey of the Visible
Internet. In Proceedings of the ACM Internet Measurement Conference (johnh:
pafile). ACM, Vouliagmeni, Greece, 169–182. http://www.isi.edu/%7ejohnh/
PAPERS/Heidemann08c.html
[16] IANA. 2021. IPv4 Address Space Registry. https://www.iana.org/assignments/
ipv4-address-space/ipv4-address-space.xhtml
[17] UN India. 2020. COVID-19: Lockdown across India, in line with WHO guidance.
https://news.un.org/en/story/2020/03/1060132
[18] Cecilia Kang, Davey Alba, and Adam Satariano. 2020. Surging Traffic Is Slowing
Down Our Internet. New York Times (Mar. 26 2020). https://www.nytimes.com/
2020/03/26/business/coronavirus-internet-traffic-speed.html
[19] Andra Lutu, Diego Perino, Marcelo Bagnulo, Enrique Frias-Martinez, and Javad
Khangosstar. 2020. A Characterization of the COVID-19 Pandemic Impact on a
Mobile Network Operator Traffic. In Proceedings of the ACM Internet Measurement
Conference (johnh: pafile). ACM, Pittsburgh, PA, USA, 19–33. https://doi.org/10.
1145/3419394.3423655

arXiv, Feb. 2021, Marina del Rey, California, USA

[20] Giovane C. M. Moura, Carlos Ga nán an Qasim Lone, Payam Poursaied, Hadi
Asghari, and Michel van Eeten. 2015. How Dynamic is the ISPs Address Space?
Towards Internet-Wide DHCP Churn Estimation. In Proceedings of the IFIP Networking (johnh: pafile). IFIP, xxx. https://doi.org/10.1109/IFIPNetworking.2015.
7145335
[21] Ramakrishna Padmanabhan, Amogh Dhamdhere, Emile Aben, kc claffy, and Neil
Spring. 2016. Reasons Dynamic Addresses Change. In Proceedings of the ACM
Internet Measurement Conference (johnh: pafile). ACM, Santa Monica, CA, USA,
183–198. https://doi.org/10.1145/2987443.2987461
[22] The Associated Press. 2020. Timeline: China’s COVID-19 outbreak and lockdown
of Wuhan. https://abcnews.go.com/Health/wireStory/timeline-chinas-covid19-outbreak-lockdown-wuhan-75421357
[23] Lin Quan, John Heidemann, and Yuri Pradkin. 2013. Trinocular: Understanding Internet Reliability Through Adaptive Probing. In Proceedings of the ACM
SIGCOMM Conference (johnh: pafile). ACM, Hong Kong, China, 255–266. https:
//doi.org/10.1145/2486001.2486017
[24] Lin Quan, John Heidemann, and Yuri Pradkin. 2014. When the Internet Sleeps:
Correlating Diurnal Networks With External Factors. In Proceedings of the ACM
Internet Measurement Conference (johnh: pafile). ACM, Vancouver, BC, Canada,

Xiao Song and John Heidemann

87–100. https://doi.org/10.1145/2663716.2663721
[25] Y. Rekhter, B. Moskowitz, D. Karrenberg, G. J. de Groot, and E. Lear. 1996. Address
Allocation for Private Internets. RFC 1918. Internet Request For Comments. ftp:
//ftp.rfc-editor.org/in-notes/rfc1918.txt
[26] Skipper Seabold and Josef Perktold. 2010. Statsmodels: Econometric and statistical
modeling with python. In Proceedings of the 9th Python in Science Conference,
Vol. 57. Austin, TX, 61.
[27] Rambo Talabong. 2020. Metro Manila to be placed on lockdown due to coronavirus outbreak. https://www.rappler.com/nation/metro-manila-placed-onlockdown-coronavirus-outbreak
[28] Gerry Wan, Liz Izhikevich, David Adrian, Katsunari Yoshioka, Ralph Holz, Christian Rossow, and Zakir Durumeric. 2020. On the Origin of Scanning: The Impact of Location on Internet-Wide Scans. In Proceedings of the ACM Internet
Measurement Conference (johnh: pafile). ACM, Pittsburgh, PA, USA, 662–679.
https://doi.org/10.1145/3419394.3424214
[29] Yinglian Xie, Fang Yu, Kannan Achan, Eliot Gillum, Moises Goldszmidt, and
Ted Wobber. 2007. How Dynamic are IP Addresses?. In Proceedings of the ACM
SIGCOMM Conference (johnh: pafile). ACM, Kyoto, Japan, 301–312. https://doi.
org/10.1145/1282380.1282415

