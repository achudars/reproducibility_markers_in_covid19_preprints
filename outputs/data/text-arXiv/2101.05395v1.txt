Resiliency of On-Demand Multimodal Transit Systems
During a Pandemic

arXiv:2101.05395v1 [math.OC] 13 Jan 2021

Ramon Auad, Kevin Dalmeijer, Connor Riley, Tejas Santanam, Anthony Trasatti, Pascal
Van Hentenryck, and Hanyu Zhang
H. Milton Stewart School of Industrial and Systems Engineering,
Georgia Institute of Technology
January 15, 2021
Abstract
During the COVID-19 pandemic, the collapse of the public transit ridership led to significant budget deficits due
to dramatic decreases in fare revenues. Additionally, public transit agencies are facing challenges of reduced vehicle
capacity due to social distancing requirements, additional costs of cleaning and protective equipment, and increased
downtime for vehicle cleaning. Due to these constraints on resources and budgets, many transit agencies have adopted
essential service plans with reduced service hours, number of routes, or frequencies.
This paper studies the resiliency during a pandemic of On-Demand Multimodal Transit Systems (ODMTS),
a new generation of transit systems that combine a network of high-frequency trains and buses with on-demand
shuttles to serve the first and last miles and act as feeders to the fixed network. It presents a case study for the
city of Atlanta and evaluates ODMTS for multiple scenarios of depressed demand and social distancing representing
various stages of the pandemic. The case study relies on a real data from the Metropolitan Atlanta Rapid Transit
Authority (MARTA), an optimization pipeline for the design of ODMTS, and a detailed simulation of these designs.
The case study demonstrates how ODMTS provide a resilient solution in terms of cost, convenience, and accessibility
for this wide range of scenarios.
Keywords: COVID-19, Public Transit, On-Demand Shuttles, Multimodal Transit Systems.

1

Introduction

effective cleaning) and faces an $8B deficit (Nessen,
2020). In Boston, the MBTA has tried to preserve
as much of the weekday trips as possible for essential
workers, but is now looking at dramatic budget cuts
due to a deficit of close to $600M. (Goldbaum and
Wright, 2020). At the time of writing, the MBTA
is considering cutting their ferry routes and weekend
commuter rail services. In Atlanta, the Metropolitan Atlanta Rapid Transit Authority (MARTA) faced
similar challenges. In April, MARTA reduced the frequency of the rail network from every 12 minutes to
every 20 minutes and its essential service plan reduced the number of bus lines from 110 to 41 (Wickert, 2020b). Even as transit planners and operators
try to mitigate the effects of these service cuts, many
essential workers and community members are still
impacted in terms of accessibility and convenience.
In Atlanta, many individuals rely on public transit
for access to jobs, groceries, education, and healthcare, and are now forced to find alternative forms of
transit (Wickert, 2020a). Ridesharing services such

At the start of the COVID-19 pandemic, public transit ridership collapsed across the nation as many individuals stayed at home. Public transit agencies saw
their budget deficits build as ridership dropped as
much as 85% in some cities, leading to a dramatic
drop in fare revenue for 2020 compared to 2019 (Goldbaum and Wright, 2020). In addition, public transit agencies are facing the challenging task of providing safe and accessible travel, especially for essential
workers, with reduced vehicle capacities, additional
costs for protective equipment or supplies, and increased downtime for cleaning.
With constrained vehicle capacity and large budget deficits, many transit agencies have adopted essential service plans that include cutting routes, service hours, or frequencies in order to provide safer
service on other routes with their limited resources.
New York City’s MTA no longer runs 24 hours a day
(it closes from 1-5am to provide downtime for more
1

des�na�on

as Uber and Lyft are often prohibitively expensive,
which makes it crucial that transit services return to
normal as soon as possible.
While service cuts during a pandemic are hard
to avoid for traditional public transit systems, OnDemand Multimodal Transit Systems (ODMTS)
(Mahéo et al., 2019) may be inherently more resilient
to changes in demand. ODMTS consists of a network of high-frequency trains and/or buses combined
with on-demand shuttles to serve the first and the
last miles. The system can respond to a decrease in
ridership by scaling down the number of on-demand
shuttles and/or high-frequency buses, without compromising access to the system. By design, trains and
buses are only used to serve busy corridors, which
would still see traffic during a pandemic. Figure 1
illustrates the design of an ODMTS and how it operates. This ODMTS features fixed rail and rapid bus
transit routes, as well as on-demand shuttles. While
the trains and buses operate on a fixed schedule, the
shuttles are routed dynamically in real time. The example path through the ODMTS involves a shuttle
leg to pick up the rider, a rail leg, a bus leg, and
a final shuttle leg to bring the rider to her destination. All these legs are synchronized: for instance,
the shuttle serving the last leg is waiting at the bus
stop to bring the rider to her final destination. This
video describes this process in more detail.

origin

Figure 1: An ODMTS and an Example Passenger
Path (solid lines).
on a detailed simulation that uses real transit data
provided by MARTA.
The case study results suggest that ODMTS have
significant resilience during pandemic response. By
scaling down the number of shuttles appropriately,
the ODMTS provides the same level of service at a
reduced cost that compensates for revenue losses. Redesigning the bus and rail schedules over the course
of the pandemic to fit the demand also results in additional cost savings without compromising performance. The case study also shows that an ODMTS
can be operated successfully under more restrictive
budgets, at the cost of increasing waiting times during the busiest times of the day.
This rest of the paper is structured as follows. Section 2 presents related work in the literature, and
Section 3 reviews the current MARTA transit system
and its response to the pandemic. A pipeline is presented for designing and evaluating an ODMTS in
Section 4, combining different works on trip chaining, ODMTS design, ridesharing and fleet sizing, and
real-time shuttle dispatching for the first time. Section 5 introduces an ODMTS for Atlanta, and its
resiliency is tested in Section 6. The final section
summarizes the findings and presents directions for
future research.

Case studies, simulations, and pilots of ODMTS
systems have been performed for the city of Canberra,
Australia (Mahéo et al., 2019), the transit system of
the University of Michigan (Van Hentenryck, 2019),
the Ann-Arbor/Ypsilanti region in Michigan (Basciftci and Van Hentenryck, 2020; Auad and Van Hentenryck, 2021; Basciftci and Van Hentenryck, 2021),
and for the city of Atlanta (Dalmeijer and Van Hentenryck, 2020). It is found repeatedly that ODMTS
have the potential to cut costs and improve passenger convenience. Other advantages of ODMTS and
2 Related Work
its contribution to social mobility are discussed by
Van Hentenryck (2019).
Recent work has focused on understanding the imThe objective of this paper is to study the resiliency pact of COVID-19 on public transit ridership. Liu
of ODMTS to depressed ridership and additional et al. (2020) provide a systematic analysis of 113 pubsafety requirements that arise during a pandemic. lic transit systems across the U.S., using data from
Because of its on-demand component, ODMTS are the Transit App to study the unprecedented decline
expected to be more resilient than traditional tran- of public transit during this pandemic. They explored
sit systems in terms of cost, convenience, and acces- how social distancing, self-quarantine, and working
sibility. To confirm this hypothesis, an ODMTS is from home recommendations from the Center for Disdesigned for the city Atlanta, and its performance is ease Control and Prevention (CDC) impacted ridevaluated under different scenarios that capture var- ership, even before the local spread of COVID-19.
ious stages of the pandemic. The evaluation is based Tirachini and Cats (2020) discuss factors that influ2

ence the contagion risk of COVID-19 in public transit, including vehicle and station occupancy, exposure time, mask use, and hygiene. COVID-19 has
led to new challenges for the transportation community, and different examples are given in the survey
by Agatz et al. (2020). Gkiotsalitis and Cats (2020b)
study the impact of COVID-19 on public transit, and
survey methods for public transit planning that can
be used to address the changes in demand patterns
and reductions in capacity. These include methods
to set service frequencies, modify timetables, and to
prevent crowding. Changing the service frequencies
depending on the social distancing requirements has
been studied by Gkiotsalitis and Cats (2020a). The
authors develop a mixed-integer quadratic programming model, which is used to conduct a case study
for the Washington D.C. metro network.
The interaction between multimodal networks and
on-demand vehicles has been considered by Salazar
et al. (2018), who look into the coordination of public transit systems with fleets of autonomous vehicles and its benefits. Their case study is based on
New York City and the existing public transit system. Pinto et al. (2020) focus on the allocation of
resources between public transit fleets and shareduse autonomous mobility services. They choose the
frequency of the public transit routes and size of the
fleet in a bilevel problem under a constrained budget.
A case study is provided for the city of Chicago.

3

Figure 2:
2020).

The MARTA Rail Network (MARTA,

the US, with 82 lost hours per year for the average
driver (Reed, 2019). Still, it is reported that driving typically results in a shorter commute than using public transit. This agrees with Figure 3, which
shows that the network spans a large geographical
area, but many regions do not have convenient access to transit.

The MARTA Transit System

3.1

The MARTA transit system consists of trains and
buses that cover Fulton, Clayton, and DeKalb counties in the metro Atlanta area. The rail network consists of 38 stations and four lines: the Green, Blue,
Red, and Gold line (Figure 2). With around 160,000
transactions on a typical weekday, this is the 8th
largest rail network in the US by ridership. In addition to the rail, MARTA operates over 500 buses that
serve over 110 different lines, and see approximately
110,000 transactions every day. Figure 3 shows the
total bus and rail coverage, the rail being the backbone of the system.
According to the U.S. Census Bureau (2020), the
rate of public transit commuting to work in Atlanta
is 10.4%; in contrast, NYC and Boston have rates
of 56.0% and 33.3%, respectively. Atlanta is also
routinely ranked among the most congested cities in
the world. The most recent INRIX Traffic Scorecard
ranks Atlanta to be the 10th most congested city in

Ridership Data

To access the MARTA system, riders use a transit
pass, known as the Breeze Card. Passengers tap their
Breeze Card when boarding a bus and when entering and exiting a rail station. Inside buses, riders
can also pay with cash. The Breeze Card transaction
data is collected by the Automated Fare Collection
(AFC) system, which records the time and type of
the transaction, the terminal at which the transaction took place, and the Breeze card id (if applicable). In addition to transaction data, MARTA collects Automated Passenger Counter (APC) data in
the MARTA buses, using cameras or infrared beams
in the doorways to record boardings and alightings.
For every stop, the data contains the number of
boardings and alightings, the vehicle id, the route and
direction, and the time and duration of the stop. This
data is supplemented with GPS coordinates from the
Automatic Vehicle Location system.
3

Figure 3: The MARTA Bus and Rail Coverage in 2019.

Figure 4: The MARTA Essential Service Plan.

For the case study, transaction data and APC data
for 2018 are combined to create a set of 192,311
passenger trips that is representative for an average
weekday in March 2018. Details on estimating the
origin-destination matrix are provided in Section 4.1.
The case study focuses on the 55,871 passengers traveling during the 6am–10am morning peak, which is
one of the most challenging periods of the day. Transaction data collected during the pandemic has been
made available for March up to May 2020. To study
the effect of the pandemic on ridership, the same data
was provided for the year before.

for general administration and facility maintenance,
but excludes depreciation of the vehicles. For the
case study, it is important to know how the cost of
operating a bus compares to the cost of operating
a shuttle. To present a fair comparison, this paper
focuses only on the main cost differentiators: labor
cost, vehicle maintenance cost, and depreciation cost.
This puts the hourly cost of a bus at $72.15. MARTA
operates 465 buses in maximum service, which results
in a daily cost of $134k during the four hour morning
peak. Details on this cost calculation are provided by
Appendix A.

3.2

In terms of performance, the data shows that waiting times are relatively long, especially for bus users.
The average duration for morning-peak trips that include a bus is 46 minutes: 20 minutes of travel time
and 26 minutes of waiting time. The travel time is
calculated from the transaction data, and the waiting time is estimated based on the service frequencies.
Even without traffic, the average trip duration would
still be 40 minutes for these passengers. The situation is better for riders only using rail: their trips
take 25 minutes on average. Note that the time to
get to the bus stop or rail station is not included in
this calculation, which means that the actual trips

Cost and Performance

The Federal Transit Administration (2018) provides
details on MARTA’s financials. In 2018, operating
and capital expenses were $591M and $244M, respectively. Most operating costs stem from the bus network (49%) and the rail (44%); the remainder is for
paratransit services for passengers. Fares and directly
generated funds, which are most affected during a
pandemic, pay for 33% of the operating budget.
MARTA reports an average operating expense of
$104.10 per bus revenue hour, which includes costs
4

take longer.

3.3

Pandemic Response

In March 2020, COVID-19 cases were increasing
rapidly. MARTA responded by implementing a series
of hygiene protocols and by reducing the maximum
occupancy of buses and trains, following new guidelines by the CDC. The following is a brief timeline of
events during March and April 2020:
• March 11th: the World Health Organization
characterized the novel coronavirus outbreak as Figure 5: Breeze Card Tap-Ins from March to Mida pandemic (World Health Organization, 2020); April 2020 (Bus transactions were not recorded after
March 26).
• March 26th: MARTA required passengers to enter buses through the rear door, and fare collection was suspended to accommodate this;
switching to the essential service plan did have a significant negative impact on many people of Atlanta
• March 30th: MARTA reduced the frequency of (Wickert, 2020a).
its bus schedule;
• April 20th: MARTA switched to an essential
service plan consisting of 41 bus routes.

4

ODMTS

This section reviews the software pipeline for designing an ODMTS and evaluating its cost and performance. Figure 6 presents an overview of the pipeline,
and Table 1 summarizes the nomenclature used in
this section. The network design of an ODMTS takes
as input an Origin-Destination (O-D) matrix which is
estimated from the baseline data and represents rider
trips, as well as a set of hubs that can be connected
by rail or buses. The design indicates which connections are served by buses, rail, or shuttles, as well as
the frequencies for the fixed lines. The ridesharing
and fleet-sizing optimizations are then used to determine the necessary number of shuttles. Based on
the network design, the fleet size, and the demand,
a real-time simulation mimics real-time operations.
It keeps track of every rider and every vehicle over
time, including their positions over time, the trip legs
for riders, the vehicle occupancies, and the unserved
requests. The real-time dispatching and routing of
the shuttles is performed using an optimization algorithm over a rolling horizon: the optimization is run
every 30 seconds on requests that have been batched
in the previous time periods or have not been served
yet. This leads to a high-fidelity evaluation of the
ODMTS.
To evaluate the resilience of an ODMTS, this paper makes use of scenarios. Each scenario defines the
vehicle capacities (e.g., to enforce social distancing

Additionally, the rail frequencies were reduced during
this period (Atlanta Region Commission, 2020).
Following the spread of COVID-19, public transit
ridership collapsed due to lockdowns and social distancing, and many people have started working from
home. Figure 5 shows how the number of bus and
rail transactions decreased during March and April
2020. The ridership at the beginning of March was
similar to that of 2019, and represented a typical
demand. Late March, bus ridership had decreased
by roughly 50%, and rail ridership was reduced by
approximately 70%. On March 26, bus fare collection was suspended, and no more transactions were
recorded. In April, rail ridership was at around 22%
of the normal level, and bus ridership was down by
51% on April 19 (see MARTA performance indicators). Ridership remained low thereafter, with similar numbers for May.
MARTA’s essential service plan was introduced
to provide safer service on its most critical routes,
while dealing with rapidly declining ridership, additional cleaning requirements, and new social distancing policies. It cut many routes that were assessed as
“less-critical”. Figure 4 shows the bus and rail coverage of the essential service plan, and compared to Figure 3, it is clear that public transit is less accessible
during the pandemic. Although this was necessary,
5

OD Matrix
Estimation

Baseline
Data

Trips

ODMTS Design

Network Design

Vehicle capacities

Scenario
Demand

Ridesharing and
Fleet Sizing

Network Design

Fleet Size
Demand

Simulation

Real-Time
Shuttle
Dispatching

Results

Figure 6: Pipeline for the design and evaluation of ODMTS.
Symbol
Sets
V
VH
M
Fm
A
Abus
P
T
Ph+
Ph−
Pdirect
+
Rh
−
Rh
S
Rs
R
Parameters
α
τa
da
cm
c̄shuttle
L
L+
βa
γat
K
γr
ρ
∆
brp
Qm
l
cr
gp
ḡ
Variables
za
t
ya
xr
f(r,r0 )
θr
wp

Definition
set of locations
set of transit hub locations, VH ⊆ V
set of modes, M = {shuttle, bus, rail}
set of frequencies for mode m ∈ {bus, rail} (possible number of vehicles over the time horizon)
set of arcs, each a ∈ A represents traveling from i(a) ∈ V to j(a) ∈ V with mode m ∈ M and frequency f (a) ∈ F m
set of bus arcs, Abus ⊆ A
set of shuttle requests, each p ∈ P consists of an origin, destination, and request time
set of trips, each t ∈ T consists of an origin o(t) ∈ V , destination d(t) ∈ V , number of passengers p(t)
shuttle requests with hub h ∈ VH as the origin, Ph+ ⊆ P
shuttle requests with hub h ∈ VH as the destination, Ph− ⊆ P
shuttle requests that do not involve a hub, i.e., Pdirect = P \ PH
set of shuttle routes that only serve requests in Ph+
set of shuttle routes that only serve requests in Ph−
set of shuttles, each s ∈ S is associated with a current time and location
set of shuttle routes that can be performed by shuttle s ∈ S S
shuttle routes considered by the dispatching algorithm, R = s∈S Rs
weight parameter that assigns weight α to total trip duration and (1 − α) to system cost, α ∈ [0, 1]
time to travel arc a ∈ A
distance to travel arc a ∈ A
hourly cost of operating one vehicle of mode m ∈ M
estimated shuttle cost per mile used by the network design algorithm
length of the time horizon
length of the extended time horizon used to get accurate results over the time horizon
bus
cost of including arc a ∈ Abus in the design, βa = (1
 − α)τa f (a)c


cost of traversing arc a ∈ A for trip t ∈ T , γat = p(t) (1 − α)da c̄shuttle + ατa for shuttle, γat = p(t)α τa +
for bus and rail
maximum number of arcs travelled by each passenger, K ≥ 1, corresponds to K − 1 transfers
cost of shuttle route r ∈ RH as used by the ridesharing algorithm
tolerance factor for shuttle trips in the ridesharing algorithm
time window width to allow for ridesharing in the ridesharing algorithm
indicator that is one if shuttle route r covers shuttle request p ∈ P , and zero otherwise
maximum number of passengers in one vehicle of mode m ∈ M
length of a dispatching epoch
cost of shuttle route r ∈ R as used by the dispatcher, equal to sum of the waiting times
penalty for not serving request p ∈ P in the current epoch
initial penalty for not serving request p ∈ P , based on zero waiting time

L
2f (a)



one if arc a ∈ Abus is part of the network design, zero otherwise
one if trip t ∈ T uses arc a ∈ A in the network design, zero otherwise
one if shuttle route r is selected in the ridesharing solution, zero otherwise
one if shuttle routes r, r 0 ∈ RH are served sequentially by the same shuttle in the fleet-sizing algorithm, zero
otherwise
one if shuttle route r ∈ R is selected by the dispatcher, zero otherwise
one if shuttle request p ∈ P is unserved in the current solution by the dispatcher, zero otherwise

Table 1: Nomemclature.
6

policies), the frequencies, and the demand for public transit. Varying these inputs allows for evaluating both pandemic and non-pandemic scenarios. The
base scenario is the proposed ODMTS network designed for the estimated O-D matrix for the current
system.

4.1

connections are added for every trip: from the origin to the hubs, from the hubs to the destination,
and directly from the origin to the destination. Bus
arcs are added for all frequencies in F bus between all
bus-only hubs (hubs that are not rail stations) and
between each bus-only hub and the three nearest rail
stations. The set of all bus arcs is denoted by Abus .
What remains to decide is which bus connections to
provide and at which frequencies.
The objective of the design problem is to minimize
a weighted combination of fixed and variable costs
and trip duration, with parameter α ∈ [0, 1] used to
balance these objectives. The cost is given the weight
1 − α and the total trip duration, i.e., the total travel
and waiting times, is given the weight α. The fixed
cost for including a bus arc a ∈ A is defined as βa =
(1 − α)τa fa cbus , i.e., the product of travel time τa ,
the number of buses over the time horizon fa , and
hourly bus cost cbus .
The contribution to the objective of trip t ∈ T
traveling over arc a ∈ A is given by


shuttle

p(t)
(1
−
α)d
c̄
+
ατ

a
a

γat =
 if m(a) = shuttle



p(t)α τa + L
if m(a) ∈ {bus, rail}.
2f (a)

O-D Matrix Estimation

This paper uses techniques by Trasatti and Van Hentenryck (2021) to estimate the O-D matrix from the
transaction data and the APC data. Transactions
are first grouped into legs, a leg being a part of a trip
where the rider is in a single bus or in the rail system. After establishing the individual legs, the legs
are chained into trips, and trip destinations are estimated when data is unavailable. The result is a set
of rider trips T , where each trip t ∈ T is represented
by an origin o(t), a destination d(t), and the number
of riders p(t).

4.2

ODMTS Design

The network design uses the optimization model introduced by Mahéo et al. (2019) and refined by
Dalmeijer and Van Hentenryck (2020) to capture
transfer constraints, multiple frequencies, and additional transportation modes. The design problem
chooses the fixed routes and their frequencies, minimizing a weighted combination of fixed and operation
costs, and trip durations. Its solution implictly defines the legs taken by every rider.

(1)
The product da c̄shuttle represents the variable cost
of using a shuttle along a, obtained by multiplying
the distance by the shuttle cost per mile. This is
an upper-approximation of the actual cost, since it
ignores ridesharing. The contribution to the trip duration is τa , since the shuttles are assumed to be
available within a short waiting time. There are no
variable costs associated with using a bus or a train.
The contribution to the trip duration is the sum of
the travel time and the expected waiting time. This
value is calculated from the length of the time horizon
L and the number of departures during that time.
Because transfers discourage people from using the
ODMTS, a limit of K ≥ 1 legs is imposed on the
length of each passenger path. This ensures that the
total number of transfers is at most K − 1, which
occurs when the passenger has to change vehicles between every pair of arcs.

Problem Description The design problem is defined in terms of a network G = (V, A) and a set
of trips T . Vertices in V represent geographical locations, and arcs in A are possible connections for
the ODMTS design. Arc a ∈ A captures the possibility of traveling from origin i(a) ∈ V to destination j(a) ∈ V with mode m(a) ∈ M , where
M = {shuttle, bus, rail}. Bus and rail arcs have a
frequency f (a) ∈ F bus and f (a) ∈ F rail respectively.
Bus and rail arcs provide the connections between a
set of transit hubs VH ⊆ V , while shuttles provide the
connections to and from the hubs. Designing the network amounts to choosing which arcs a ∈ A to open.
This paper assumes that the rail network is fixed and
that shuttle connections can always be used, such
that rail and shuttle arcs are always opened. More
precisely, the arc set A is constructed as follows. The
rail lines are added with a fixed frequency, and it
is assumed that all rail stations are in VH . Shuttle

Optimization Model The decision variables of
the model are specified as follows: Variable za ∈ B is
a binary variable with value one iff bus arc a ∈ Abus
is part of the design, while flow variable yat ∈ B indicates that the passengers of trip t ∈ T travel through
arc a ∈ A. Figure 2 presents the problem formula7

tion. For brevity, δ + (i) denotes the set of outgoing
arcs for i ∈ V , and δ + (i, m) the set of outgoing arcs
for i ∈ V restricted to mode m ∈ M . The sets δ − (i)
and δ − (i, m) are defined similarly for incoming arcs.

min

X

βa za +

XX

γat yat ,

to a number of transfers. By replacing G = (V, A)
with the transfer-expanded graph Ḡ = (V̄ , Ā), Constraints (2f) are encoded indirectly, which significantly improves computational performance.

4.3

(2a)

Ridesharing and Fleet Sizing

Once the network is designed, the next step in the optimization pipeline is to derive the appropriate size
s.t.
f (a)za −
f (a)za = 0
for the shuttle fleet. The fleet sizing proceeds in
a∈δ + (i,bus)
a∈δ − (i,bus)
two steps: it first identifies ridesharing opportuni∀i ∈ VH ,
(2b) ties using a ridesharing optimization, before applyX
za ≤ 1 ∀i, j ∈ VH ,
(2c) ing the fleet-sizing optimization. The ridesharing
optimization constructs minimum-cost shuttle routes
a∈Abus |i(a)=i,j(a)=j
that cover the passenger shuttle requests, and the


if i = o(t)
fleet-sizing optimization finds the minimum number
1
X
X
yat −
yat = −1 if i = d(t)
of shuttles to cover these routes. Both algorithms


use the extended time horizon L+ to prevent that
a∈δ + (i)
a∈δ − (i)
0
else
the fleet size is underestimated near the end of the
∀t ∈ T, i ∈ V,
(2d) time horizon.
yat ≤ za ∀t ∈ T, a ∈ Abus , (2e)
X
y t ≤ K ∀t ∈ T,
(2f) 4.3.1 The Ridesharing Optimization
t∈T a∈A

a∈Abus

X

X

a

a∈A

Let P be a set of shuttle requests, where each request
(2g) p ∈ P belongs to a single passenger and consists of
za ∈ B ∀a ∈ Abus .
(2h) an origin, a destination, and a request time. The set
P is obtained from the shortest paths through the
designed network of all trips. It contains a request
Figure 7: ODMTS Design Problem formulation.
for every shuttle arc used by riders. If the request
is at the start of the trip, then the starting time of
Objective (2a) minimizes the cost for selecting the trip is used as the request time. If this is not the
bus arcs, and the total passenger objective. Con- case, the request time is obtained by following the
straints (2b) balance the number of incoming and path. The shuttle requests are partitioned based on
outgoing buses at every hub, while Constraints (2c) the request type: for every hub h ∈ VH , Ph− is the
ensure that at most one bus frequency is selected for set of requests with destination h and Ph+ the set of
every connection. Standard flow conservation con- requests with origin hub h. The remaining requests,
straints for the passenger trips are given by Con- that correspond to direct shuttle trips, are denoted
straints (2d). Passengers only use bus arcs that are by Pdirect .
The objective of the ridesharing optimization is to
part of the design, as stated by Constraints (2e).
The transfer limit constraint is enforced by Con- construct shuttle routes that cover all requests and
straints (2f), and Equations (2g)-(2h) are the inte- minimize the total cost. Riders are eligible to share
grality requirements. Model (2) is solved by the the same shuttle if (i) the number of passengers does
Benders decomposition algorithm of Dalmeijer and not exceed the vehicle capacity Qshuttle ; (ii) their
Van Hentenryck (2020). The master problem se- departure times fall within a time window of width
lects bus arcs (Constraints (2b)-(2c), (2h)), and the ∆ ≥ 0; (iii) all the passenger either travel towards the
subproblems route riders through the network (Con- same hub or depart from the same hub (i.e., requests
straints (2d)-(2g)). The subproblems are not totally are in the same set Ph− or Ph+ ); and (iv) the duration
unimodular due to the transfer limit constraints (2f), of their shared route does not exceed the duration of
which severly impacts computational performance. a direct trip by a factor more than tolerance ρ ≥ 1.
To remedy the situation, Dalmeijer and Van HenThe route enumeration algorithm by Auad and
tenryck (2020) introduce transfer-expanded graphs, Van Hentenryck (2021) is used to construct the sets
i.e., layered graphs for which each layer corresponds Rh− and Rh+ of feasible routes for every hub h ∈ VH .
yat ∈ B ∀t ∈ T, a ∈ A,

8

X

min

γ r xr ,

(3a)

min

−
r∈Rh

s.t.

X

X

fa ,

(4a)

a∈δ + (src)

brp xr = 1 ∀p ∈ Ph− ,

s.t.

(3b)

X
a∈δ − (r)

−
r∈Rh

xr ∈ B ∀r ∈ Rh− .

X

fa =

fa

∀r ∈ V\{src, snk},

a∈δ + (r)

(4b)

(3c)

X

fa = 1

∀r ∈ V\{src, snk},

a∈δ − (r)

Figure 8: The Ridesharing Optimization.

(4c)
fa ≥ 0

Rh−

Routes in sets
and
are based on requests from
Ph− and Ph+ respectively. A route starts when an
empty shuttle picks up passengers, and ends when
the last passenger is dropped off. Every shuttle route
is associated with a starting time and an ending time.
The starting time is the latest request time among the
passengers on the route, which ensures that the route
can only be started when all passengers are ready.
The ending time follows from adding the route duration to the starting time. The cost of shuttle route
r is given by the parameter γ r , which is the same
weighted sum of shuttle cost and passenger trip duration used for designing the ODMTS.
The ridesharing optimization is solved as independent set partitioning problems for every route set
Rh− and Rh+ associated with every hub. Without
loss of generality, the formulation is presented for the
route set Rh− and the corresponding requests Ph− . Let
xr ∈ B be a binary variable that takes the value of
one if route r ∈ Rh− is selected, and zero otherwise.
The binary parameter brp is set to one if route r ∈ Rh−
contains request p ∈ Ph− , and zero otherwise.
Figure 8 presents a formulation for the ridesharing
problem for route set Rh− . Objective (3a) minimizes
the total cost of the selected routes. Constraints (3b)
ensure that every request is fulfilled by one of the
routes. Integral route selections are enforced by Constraints (3c). Problem (3) can be seen as a special
case of the problem solved by Auad and Van Hentenryck (2021).
4.3.2

∀a ∈ A.

(4d)

Rh+

Figure 9: Fleet-Sizing Problem formulation.
serving route r, i.e., the ending time of route r, plus
the time to relocate to the start of route r0 , is before
the starting time of route r0 . The graph G is extended
with a source and a sink, denoted by src and snk respectively. The arc set A is extended with arcs from
the source to all other vertices and arcs from all other
vertices to the sink. Figure 9 presents the fleet-sizing
problem as a minimum-cost flow problem on G. Let
fa be the flow over arc a ∈ A, and define δ − (r) and
δ + (r) to be the sets of arcs going into and out of vertex r ∈ V respectively. By definition, a unit flow from
the source to the sink corresponds to a feasible schedule for a single shuttle. Therefore, Objective (4a)
minimizes the size of the fleet by minimizing the total flow coming out of the source. Constraints (4b)
and (4c) ensure that the flows are balanced and that
every route is served. Note that continuous variables
may be used, because the minimum-cost flow problem
has the integrality property.

4.4

Real-Time Shuttle Dispatching

To perform a realistic simulation of an ODMTS, it
is necessary to consider how the system is operated
in real time and, in particular, how to dispatch and
route the shuttles. To this end, the Real-Time DialA-Ride System (RTDARS) by Riley et al. (2019) is
embedded into the simulator to dynamically dispatch
shuttle requests. The number of shuttles is provided
by the ridesharing and fleet-sizing optimization, while
the requests are provided by the simulator based on
the scenario demand. The simulator only passes on
the current requests, which prevents unrealistic anticipation by the RTDARS.
The RTDARS divides time into epochs of length l
and performs two tasks for each period: it batches ar-

The Fleet-Sizing Optimization

Given the optimal shuttle routes from Model (3),
and the single passenger routes related to Pdirect , the
fleet-sizing algorithm finds the minimum number of
shuttles necessary to cover these routes. The fleetsizing model uses a graph G = (V, A), where a vertex
r corresponds to a route, and an arc (r, r0 ) indicates
that it is feasible for a shuttle to serve route r0 after
9

min

X

s.t.

X

θr = 1 ∀s ∈ S,

ation. This algorithm iteratively generates promis(5a) ing shuttle routes (columns) with disjoint sets of requests. After reaching a stopping condition (based on
(5b) real-time requirements), Problem (5) is solved for a
restricted route set that only contain the routes that
have been generated.
(5c)

θr ∈ B ∀r ∈ R,

(5d)

wp ∈ B ∀p ∈ P.

(5e)

X

cr θ r +

r∈R

gp wp ,

p∈P

brp θr

+ wp = 1 ∀p ∈ P,

r∈R

X
r∈Rs

Figure 10: The RTDARS Master Problem.

riving shuttle requests during the epoch, and it solves
an optimization problem to route and dispatch unserved requests from previous epochs. A high-level
overview of the algorithm is presented here, and a
more detailed description is provided by Riley et al.
(2019). The objective of the static optimization problem at every epoch is to create minimum cost shuttle
routes that serve the requests. These routes respect
the shuttle capacity Qshuttle and ensure that passengers do not deviate too much from the shortest path.
Additionally, there is the option to postpone requests
to the next epoch by incurring a penalty. The cost
cr of route r is the sum of the waiting times before
pickup. The cost of not serving request p is given
by gp , which increases exponentially based on how
long the rider has been waiting. The initial penalty
ḡ doubles every ten epochs to ensure that postponed
requests are eventually served.
Let P be the set of unserved shuttle requests from
previous epochs, let Rs be the set of routes that can
be assigned to shuttle s ∈ S, and let R = ∪s∈S Rs .
Feasible shuttle routes respect previously committed
actions, vehicle capacity, and a limit on the time deviation from the shortest path. The binary variable θr
takes on the value one iff route r ∈ R is part of the solution. For every request p ∈ P , variable wp is equal
to one iff the request remains unserved in the current
epoch. The parameter brp indicates that request p ∈ P
is contained in route r ∈ R. Figure 10 presents the
problem formulation. Objective (5a) minimizes the
cost of the selected routes and the penalties incurred
for leaving requests unserved. Constraints (5b) specify that every request must be served, or a penalty is
incurred. Constraints (5c) ensure that every shuttle is
assigned a single route. Equations (5d) and (5e) are
the integrality conditions. Riley et al. (2019) solve
the static optimization problem with column gener10

4.5

Simulation

The RTDARS is embedded in the simulator of Riley
et al. (2019) to evaluate the performance of the designed ODMTS. The network design is provided by
the design problem, the number of shuttles is provided by the ridesharing and fleet-sizing algorithms,
and the demand is defined by the scenario. Passenger trips are revealed over time, and at every time
increment the simulator updates the position of every passenger and every vehicle. Results are obtained
for time horizon L by simulating the extended horizon L+ and truncating the results.
For every incoming trip request, the optimal path
through the network is determined as defined in Section 4.2. When a shuttle connection is encountered,
a shuttle request is posted to the RTDARS, while for
bus and rail connections, passengers take the first vehicle with an empty seat along their predetermined
route. The vehicle capacities are given by Qshuttle ,
Qbus , and Qrail . At the start of the time horizon, the
shuttles are distributed over the hubs proportionally
to the average demand in each area. The bus arcs
in the design are grouped into lines, and each line
is assigned the minimum number of buses necessary
to obtain the chosen frequency. Buses are spaced out
evenly, but the rail and bus schedules are not synchronized. Solving a scheduling problem may improve
transfer times, and is an interesting direction for future work. If the results show that the RTDARS
is overwhelmed and shuttle waiting times are long,
then the fleet size is increased by 10% and the simulation is restarted. This increase is to compensate
for the fact that the ridesharing and fleet-sizing optimizations assume perfect information, while the RTDARS receives requests dynamically. The simulator
allows for high-fidelity analyses of the ODMTS system. The analyses are based on simulated movements
of riders and vehicles, not on the design assumptions.
For example, the ODMTS design problem uses expected waiting times, where simulation results allow
for calculating the actual waiting time for every rider.

Parameter

Value

L
L+
F bus

4 hours (time horizon 6 a.m.-10 a.m.)
6 hours (time horizon 6 a.m.-12 p.m.)
{8, 12, 16} (two, three, or four buses per
hour)
{24} (six per hour)
57 transit hubs (38 rail stations, 19 bus-only
hubs)
time is valued at $7.25 per hour (US federal
minimum wage)
shuttle and bus travel times from OpenStreetMap, rail from schedule
distances from OpenStreetMap
$72.15 per hour
$27.31 per hour
$1 per mile
4 arcs (at most three transfers)
tolerance factor 1.5
30 seconds
4 passengers
57 passengers
576 passengers (192 for green line)
30 seconds per epoch
420 seconds

F rail
|VH |
α
τa
da
cbus
cshuttle
c̄shuttle
K
ρ
∆
Qshuttle
Qbus
Qrail
l
ḡ

Wait time (min)

Baseline

Shuttle
Bus
Rail

0-5

5-10

>10

60%
49%
63%

35%
39%
32%

4%
12%
5%

Table 3: Distribution of total waiting times per mode
for trips using that mode (baseline).

(blue), and bus connections as arrows ranging from
light to dark (yellow to red) for low to high frequencies. The rail is obviously the core of the network.
Buses are mostly used to expand the rail, providing connections to high-density areas that it cannot
reached. This holds for all four cardinal directions,
and especially for the North. Other bus lines cover
the Northeast, the Southeast, and the Southwest.
Table 2: Parameter values case study.
The Northwest is served by shuttles, because most
riders are close to the rail. The ridesharing and fleet5 Baseline ODMTS for Atlanta sizing optimizations estimate that 917 shuttles are
necessary to operate the ODMTS. This number was
This section presents a baseline ODMTS for the city scaled up by 20% to 1100 shuttles to obtain an acof Atlanta to assess the resiliency of ODMTS dur- ceptable service level. The bus service is provided by
ing a pandemic. To provide the proper context, the 26 buses.
baseline ODMTS is compared to the existing transit
system in terms of service quality and cost.
Passenger Convenience In real-time simulations,
the average trip duration was found to be 24 minutes,
Settings Table 2 presents the parameter values with 18 minutes of travel and 7 minutes of waiting
used in the case study, using the 2018 data intro- time. Rail-only riders (56%) spend 23 minutes in
duced in Section 3.1. Recall that the ODMTS is de- transit, which is similar to the current system. For
signed for the 6am–10am morning peak. The current the remaining trips (44%), the trip duration is only
rail system is fixed, with a frequency of six per hour 26 minutes for the ODMTS compared to 46 minutes
to approximate the MARTA schedule closely. The for the current system: this is a significant difference.
19 bus-only hubs are chosen by iteratively selecting a Table 3 shows the distribution of the waiting times
location that is at least four miles from the other over the different modes. Only 4% of the trips inhubs, and has the most passenger activity. Road cluding a shuttle leg requires waiting more than 10
travel times and distances were obtained from Open- minutes for a shuttle. The bus and rail distributions
StreetMap using the GraphHopper library (Open- provide a similar picture: waiting under five minutes
StreetMap, 2020). Traffic congestion is not taken is most common, and waiting longer than 10 minutes
into account. Note however cities like San Francisco is rare. Shuttle waiting times vary over time, while
have dedicated lanes for transit vehicles. Moreover, bus and rail waiting times are fairly constant. Figshuttle connections are typically local and short, and ure 12 shows that the average waiting time is about
therefore less affected by traffic. For practical rea- 6 minutes for a bus and 4 minutes for a train leg.
sons, stops within a 1500 feet radius are clustered, The shuttle waiting times have a peak of about 5.5
and 15,479 unique trips remain.
minutes between 7am and 8am, which is the period
that sees the most passengers. Around 6am, waitNetwork Design The resulting ODMTS design is ing times are also relatively long while the shuttles
shown in Figure 11. Shuttle connections are depicted spread out over the region. After 8am, the shuttle
as thin lines (green), rail connections as thick lines waiting time rapidly decreases to only 3 minutes. Fig11

Average waiting time per leg in minutes

6.0
5.5
5.0
4.5
4.0
3.5

shuttle
bus
rail
06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

3.0

Requested departure time

Figure 12: Average Waiting Time per Leg Type
over Time.

Figure 11: The Baseline ODMTS for Atlanta.

Total shuttle distance in miles

Time in minutes

30

15000
20

Number of passengers

20000

0.8
6000
0.6
4000
0.4
2000

10000
10

Number of legs

4

3

2

1

0

0

5000

0 passengers
1 passenger
2 passengers
3 passengers
4 passengers
active shuttles

Fraction of active shuttles

25000

40

1.0

8000

30000

06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

waiting time
travel time
count

50

0.2
0.0

Departure time

Figure 13: Average Passenger Wait and Travel
Times (left axis) and Total Trip Counts (right
axis) for a Given Number of Legs per Trip.

Figure 14: Total Miles Driven at Given Occupancy (left axis) and Fraction of Shuttles Active
over Time (right axis).

12

ure 13 shows how waiting times are distributed over
the trips. Short trips have short waiting times, and
waiting times increase almost proportionally with the
length of the trip, which indicates a fair distribution.
Furthermore, the counts show that trips with many
transfers are rare: the vast majority of riders are
served either by a direct trip or with a single transfer.
Capacity Utilization It is interesting to report
capacity utilization results, since social distancing
measures will reduce capacity. The average utilization of buses and rail stays under 32% over the time
horizon, and no vehicle exceeds 90% of its capacity.
Figure 21 (Appendix B) provides additional details.
The line chart in Figure 14 shows the fraction of active shuttles over the time horizon. Almost all shuttles are active during the busiest period from 7am to
8am, but the waiting times show that the system is
not overwhelmed. The same figure presents the total
mileage for a given shuttle occupancy. It shows that
riders can be offered individual shuttle rides most of
the time, and that the amount of sharing increases
when more shuttles are busy. The low occupancy suggests that reducing shuttle capacity in a pandemic is
feasible. In total, the shuttles drive 103,905 miles between 6am and 10am, which amounts to 94 miles per
shuttle on average.

buses are important to the baseline ODMTS. The
baseline ODMTS has 26 buses and 1100 shuttles. If
buses are removed from the system, the ridesharing
and fleet sizing algorithms indicate that 151 additional shuttles are necessary, for a total fleet of 1251
shuttles. The cost for the morning peak would then
increase by 7.0% from $128k to $137k, which exceeds
the cost of the current system of $134k. This is consistent with the case study of ODMTS in Ann Arbor, where buses were shown critical (Basciftci and
Van Hentenryck, 2020).

6

Resiliency of ODMTS

The resiliency of the ODMTS during a pandemic is
evaluated with scenarios that correspond to different
periods of the COVID-19 pandemic. These scenarios differ in the level of ridership, and the amount of
social distancing measures. The resiliency is assessed
by investigating how the performance and cost evolve
when the baseline design is kept in place and only the
number of shuttles is scaled down. This is complemented by an evaluation that redesigns the network.
Keeping the baseline ODMTS simplifies operations
but a redesign may yield additional cost savings and
improvements in quality of service. For MARTA, only
33% of the operating expenses come from fare revenues, but this number may be significantly higher
Comparison Current System The cost for buses for other transit agencies. This section also studies
in the morning peak is $134k per day for the current how service levels change when this percentage insystem. For the baseline ODMTS, it is only $128k for creases.
buses and shuttles together. These costs are calculated based on the hourly vehicle costs. Lower costs
stem from the relatively low cost of operating shuttles 6.1 Scenarios
compared to buses: The ODMTS only uses buses for Table 4 summarizes the scenarios used in the case
busy corridors, where high-capacity vehicles are most study. The first scenario is the baseline, and the other
efficient. For rail-only passengers, there is no signifi- three are pandemic scenarios with depressed demand
cant difference between the systems obviously, but it and reduced vehicle capacities to allow for social disis not known how these riders travel to the rail sta- tancing. Fleet sizes are provided by the ridesharing
tion. For current bus users, the ODMTS is strongly and fleet-sizing algorithms. The “Fixed design” colpreferred, as the trip duration is 20 minutes shorter umn assumes that the baseline network design is kept
on average. Other advantages of the ODMTS include in place for all scenarios, except for the strict late
better access to the public transit system, and less pandemic scenario, which removes the bus subsystem
time for riders to get to a stop, as the on-demand (see Figure 22, Appendix B). For the “Redesign” colshuttles can pick them up close to their origins.
umn, the network is redesigned based on the scenario
Importance of Buses As mentioned earlier, the
core of the ODMTS for Atlanta is the rail network,
and bus lines provide access to the rail for highdensity areas. Shuttles, however, can perform the
same task. This gives rise to the question of whether

ridership, and the fleet size is determined for the redesigned network.
The passenger trips in the pandemic scenarios
are sampled from the 2018 data until the ridership
matches the pandemic level. Sampling is used because the trips observed during the pandemic are

13

Capacity
Scenario name

Ridership level

Passengers

Baseline
Early Pandemic
Late Pandemic
Strict Late Pandemic

2018
March 2020
April 2020
April 2020

55871
25042
13479
13479

*

Shuttle fleet

Shuttle

Bus

Rail

Fixed design

Redesign

Budget

4
1
1
1

100%
50%
50%
0%

100%
50%
50%
25%

1100
846
510
602*

866
523
602

$128k
$106k
$98k
$98k

(100%)
(45%)
(24%)
(24%)

bus subsystem removed from the design.

Table 4: Overview of Scenarios Settings and Shuttle Fleets.
shaped by the essential service plan, and do not necessarily represent the actual demand. The early pandemic scenario is based on the ridership level around
March 18th, 2020, with 70k bus and 60k rail transactions per day. The late pandemic scenarios use the
April 2020 level with 40k bus and 35k rail transactions. Due to the lack of bus transaction data for
April, the proportion of bus to rail trips is kept the
same for April and scaled down based on number of
rail trips. The bus and rail capacities are indicated
as percentages of the total baseline capacity. A 50%
capacity allows for only using every other seat for
social distancing. As social distancing is difficult in
a shuttle, only one passenger is allowed during the
pandemic. The strict late pandemic scenario imposes
even stricter measures: Buses are considered not safe,
and the system operates with only single passenger
shuttles and trains at 25% capacity.
One interesting observation is that for all pandemic
scenarios, the number of shuttles is smaller than that
for the baseline scenario. It is not obvious that this
would be the case, and it demonstrates that ridership
decreases sufficiently to allow for both a reduction in
capacity and a reduction in the number of shuttles.
It follows that the baseline fleet is sufficiently large
to operate the system during a pandemic, and no
additional vehicles are necessary.
Every scenario is assigned a budget for buses and
shuttles that takes into account that reduced ridership affects fare revenue. For the current system,
33% of the operating expenses are paid from fares
and direct revenue, while capital expenditures are
completely funded from other sources. The baseline
budget is taken to be the normal cost of the system,
92% of which is operating expenses (labor and maintenance) and 8% is capital expenditures (depreciation). For the other scenarios, the budget is reduced
proportionally to the change in available funds. For
the early pandemic scenario, for example, the number of passengers is reduced by 55%. This results in
a reduction of operating funds by 18%, and therefore

a reduction of the budget by 17% to $106k.

6.2

Resiliency under Fixed Design

This section evaluates the ODMTS resiliency when
the baseline network design stays in place during the
pandemic. Table 5 presents the aggregate results.
The average trip durations suggest that the ODMTS
is very resilient in terms of rider convenience. For riders not using rail, the average trip duration remains
under 26 minutes on average. These results are also
valid for individual trips. Table 6 shows that, for the
early and late pandemic scenarios, the wait times are
comparable to the baseline in distribution. In the
strict late pandemic scenario, waiting times for the
shuttles go up, as a result of removing the buses.
Figure 15 displays the waiting times over time for
the strict late pandemic scenario. The pattern is the
same as for the baseline, except that the peak in shuttle waiting times is slightly larger. But, even during
the peak, the average waiting time for a shuttle leg is
at an acceptable 6.5 minutes. This shows that a high
quality of service can be provided, even if buses are
no longer used, at the cost of increasing the number
of shuttles from 510 to 602.
In the baseline scenario, the capacity of the buses
and the trains is not restrictive, and this still holds
true for the pandemic scenarios. Table 5 shows that
the average bus utilization does not exceed 15%,
while 50% of capacity is available. The average train
utilization does not exceed 12% in any pandemic scenario. This allows for additional social distancing,
and it provides opportunities for taking some vehicles out of the rotation and cleaning them during the
day, without creating capacity shortages. Figure 16
evaluates the utilization of the shuttles during the
pandemic. For each pandemic scenario, it shows the
number of active shuttles during the day, compared
to the available number. For all scenarios, the number of shuttles is sufficient, and most of the shuttles
are being used during the peak from 7am to 8am.

14

Average trip
duration (min)

Max. use of
total capacity

Rail-only

Other

Bus

Rail

Budget ($)

Cost ($)

23
22
22
22

26
26
26
25

25%
15%
9%
0%

32%
12%
7%
7%

128k
106k
98k
98k

128k
100k
63k
66k

Baseline
Early pandemic
Late pandemic
Strict late pandemic

Table 5: Statistics Per Scenario Under the Fixed Design.

Wait time (min)
>10

Shuttle
Bus
Rail

60%
49%
63%

35%
39%
32%

4%
12%
5%

Early
pandemic

Shuttle
Bus
Rail

61%
49%
64%

35%
39%
31%

4%
12%
5%

Late
pandemic

Shuttle
Bus
Rail

62%
48%
64%

34%
40%
31%

3%
12%
5%

Strict late
pandemic

Shuttle
Bus
Rail

53%
n.a.
61%

37%
n.a.
33%

10%
n.a.
6%

Baseline

6.0
5.5
5.0
4.5
4.0
3.5
06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

5-10

Average waiting time per leg in minutes

0-5

shuttle
rail

6.5

Requested departure time

Table 6: Distribution of Total Waiting Times per
Mode for Trips using that Mode.

Figure 15: Average Waiting Time Over Time For a
Leg of a Given Mode (Strict Late Pandemic).

6.3
While the performance of the ODMTS is similar
for all scenarios, it should be verified that the system
remains affordable. The budget and cost columns in
Table 5 compare the cost of the system to the reduced
budget that results from decreased fare revenues. For
the early pandemic scenario, the cost of the system
($100k) is under the budget of $106k. This suggests
that operating the ODMTS at the same service level
during this stage of the pandemic is economically viable. Section 6.4 explores how the quality of service
is affected when a smaller budget is enforced. For
the late and strict late pandemic scenarios, the budget far exceeds the cost. ODMTS differs in this respect from traditional systems, for which providing
the same level of service within a reduced budget is
often impossible.

Resiliency under Redesign

This section considers the cases where the transit
agency redesigns the network to better fit the reduced
ridership and obtain additional savings, especially if
demand is expected to remain low for a longer period
of time. Figures 17 and 18 present the networks that
result from solving the ODMTS design problem for
the early and late pandemic ridership levels respectively. As ridership decreases, some of the bus lines
are closed, and others are reduced in frequency. The
number of buses is reduced from 26 in the baseline
design to 16 in the early pandemic scenario and 12
for the late pandemic scenario. Reducing the number of buses puts more pressure on the shuttles, and
the number of shuttles is increased in both cases.
Compared to the fixed design, the redesigned net-

15

Number of active shuttles

800
700
600
500
400
early pandemic
late pandemic
strict late pandemic
06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

300

Departure time

Figure 16: Number of Shuttles Active over Time for
Different Pandemic Scenarios (Number Available as
Dashed Line).

Figure 18: ODMTS redesign for late pandemic ridership.

scenario, direct shuttle trips increase by 3.0%, and
shuttle mileage increases by 3.8%, compared to using
the fixed design.
Redesigning the network results in $701 (0.7%)
savings for the early pandemic scenario, and $2.6k
(4.1%) savings for the late pandemic scenario, most
of which is due to the reduction in the number of
buses. In terms of performance, the average trip duration is increased by less than a minute. This is
possible because the shuttles take over some of the
work of the buses. After the redesign, the early and
late pandemic scenarios see 15% and 20% fewer bus
users, respectively. The increase in average bus wait
time is under 3.5 minutes.
Redesigning the network based on the scenario may
lead to additional cost savings, without compromising performance. This comes at the cost of a more
intensive use of shuttles, and slightly longer waiting
times for passengers using the bus subsystem. The
Figure 17: ODMTS redesign for early pandemic rid- cost savings are more significant in the late pandemic
scenario, where ridership is more depressed.
ership.

6.4

Larger Budget Reductions

work in the early pandemic scenario increases the
number of direct shuttle trips by 2.2%, and the to- Section 6.2 showed that, in the early pandemic scetal shuttle mileage by 3.3%. For the late pandemic nario, the cost of operating the ODMTS is within the
16

reduced budget. This conclusion is critically dependent on how ridership affects the budget. In Atlanta,
fares and direct revenues cover 33% of the operating
expenses, but this number may be higher in other
areas. In New York City, for example, the share is
55%, and in the San Francisco Bay Area it is even
70% (Federal Transit Administration, 2018). In these
cases, loss of ridership has a larger impact on the
budget, and operating with the proposed number of
shuttles is no longer feasible.

850

Number of active shuttles

800
750
700
650
600

3
2

fare revenue pays 33% of operating expenses
fare revenue pays 50% of operating expenses
fare revenue pays 66% of operating expenses
06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

When the fleet is busy, this affects the shuttle waiting time. Figure 20 compares the waiting times for a
shuttle leg under the different budgets. It can be seen
that reducing the budget results in a higher peak in
shuttle waiting times. Furthermore, the peak is wider
at lower budgets, corresponding directly to the busy
periods in Figure 19. Reducing the number of shuttles from 846 (33% case) to 804 (50% case) only has
a minor impact on performance. The waiting time
for a shuttle leg increases only by about one minute
during the peak, and the average trip duration for all
passengers remains practically the same. Going down
to 706 shuttles (66% case) presents a more significant
trade-off between cost and convenience. The impact
on the average trip duration is only one minute, but
the average shuttle leg waiting time goes up to 9 minutes during the peak. It is up to the transit agency to

Average waiting time per shuttle leg in minutes

06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

550
To study the effect of larger budget reductions, two
variations of the early pandemic scenario are considfare revenue pays 33% of operating expenses
500
fare revenue pays 50% of operating expenses
ered: one where fare revenues cover 50% of the opfare revenue pays 66% of operating expenses
erating expenses, which corresponds to doubling the
current ticket price, and one where the share is doubled to 66%. As a result, the budget is reduced from
$106k to $95k and $85k respectively. These reduced
Departure time
budgets do not allow for operating 846 shuttles, as
determined by the ridesharing and fleet-sizing algorithms. Instead, the number of shuttles is reduced Figure 19: Number of Shuttles Active over Time for
to 804 and 706 respectively, to fit the budget. Fig- the Early Pandemic Scenario for Different Budgets
ure 19 shows how shuttle utilization is impacted by (Number Available as Dashed Line).
reducing the number of shuttles. In the 33% case,
as considered before, most shuttles are used during
9
the 7am to 8am peak, but there are always shuttles
available for incoming requests. When the number
8
of shuttles is reduced to 804, almost all shuttles are
active at the same time for about an hour. The sys7
tem does not seem to be overwhelmed, however, as
the number of active shuttles decreases quickly after
6
the peak. The 66% case paints a different picture: to
5
operate the system with only 706 shuttles, the fleet
is completely occupied for almost two hours to keep
4
up with incoming requests.

Departure time

Figure 20: Average Shuttle Waiting Time over Time
for Different Budgets.

decide whether this wait is acceptable during a pandemic, given that it allows for operating the system
within a very restrictive budget, without compromising access to public transit.

17

7

Conclusion

References

This paper studied the resiliency of ODMTS during
a pandemic, which leads to depressed ridership and
revenues, and increasing safety requirements. Operating in this environment is a challenge for public
transit agencies, which are forced to cut routes, reduce service hours, or lower the service frequency. It
was hypothesized that ODMTS may be inherently
more resilient to changes in demand due to the use
of on-demand shuttles: The number of shuttles can
be scaled down as needed, without compromising the
access to the system. To confirm this hypothesis,
the ODMTS design pipeline was applied to a variety
of pandemic scenarios and evaluated using a highfidelity simulator.
The case study considers the transit system for the
city of Atlanta based on actual data and observations from the COVID-19 pandemic. Under regular, non-pandemic circumstances, it was shown that
ODMTS offers better access to transit and shorter
trips compared to the current system, and at a lower
price. During a pandemic, the rail and bus schedules
may be kept the same, while the number of shuttles is scaled down. It was shown that this allows
the ODMTS to provide almost identical performance
during a pandemic. Furthermore, the cost of the system decreases sufficiently to make up for lost revenues. Transit agencies may also decide to redesign
the network during a pandemic to better fit the reduced demand. The results showed that this allows
for additional cost savings without compromising service quality, and this benefit is more significant when
demand is more depressed. Finally, operating the
ODMTS under a stricter budget was considered to
account for the realities of other transit systems. The
simulations showed a trade-off between the budget
and the peak shuttle waiting times. But, overall, the
average waiting time is not much affected.
The case study results suggest that ODMTS provide significant resiliency during pandemic response.
Furthermore, it supports earlier findings that combining on-demand shuttles with high-frequency buses
and trains may provide a cost-efficient alternative to
traditional public transit systems.

Niels Agatz, Mike Hewitt, and Barrett W. Thomas.
“Make no little plans”: Impactful research to solve
the next generation of transportation problems.
Networks, 2020.
American Automobile Association. Your Driving
Costs. https://exchange.aaa.com/automotive/
driving-costs/, 2019.
Atlanta Region Commission. How COVID-19 has Affected Transportation in Metro Atlanta. ARC Webinar, 2020.
Ramon Auad and Pascal Van Hentenryck. Ridesharing and Fleet Sizing in the Design of a MultimodalOn-Demand Transit System. in preparation, 2021.
Beste Basciftci and Pascal Van Hentenryck. Bilevel
Optimization for On-Demand Multimodal Transit Systems. In Emmanuel Hebrard and Nysret
Musliu, editors, Integration of Constraint Programming, Artificial Intelligence, and Operations Research, pages 52–68. Springer, 2020.
Beste Basciftci and Pascal Van Hentenryck.
Capturing Travel Mode Adoption in Designing On-demand Multimodal Transit Systems.
arXiv:2101.01056, 2021.
Kevin Dalmeijer and Pascal Van Hentenryck.
Transfer-Expanded Graphs for On-Demand Multimodal Transit Systems. In Emmanuel Hebrard and
Nysret Musliu, editors, Integration of Constraint
Programming, Artificial Intelligence, and Operations Research, pages 167–175. Springer, 2020.
Matthew Dickens. Public Transportation Vehicle
Database. American Public Transportation Association, 2020.
Federal Transit Administration.
Database, 2018.

National Transit

Konstantinos Gkiotsalitis and Oded Cats.
Optimal frequency setting of metro services in
the age of COVID-19 distancing measures.
arXiv:2006.05688, 2020a.

Konstantinos Gkiotsalitis and Oded Cats. Public
transport planning adaption under the COVIDThis research is partly supported by NSF Leap HI
19 pandemic crisis: literature review of research
proposal NSF-1854684 and Department of Energy
needs and directions. Transport Reviews, pages 1–
Research Award 7F-30154.
19, 2020b.

Acknowledgments

18

Glassdoor.
Bus Driver Salaries in Atlanta, Alejandro Tirachini and Oded Cats. COVID-19
GA Area.
https://www.glassdoor.com/
and Public Transportation: Current Assessment,
Salaries/atlanta-bus-driver-salaryProspects, and Research Needs. Journal of Public
SRCH_IL.0,7_IM52_KO8,18.htm, 2020. Accessed:
Transportation, 22(1), 2020.
2020-10-22.
Anthony Trasatti and Pascal Van Hentenryck. A
Christina Goldbaum and Will Wright. ‘ExistenTrip-Chaining Methodology based on AFC and
tial Peril’: Mass Transit Faces Huge Service Cuts
APC Data. in preparation, 2021.
Across U.S. The New York Times, 2020.
U.S. Census Bureau. Means of transportation to work
Brett Helling. Ridester’s 2020 Independent Driver
by selected characteristics. 2015-2019 American
Earnings Survey – Driver Income Revealed.
Community Survey 5-year estimates, 2020.
Ridester, 2020.
Pascal Van Hentenryck. On-demand mobility sysLuyu Liu, Harvey J. Miller, and Jonathan Scheff. The
tems can ease commuters’ burdens – Socially aware
impacts of COVID-19 pandemic on public transit
transit solutions focus on solving ’first/last mile’
demand in the United States. PLOS ONE, 15(11):
challenge. ISE Magazine, 51(10):28–33, 2019.
1–22, 2020.
David Wickert. MARTA bus cuts have many riders
Arthur Mahéo, Philip Kilby, and Pascal Van Hentenscrambling to find a ride. The Atlanta Journalryck. Benders Decomposition for the Design of a
Constitution, 2020a.
Hub and Shuttle Public Transit System. Transportation Science, 53(1):77–88, 2019.
David Wickert. MARTA cuts most bus routes, beefs
up others amid pandemic. The Atlanta JournalMARTA.
Train Stations & Schedules.
Constitution, 2020b.
https://www.itsmarta.com/train-stationsand-schedules.aspx, 2020.

World Health Organization.
WHO DirectorGeneral’s opening remarks at the media briefing
on COVID-19 - 11 March 2020. https://www.
who.int/dg/speeches/detail/who-directorgeneral-s-opening-remarks-at-the-mediaretrieved
briefing-on-covid-19---11-march-2020,
https:
2020.

Stephen Nessen. New York City’s Subway Ends 24Hour Service Amid Pandemic. National Public Radio, 2020.
OpenStreetMap.
Planet dump
from https://planet.osm.org.
//www.openstreetmap.org, 2020.

Helen K. R. F. Pinto, Michael F. Hyland, Hani S.
Mahmassani, and I. Ömer Verbas. Joint design
of multimodal transit networks and shared autonomous mobility fleets. Transportation Research
Part C: Emerging Technologies, 113:2–20, 2020.
Trevor Reed. Global Traffic Scorecard. INRIX, 2019.
Connor Riley, Antoine Legrain, and Pascal Van Hentenryck. Column Generation for Real-Time RideSharing Operations. In Integration of Constraint
Programming, Artificial Intelligence, and Operations Research, pages 472–487. Springer, 2019.
Mauro Salazar, Federico Rossi, Maximilian Schiffer,
Christopher H. Onder, and Marco Pavone. On
the Interaction between Autonomous Mobility-onDemand and Public Transportation Systems. In
2018 21st International Conference on Intelligent
Transportation Systems (ITSC), pages 2262–2269,
2018.
19

A

Cost Calculations

06:00 - 06:15
06:15 - 06:30
06:30 - 06:45
06:45 - 07:00
07:00 - 07:15
07:15 - 07:30
07:30 - 07:45
07:45 - 08:00
08:00 - 08:15
08:15 - 08:30
08:30 - 08:45
08:45 - 09:00
09:00 - 09:15
09:15 - 09:30
09:30 - 09:45
09:45 - 10:00

Time-weighted vehicle utilization per interval

191k miles. This leads to a $1.93 depreciation cost
per hour. Adding up these numbers, the comparable
To compare the cost of the current system to that of total cost of a shuttle is $27.31 per vehicle revenue
an ODMTS, it is necessary to estimate the cost of op- hour.
erating a bus compared to operating an on-demand
shuttle. MARTA reports that the operating expenses
From an economic perspective, the public transit
for buses are $104.10 per vehicle revenue hour. How- agencies may aim to recruit ridesharing drivers inever, this number includes expenses for general ad- stead of bus drivers for operating the shuttles. Acministration and facility maintenance, and excludes cording to the Ridester’s Driver Earnings Survey, the
depreciation of the vehicles. To present a fair com- average Uber driver in the US earns $19.36 per hour
parison, it is assumed that buses and shuttles only (Helling, 2020). The car is the driver’s property,
differ in labor cost, vehicle maintenance cost, and and the driver is responsible for the associated costs.
vehicle depreciation. In particular, the cost of fuel Based on the maintenance and depreciation costs as
and lubricants is ignored, as this is a relatively small above, this results in an effective hourly wage of uncomponent of the cost. If it were to be included, this der $16.30, which is low compared to $24.25 for a bus
would favor shuttles due to their better fuel efficiency. driver.
The cost of one person-hour of operating a bus is
$23.52 in salaries and wages, to which $16.03 (68%)
is added in fringe benefits (Federal Transit Administration, 2018). It is assumed that one vehicle revenue hour requires one person-hour of labor, which
results in a conservative labor cost estimate. The
maintenance cost is estimated at $19.17 per vehicle
Additional Figures
revenue hour. This number results from adding up B
salaries and wages, fringe benefits, and materials in
the ‘vehicle maintenance’ category, and dividing by
the number of vehicle revenue hours. The majority
1.0
of the MARTA fleet consists of 40-foot compressed
bus average
rail average
natural gas buses with a current purchase price of
bus maximum
$625k (Federal Transit Administration, 2018; Dickrail maximum
0.8
ens, 2020). These buses have a useful life benchmark
of 12 years, and are used for 3878 vehicle revenue
hours per year on average. This corresponds to a
$13.43 depreciation per revenue hour.
0.6
For the purpose of comparing buses to shuttles,
this brings the cost of a bus to $72.15 per hour.
MARTA operates 465 buses in maximum service
0.4
(Federal Transit Administration, 2018), which corresponds to $134k during the morning peak.
It is assumed that shuttle drivers are paid the average wage of a bus driver in Atlanta and that they re0.2
ceive the same 68% of fringe benefits. This amounts
to $14.42 per hour in wages (Glassdoor, 2020) and
$9.83 in fringe benefits, for a total labor cost of $24.25
0.0
per hour. The maintenance cost is estimated at $0.09
per mile for a medium sedan (American Automobile
Association, 2019), which results in $1.13 per hour,
assuming that shuttles and buses are used for the
Departure time
same number of hours per day and have the same
daily mileage on average. For the depreciation cost,
it is assumed that shuttles have a purchase price of Figure 21: Utilization of buses and trains over time
$30k and are replaced every four years, which is after (baseline).
I

Figure 22: Modified ODMTS design for Atlanta without buses.

II

