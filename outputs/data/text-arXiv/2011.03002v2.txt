Health Care Management Science manuscript No.
(will be inserted by the editor)

Prediction of Personal Protective Equipment Use in Hospitals
During COVID-19

arXiv:2011.03002v2 [stat.AP] 22 Feb 2021

Eugene Furman · Alex Cressman · Saeha Shin · Alexey Kuznetsov ·
Fahad Razak · Amol Verma · Adam Diamant

Received: date / Accepted: date

Abstract Demand for Personal Protective Equipment
(PPE) such as surgical masks, gloves, and gowns has
increased significantly since the onset of the COVID19 pandemic. In hospital settings, both medical staff
and patients are required to wear PPE. As these facilities resume regular operations, staff will be required
to wear PPE at all times while additional PPE will
be mandated during medical procedures. This will put
increased pressure on hospitals which have had problems predicting PPE usage and sourcing its supply. To
meet this challenge, we propose an approach to predict
demand for PPE. Specifically, we model the admission
of patients to a medical department using multiple independent Mt /G/∞ queues. Each queue represents a
class of patients with similar treatment plans and hospital length-of-stay. By estimating the total workload
of each class, we derive closed-form estimates for the
E. Furman
Department of Operations Management, Rotman School of
Management, Toronto, ON
A. Cressman
Division of General Internal Medicine, Temerty Faculty of
Medicine, University of Toronto, Toronto, ON
S. Shin
Li Ka Shing Knowledge Institute, St. Michael’s Hospital,
Toronto, ON
A. Kuznetsov
Department of Mathematics and Statistics, York University,
Toronto, ON
F. Razak, A. Verma,
Division of General Internal Medicine and Li Ka Shing
Knowledge Institute, St. Michael’s Hospital; Department of
Medicine and Institute of Health Policy, Management, and
Evaluation, University of Toronto, Toronto, ON
A. Diamant
Department of Operations Management and Information Systems, Schulich School of Business, Toronto, ON

expected amount of PPE required over a specified time
horizon using current PPE guidelines. We apply our approach to a data set of 22,039 patients admitted to the
general internal medicine department at St. Michael’s
hospital in Toronto, Canada from April 2010 to November 2019. We find that gloves and surgical masks represent approximately 90% of predicted PPE usage. We
also find that while demand for gloves is driven entirely by patient-practitioner interactions, 86% of the
predicted demand for surgical masks can be attributed
to the requirement that medical practitioners will need
to wear them when not interacting with patients.
Keywords Health Care · COVID-19 · Personal
Protective Equipment · Queueing Systems

List of Highlights
1. We propose an analytical demand prediction
tool for PPE usage based on queueing theory
that can be used in settings where PPE consumption is a function of a patient’s lengthof-stay in the hospital.
2. The modeling approach is flexible; it can
be deployed at multiple scales (departmental, hospital, regional), settings (outbreaks or
regular operations), and can be used by administrative personnel for operational planning and inventory management.
3. The general framework can accommodate the
wide-variability in patient volumes between
institutions, differences in the nature of typical patient-practitioner interactions at the
ward-level, and distinct hospital policies governing default PPE usage in non-patient encounters (e.g., mandatory masking). Thus,

2

it is expected to support planning activities
for various health systems to ensure the equitable distribution of PPE during times of
constrained supply.
4. The analytical framework can be applied
to non-medical settings, in particular, those
where PPE consumption is a function of the
length of a customers interaction with the organization.

1 Introduction
Personal protective equipment (PPE) includes items
such as surgical masks, face shields, gloves, eye protection, and gowns [12]. They are designed to protect the
wearer, and individuals they come in contact with, from
potential exposure to infectious diseases or other toxins
[33]. Although PPE is typically used in clinical settings,
it has become an essential commodity following the
recent outbreak of Coronavirus Disease (COVID-19).
That is, to combat the spread of the virus, many governments are mandating the use of PPE in public spaces
such as retail stores, restaurants, community centers,
and on public transit [e.g., 59]. Wearing a mask to conduct activities outside the home is now recommended
by the World Health Organization [89], the Centers for
Disease Control and Prevention [14], and the Government of Canada [11]. This non-pharmaceutical intervention is designed to slow the spread of COVID-19,
however, it has also resulted in large surges in demand
for PPE and, correspondingly, critical supply shortages
[41]. This has had a detrimental effect on the ability of
hospitals to source PPE [54] and outfit their staff [69].
In some cases, the inability to provide adequate PPE
to frontline health care workers has led to higher rates
of infection and death amongst patients [3].
In hospitals, PPE has traditionally been used to
protect healthcare workers when performing various
types of medical procedures [2, 6]. During the pandemic, however, PPE has become a requirement for virtually all patient-practitioner interactions; any time a
health worker enters a patient’s room or physically interacts with a patient, they may be required to wear
PPE. As a result, although patient volumes initially
decreased with the onset of the pandemic as many nonemergent procedures were postponed, there has been a
large increase in the use of PPE to manage urgent and
non-elective patient care [24]. For instance, in response
to the COVID-19 pandemic, the Canadian government
has ordered approximately 395 and 154 million surgical and N95 masks, respectively, to distribute directly
to hospitals [67]. As acute care facilities resume nor-

Eugene Furman et al.

mal operations (e.g., diagnostic testing, elective surgery,
ambulatory care), all staff, employees, and visitors will
likely be required to wear PPE at all times [78] while
additional PPE requirements will be mandated during
medical procedures [60]. This will put even more pressure on PPE supply chains which, in some health care
systems, face estimated delays of up to 6 months and
have had major distributors unable to fill orders [57].
Since one of the biggest obstacles to restarting normal
hospital operations is the consistent and timely supply
of PPE, these statistics are particularly troubling [24].
Given the importance of PPE in acute care centers, proactive PPE management has become an essential component in hospital operations [23]. Successful administration of PPE inventory is directly linked
to accurately predicting the demand for medical services, and in particular, the number and nature of all
patient-practitioner interactions [see 5, for instance].
Doing so is challenging due to the large number of diagnoses, clinical procedures, and surgical interventions
as well as the time-dependent nature of patient arrivals
[e.g., 94]. While various simulation studies have been
used to estimate hospital workload during the pandemic
[10, 76, 85], they are hard to replicate, time-consuming
to build, difficult to use effectively, and are not conducive to performing a comparative analysis that is required for prescriptive managerial decision-making.
In this work, we develop a time-varying queueing
model to predict the amount of PPE required in a clinical inpatient setting over a specified time horizon. As
has been well-established in the literature [e.g., 88, 94],
we assume that the process governing when patients arrive to the hospital is time-dependent. We then cluster
patients with similar hospital experiences (e.g., investigations, interventions) into classes and estimate their
length-of-stay (LoS) in the hospital as well as the PPE
requirements for each interaction with a practitioner.
We show that these dynamics can be modeled using
multiple independent Mt /G/∞ queues [see 55, for instance], one for each patient class, and as a consequence,
derive closed-form estimates for the expected amount of
PPE required during the time horizon.
Using a large data set of clinical, demographic, and
operational attributes from 22,039 patients admitted
to the general internal medicine (GIM) service at St.
Michael’s Hospital (a primary care facility in Toronto,
Canada) from April 2010 to November 2019, we demonstrate the practicality of our approach. We first validate
the assumption that time-varying demand is an appropriate modelling choice. We then describe how to group
patients into classes depending on the nature of their
medical interactions as well as their LoS values. Note
that this is an important step to ensure that patients in

Prediction of PPE in Hospitals During COVID-19

the same class have similar hospital experiences. Next,
we use our model to predict the yearly PPE requirements of the GIM service at St. Michael’s Hospital
when it returns to normal operations excluding those
patients who are diagnosed with COVID-19. Using the
current regulations governing PPE use at the hospital
and leveraging pre-pandemic patient volumes, we show
that the GIM service will need approximately 225,000
gloves, 11,500 gowns, 181,500 surgical masks, 7500 N95
masks, and 4000 face shields. Thus, gloves and surgical
masks represent approximately 90% of the predicted
PPE usage. We also find that while demand for gloves
is driven entirely by patient-practitioner interactions,
86% of the predicted demand for surgical masks can be
attributed to the requirement that medical practitioners will need to wear masks when not interacting with
patients. In addition, we show that our approach provides upper and lower bounds for the amount of PPE
that is predicted to be used. We also perform an analysis to determine the sensitivity of the predictions to the
number of patient classes chosen by the modeller.
We contribute to the operations research and medical literature by applying a queueing theoretical framework to a high-impact medical problem. To the best of
our knowledge, our work is the first to obtain closedform expressions for PPE usage in a hospital setting.
Our method is analytical, computationally efficient,
and does not require that a hospital develop an extensive simulation study. By deriving closed-form expressions, the sensitivity of the predictions to changes
in the model’s parameters can be evaluated. This helps
hospital administrators gain practical insight into the
dynamics of PPE usage which is especially valuable
for the effective management of a scarce resource in
a rapidly changing environment. Finally, we note that
our approach is easily scalable; it can be used to make
predictions for a single department, an entire hospital,
or be deployed at the regional or provincial level.

2 Literature Review and Contribution
To predict PPE consumption, we introduce a stochastic queueing framework with multiple independent
Mt /G/∞ queues to model the dynamics of distinct patient classes that are admitted to the hospital, receive
clinical care, and interact with practitioners. Pioneering theoretical work in the study of Mt /G/∞ systems
date back to Palm [63] and Khintchine [50] who show
that the number of jobs in the system at any time instant follows a Poisson process with a time-varying rate.
Since then, the extant literature has shown that departures from such queues also follows a non-homogeneous

3

Poisson process [see 9, 36, 37]. More recent work derives the expected number of jobs remaining in the
system after each departure, i.e., the number of busy
servers, for specific service distributions [30, 31]. Further, several studies derive the steady-state distribution
and fluid limit of systems with a periodic arrival rate
[28, 29, 86]. For a review of queueing systems with nonstationary demand, see the survey papers by Defraeye
and Van Nieuwenhuyse [26] and Whitt [87].
From a practical perspective, the number of applications that use Mt /G/∞ queues to model service systems is vast: they have been employed, for instance, to
evaluate the adequacy of storage systems [21], determine the readiness of military equipment [46, 22], estimate the occurrence of bugs in software testing [92],
and model the arrival of customers to in-bound call centers [51, 83]. Specific to healthcare, several studies have
used the model to analyse practitioner staffing and capacity management problems [94, 66, 40, 70]. Due to
the assumption of infinite capacity, Mt /G/∞ queues
are particularly useful in situations where service delay
is near zero [42]. The principle of zero waiting time is
common in the estimation of total workload for staffing
analyses and is also known as the offered load approximation [34, 47, 52, 39]. For instance, de Véricourt and
Jennings [84] model a medical unit as a closed queueing
network and determine optimal nurse-to-patient ratios.
There are also several papers that analyze the supply
of hospital beds and derive expressions to promote better management strategies in settings with time-varying
demand [43, 44, 95, 98]. We contribute to this literature
by using multiple Mt /G/∞ queues to derive closedform expressions to predict PPE consumption from an
offered load estimate of hospital workload.
Our work is related to the literature that develops best-practices for supply chain disruptions. Tang
[75], Stecke and Kumar [74] and Carbonara and Pellegrino [13] provide insight into how a supply chain
can respond to natural disasters, terrorist attacks, and
other unforeseeable emergencies. Logistics networks can
be built with redundant transportation routes [25],
suppliers are encouraged to invest in more robust infrastructure [27], and inventory postponement can be
employed to better understand the changing demandsupply relationship [19, 93, 20]. Nevertheless, especially
in demand-driven supply chains, these approaches are
not always useful in situations with extreme demand
volatility unrelated to infrastructure damage or logistical disturbances [15, 17, 80]. Instead, effective inventory
management and accurate demand predictions are crucial [16, 58, 68, 91]. We add to this literature by proposing an analytical demand prediction tool for PPE usage
that can be employed in settings with supply chain dis-

4

ruptions where consumption is a function of the length
of a customers interaction with an organization.
Specific to research on COVID-19, our analysis is related to studies that predict future demand for medical
services; see the surveys by Sahin et al. [72], Workman
et al. [90] and Harapan et al. [45]. Since the onset of the
pandemic, this literature has grown substantially. Some
studies employ deterministic compartmental modifications of Susceptible-Infected-Recovered (SIR) models
which are parameterized by empirical studies [77, 10, 7].
Such methods result in systems of differential equations
that must be solved numerically to obtain predictions
or insight related to possible public health initiatives
[53]. Other studies combine dynamic SIR models with
Bayesian inference techniques [see 18, for example] or
propose stochastic Markov models to predict the spread
of the disease [see 97, for example]; solutions are obtained by performing a simulation analysis. Stochastic
implementations of SIR models are also common in the
literature [4, 49, 73]. We provide an approach that can
be used alongside these models. In particular, given a
PPE policy and a (potentially) time-varying demand
curve for hospital services using one of the above methods, our model derives a closed-form expression for PPE
usage and can be employed during a COVID-19 outbreak or after regular operations have resumed.
Finally, our work contributes to the literature on
critical shortages of PPE during the COVID-19 pandemic. While many studies leverage COVID-19 transmission models to evaluate the effectiveness of nonpharmaceutical containment strategies [e.g., 32, 35, 96],
the literature predicting demand for PPE is scarce.
Some authors propose qualitative techniques to manage PPE in a medical setting [71, 69]. These strategies
are consistent with practices that are used when there
are demand and/or supply disruptions in the pharmaceutical industry [see 38, for example]. Other papers use
simulation-based frameworks to derive PPE usage [5].
These approaches are difficult to reproduce, and thus,
their estimation error is hard to quantify. Our work is
the first to propose an analytical predictive model of
PPE demand in a clinical setting that can be deployed
at multiple scales (departmental, hospital, regional),
settings (outbreaks or regular operations), and can also
be independently used by administrative personnel for
operational planning and supply management.

3 Model Formulation and Workload Estimation
In this section, we introduce a general stochastic queueing model and describe its suitability in estimating the
amount of PPE required for a hospital department. Let

Eugene Furman et al.

I be a set of patient classes defined using manageriallyrelevant features, for instance, demographic characteristics, patients with varying acuity levels, clinical diagnoses, and length-of-stay. Classes should be chosen such
that all patients in class-i ∈ I have similar care paths,
i.e., a sequence of medical investigations and interventions, and LoS values. Class i patients are assumed to
arrive to the hospital and be admitted according to
a non-homogeneous Poisson process Λi (t) with timevarying intensity λi (t) ∈ C1 . Further, each class-i patient stays at the hospital for a random time Si which
represents their length-of-stay (LoS); we define the corresponding stochastic vector S := (S1 , S2 , ..., SI ). The
LoS for each patient within each class is independent
and identically distributed where class-i patients have
cumulative distribution function Gi . Finally, we assume
that Si is independent from Λi (t) for any time t ∈ R.
Our goal is to estimate the total clinical workload
of a hospital department, which in turn, will allow us
to predict the PPE required. In practice, a decision
to admit a patient to an inpatient service is only
possible if there is available capacity. In general,
hospital capacity is continuously monitored and
dynamically adjusted to meet regional demand;
only in the most extreme circumstances will patients be turned away [61, 62]. Consequently, we do
not restrict hospital capacity and instead, assume that
practitioners can provide medical care to any admitted
patient as soon as they arrive. That is, we estimate the
total workload of a hospital department by aggregating the workload from I = |I| independent Mt /G/∞
queues leveraging the merging/splitting property of a
Poisson process. In this regard, our approach provides a theoretical upper bound on PPE usage.
However, this modelling assumption has been
used in many service settings including those
that model demand for hospital resources [64].
Furthermore, it represents a good approximation of reality since our study of PPE consumption begins after a patient is physically admitted
to the hospital and usage is based on historical data which implies that all arriving patients
were served.
Inferring the workload from such systems is a standard modelling technique in the operations literature
[31, 55, 34]. In addition, patients transferred from one
clinical service to another are considered discharged
by the former and newly admitted by the latter. Such
events are rare and thus, we can consider these individuals as new arrivals for estimation purposes. Note that
the intensive care unit (ICU) constitutes an exception
to this rule: between 5 to 10 percent of GIM patients are
transferred to the ICU at least once over the duration

Prediction of PPE in Hospitals During COVID-19

of their treatment. In this study, we consider the ICU
as an external service, and, thus, subtract the times
patients spend there from their total length-of-stay.
Let {∆i (t)|t ∈ R} be a headcount stochastic process
corresponding to the number of class i patients being
discharged over the interval [0, t]. Applying Theorem 1
in Eick et al. [31], we obtain the steady-state probability distribution of ∆i (t). Because the GIM service
has been continuously operating for a long time, the
steady-state assumption is appropriate in our setting.
Specifically, the number of class i patients discharged
over the interval [0, t] is given by {∆i (t)|t ∈ R} which
is a non-homogeneous Poisson process with mean
Z tZ ∞
λi (u − s)dGi (s)du
∀i ∈ I.
(1)
E[∆i (t)] :=
0

5

model can be naturally extended to account for patients with shared accommodations. Further, hospital
policy dictates that clinicians wear a surgical mask and
a face shield for all interactions with hospitalized patients. Additional precautions may be used by hospital
staff and clinicians when performing particular procedures and/or assessments. There may also be separate
regulations for patients who are placed in a higher level
of isolation, such as those diagnosed with COVID-19.
As a result, we define Qm
n to be the total quantity of
type n ∈ {1, 2, ..., N } PPE used by employees when no
interaction with patients takes place and Qui,n to be the
amount of type n PPE used by medical staff during interactions with class i patients. Thus, the total demand
for type n PPE is given by

0

Notice that, following the framework of Eick et al. [31],
we assume t ∈ R but only consider the dynamics of the
system at times t ≥ 0.
Unfortunately, for most LoS distributions, (1) must
be computed numerically as closed-form expressions do
not exist unless, for example, Gi is exponentially distributed. In addition, the departure process ∆i (T ) is
dependent on the LoS of class-i patients. As a result,
we condition on the individual quantiles of the LoS distribution for each class i ∈ I. More specifically, let σi
be the desired quantile value for class-i patients where
we define σ := (σ1 , . . . , σI ) and let ∆i (t; σi ) denote
the departure process of class-i patients conditioned on
Si = σi for each i ∈ I. Thus, {∆i (t; σi )|t ∈ R} is a
headcount stochastic process that represents the number of class i patients discharged over the interval [0, t]
with LoS value equal to σi . This corresponds to a nonhomogeneous Poisson process with mean
Z t
:=
E[∆i (t, σi )]
λi (u − σi )du
∀i ∈ I.
(2)
0

3.1 Prediction of Demand for PPE
Multiple types of PPE are used in clinical settings, such
as surgical masks, N95 respirators, gloves, face shields,
etc. Further, demand for different kinds of PPE varies
depending on the nature of the interaction between patients and practitioners as well as current public health
regulations and institutional guidelines [see 60, 5, for
instance]. Thus, we assume that a hospital uses N different types of PPE in its daily operations.
Total demand of PPE comprises all protective
equipment used by employees, i.e., medical staff, and
patients. Although, in this study, we assume that patients admitted to the hospital occupy separate rooms
and do not need to wear PPE while on their own, our

Qn := Qm
n +

I
X

Qui,n

∀n ∈ {1, 2, . . . , N }.

(3)

i=1

We assume, without loss of generality, that PPE is not
reused but discuss this extension in Section 4.3.
Define m := (m1 , m2 , . . . , mN )0 to be a vector such
that element mn represents the average number of type
n PPE items used daily by an employee when not interacting with patients. Then,
Qm
n = mn W (T )

∀n ∈ {1, 2, . . . , N },

(4)

where W (T ) is the number of estimated work days of all
medical employees over the planning horizon. In particular, note that we assume Qm
n increases linearly in the
workload W (T ). Discussions with medical practitioners
indicate that this is the most appropriate model.
Suppose there are J different categories of clinical interactions such as nursing (e.g., vital signs measurement, medication administration), physician visits,
medical testing, and surgical procedures. Define an I×J
matrix C where element ci,j is the average daily number of clinical interactions from category j that are required by a class i patient (note: median values can also
be used to reduce the effect of outliers although we did
not observe any appreciable difference in our results).
We also define an I × J matrix U n such that element
uni,j represents the average number of type n PPE items
used during each category j interaction with a patient
of class i (see Table 6 in the Appendix). Then, conditioning on the LoS value S = σ as well as the
average daily number of clinical interactions and
the corresponding PPE usage, we estimate Qui,n
to be
Q̂ui,n = σi ∆i (T ; σi )

J
X

ci,j uni,j

j=1

∀i ∈ {1, 2, . . . , I}, ∀n ∈ {1, 2, . . . , N },

(5)

6

Eugene Furman et al.

Notice that ci,j uni,j represents the average daily
number of type n PPE used by class i patients during
all medical interactions belonging to category j. Aggregating over each j and multiplying by the stochastic
quantity Si gives the average number of type n PPE
used by a class i patient during their length-of-stay in
the hospital. Finally, multiplying these terms by the
integral of the headcount stochastic process gives the
average amount of type n PPE used by all class i patients discharged over the specified time horizon T .
As noted above, ∆i (T ) and Si are dependent, i.e.,
the number of discharged patients at time t is a function of the LoS of class-i patients. This makes deriving
the marginal expectation of Qn cumbersome to obtain.
Instead, in the following lemma, we leverage (2) and
derive the conditional expectation of Qn given that the
LoS of class-i patients is fixed to a given quantile.
Lemma 1 (Conditional Expectation) For every i,
suppose σi > 0 and T > σi . Then,
E[Q̂n ] =

I
X
i=1

σi

J
X
j=1

ci,j uni,j

Z

T

λi (u − σi )du

(6)

0

+ mn W (T ), ∀n ∈ {1, 2, . . . , N }.
Equation (6) is derived by conditioning on a particular quantile of the LoS distribution. For example, if
σi = E[Si ] for all i ∈ I, then for a class-i patient, (6)
considers the dynamics of the average stochastic path
of the departure process ∆i (t; σi ) as the total number of
paths grows to infinity. Further, as the variances of the
hospital LoS and the average daily counts of medical
interactions decrease, the gap between the conditional
(Q̂n ) and unconditional expectation of the demand for
type n PPE (Qn ) also decreases. Thus, (6) provides
a better approximation to the demand for PPE if the
classes of patients are selected such that their LoS and
treatment requirements are relatively similar; this motivates why patients should first be clustered into I
classes.

4 Data Description and Results
We apply our approach to estimate the PPE needs for
the GIM service at St. Michael’s hospital. The GIM
accounts for approximately 40% of all emergency department admissions to the hospital [81] and cares for
patients with a broad range of diseases [82] while focusing on cases with complex medical needs. Because
the operations at St. Michael’s Hospital is directly affected by the COVID-19 pandemic, effective prediction
of PPE usage is critical to their inventory planning and
their ability to deliver adequate medical care.

To parameterize our predictive model, we used 9
years of data from April 2010 to November 2019 collected from St. Michael’s Hospital by the General
Medicine Inpatient Initiative (GEMINI) [81]. The data
set includes both administrative and clinical records of
discharged patients. GEMINI data sets have been rigorously validated and are demonstrated to be highly
reliable [65]. Our data set comprises of 37,492 hospital admissions for 22,039 unique patients whose median
age is 66 years old (52, 79), where values in brackets
correspond to the first and third quartile, respectively.
Approximately 43% of hospital admissions to the GIM
are by female patients and the five most common clinical diagnoses are chronic obstructive pulmonary disease
and bronchiectasis (6%), pneumonia (5%), acute cerebrovascular disease (5%), urinary tract infections (5%),
and gastrointestinal hemorrhages (4%).
The median value for LoS is 4.83 days (2.58, 9.54)
which suggests an asymmetrical probability distribution. We determine the average daily counts of medical interactions per patient (see Table 7 in the Appendix for an example of the average counts of
each interaction per patient type) as well as the
corresponding type of interaction and PPE usage from
the data set and by interviewing medical experts in
the partner hospital (see the Appendix for details on
the semi-structured interview protocol). Notice that Table 6, provided in the Appendix, displays the average
amount of PPE used during all medical interactions in
addition to the items already worn by clinical staff when
not interacting with patients. Thus, in cases where no
additional PPE is required, the value in the table is
equal to zero. Alternatively, some medical interactions
are conducted by multiple practitioners which means
that a larger amount of PPE is required. For example,
surgical procedures typically require two porters, a surgeon and one or two trainees, an anesthesiologist, and
two nurses.
When not interacting with patients, medical staff
require two surgical masks per shift (which is approximately 12 hours in length) and one face shield per week.
The GIM service at St. Michael’s Hospital requires 50
nurses, 4 phlebotomists, 10 porters, 20 doctors, 3 physiotherapists, 3 occupational therapists, 2 dietitians, 2
language pathologists, and 3 discharge planners each
day. For simplicity, we assume that shifts of all medical
staff are of the same length. Notice that this assumption is easy to relax. Finally, we consider seven types
of PPE (N = 7): gloves, gowns, surgical masks, N95
masks, face shields, bouffants, and boot covers.
We use equation (6) to derive an annual estimate of
PPE usage by clustering all patients into classes based
on the nature of their medical interactions as well as

Prediction of PPE in Hospitals During COVID-19

7

Table 1: Summary of the notation.
λi (t)
Si
S
σi
σ
Gi (t)
∆i (t)
∆i (t; σi )
Qn
Qm
n
Qui,n
C
m
Un

class i patient’s rate of admission to the hospital
random variable corresponding to the hospital length-of-stay of a class i patient
I × 1 stochastic vector of length-of-stay random variables
desired quantile value chosen for the length-of-stay distribution of a class i patient
I × 1 vector of length-of-stay quantile values
cumulative distribution function for the length of stay of class i patient
stochastic process counting the number of class i patients discharged over [0, t]
stochastic process counting the number of class i patients discharged over [0, t] conditional on Si = σi
total stochastic demand for type n PPE
total stochastic demand for type n PPE by all hospital employees while not interacting with patients
total stochastic demand for type n PPE by all hospital employees during their interactions with class i patients
I × J matrix of average daily counts of medical interactions j required by class i patient
N × 1 vector of average daily counts of type n PPE used by hospital employees while not interacting with patients
I × J matrix of average number of type n PPE used during medical interaction j with a class i patient

their length-of-stay within the hospital. To account for
the aforementioned asymmetry in the LoS distribution,
and since (6) computes a conditional expectation, we
evaluate PPE usage assuming that LoS remains at one
of its quantile values for each class. We fix our planning
horizon (T ) to one year (365 days) and estimate the
R T −σ
value of 0 i λi (u)du by calculating the number of
class-i discharges that occur during a typical year prior
to the pandemic. In the remainder of this section, we
confirm that a non-homogeneous Poisson distribution
best describes the arrival process. We then discuss how
we cluster patients into classes and present estimates of
the projected annual PPE usage.

4.1 Testing the Non-homogeneous Poisson Assumption
Because our data set contains the arrival times and discharge times of each patient, the number of discharges
from the GIM over a planning horizon can be computed
without evaluating the integral in (6). However, there
are many cases where such fine-grained data is not available. In such settings, only arrival times and/or LoS
values may be accessible. In other cases, the prediction
interval set by the modeller may be sufficiently short
(e.g., daily or weekly) which necessitates the evaluation of a functional form of departing patients at time
t. In these scenarios, computing the integral is essential.
Therefore, both for completeness and to ensure that the
analytical representation of the demand for PPE in (6)
is valid, we test the assumption that the arrival process
follows a non-homogeneous Poisson distribution.
We closely follow the procedure described in Brown
et al. [8], i.e., we test the null hypothesis (H0 ) that
admissions to the GIM follow a Poisson distribution
with a piecewise constant rate. To do this, we break
up the planning horizon into progressively smaller non-

overlapping time intervals. Note that, for this analysis,
we consider admissions to the GIM from the two most
recent years in order to account for possible changes
in the demand for GIM services. We then continue to
decrease the length of these intervals until the arrival
rate remains stationary over at least 90% of the constructed intervals. We test the hypothesis of stationarity by applying the Kolmogorov-Smirnov (KS) test and
confirming that, for each time interval, the logarithmically transformed arrival times can be modeled by
independent standard exponential random variables.
Table 2: Testing the non-homogeneous Poisson assumption for different time intervals.
Number of Intervals

Length (days)

% Not Rejected By KS Test

10
20
30
40
80
800

90.8
43.0
28.2
21.0
10.3
1.00

0.00
35.00
63.30
80.00
88.75
90.38

According to Table 2, as the length of each interval
reduces to one day, the arrival rates over 90% of the intervals follow a Poisson distribution with a stationary
rate according to the KS test (0.05 significance level).
This implies that a non-homogeneous Poisson distribution best describes the arrival rate and that a Mt /G/∞
modelling framework is appropriate for this application.

4.2 Clustering Results
To ensure patient classes have similar care paths and
LoS values, we cluster patients into groups based on the
nature of their medical interactions (15 types) and LoS

8

(see Table 6 in the appendix). In our data set, each medical intervention is captured by a set of timestamps. To
avoid counting the same patient-practitioner interaction multiple times, as advised by our medical co-authors, we assume that all timestamps
within a one-hour interval are related to a single interaction. This assumption is critical as some
interactions between patients and practitioners result
in multiple timestamps that are minutes apart (e.g., vital signs, the administration of drugs, and laboratory
test collections) and, thus, reflect a single episode of
PPE use. Robustness checks confirm that while
varying this time interval only slightly affects
the estimates, reducing the interval to zero is
susceptible to a significant amount of doublecounting.
We use the Uniform Manifold Approximation and
Projection (UMAP) algorithm paired with the k-means
clustering algorithm to group patients into classes.
UMAP is a dimensionality reduction technique based
on Riemannian geometry and algebraic topology that
projects high-dimensional data (15 types of medical interactions and LoS) onto a two-dimensional space; see
Figure 1a for a visual representation. The smaller total squared error within a cluster implies that there is
a high similarity of patients assigned to that class. It
also improves the quality of our conditional estimate
of demand for PPE. Thus, we determine the optimal
number of clusters by applying the k-means clustering algorithm which minimizes the total squared error
within each cluster. We then use the elbow method to
determine the best value of k [48]; this balances the
tradeoff between minimizing the within-cluster
variance while ensuring that the number of patients in each cluster is large enough such that
the corresponding LoS estimate is meaningful.
As demonstrated in Figure 1b, the within cluster error decreases slowly as the number of clusters exceeds
7; adding more clusters does not model the data significantly better. For more information on the clustering
approach, please see the Appendix and Table 5.
To illustrate the effect of our clustering procedure,
we present a quantile summary of the LoS (days) distribution by comparing non-clustered patients to the clustered results. Having relatively similar LoS values
in each cluster is important as we would like
its within-cluster variation to be small so that
the gap between our conditional estimates and
their corresponding marginal quantities are negligible. If all patients are assigned to a single class,
one quarter stay in the GIM between 0 and 1.9 days
(first quartile); similarly, 25% of patients remain in the
GIM more than 7.9 but less than 354.2 days (fourth

Eugene Furman et al.

Fig. 1: Clustering results.
(a) Cluster Visualization

(b) Elbow Plot

quartile). The clustered patients, however, have more
similar LoS ranges. In particular, cluster one contains
patients who remain in the GIM for a very short period
of time, cluster two and three are assigned patients who
stay in the hospital less than one week, cluster four includes patients who stay in care less than 11 days, cluster five includes patients with LoS shorter than 20 days,
and cluster six includes patients who stay in the facility
significantly longer. Cluster seven, which contains approximately 1% of patients, represent the departments

Prediction of PPE in Hospitals During COVID-19

9

Table 3: The effect of clustering on the different quantiles for the LoS distribution (days).
0%

25%

50%

75%

100%

Cluster 1 of 1 (100%)

0.0

1.9

3.9

7.9

354.2

Cluster
Cluster
Cluster
Cluster
Cluster
Cluster
Cluster

0.0
0.1
0.4
5.3
10.8
20.4
59.0

0.5
1.7
3.7
6.9
12.7
24.2
65.6

0.8
2.3
4.5
7.9
14.3
29.2
82.0

1.4
2.9
5.2
9.3
16.6
35.8
128.2

4.8
6.4
7.1
11.7
20.9
57.0
354.2

1
2
3
4
5
6
7

of
of
of
of
of
of
of

7
7
7
7
7
7
7

(18%)
(27%)
(22%)
(17%)
(10%)
(6%)
(1%)

heaviest users. We note that some clusters have overlapping LoS ranges because other factors describing their
care path differ.

4.3 PPE Estimation Results
We apply equation (6) to compute the total demand
for type n PPE using 5, 6, 7, and 8 cluster partitions.
To describe its distribution, we condition our estimates
on the quartiles of the LoS and present the results in
Table 4, where the first and third rows per each cluster
quantity correspond to the lower and upper bounds of
PPE usage. According to the seven-cluster estimates in
Table 4, gloves and surgical masks are the most prevalent items as they constitute 90% of the total PPE predicted. Further, the annual usage of gowns represents
only 3% (similarly to bouffants and boot covers) of the
total (454,324) amount of PPE used, while N95 masks
constitute only 2%. As a reminder, due to the nature
of our data, these estimates account for non-COVID19 patients only, i.e., those patients who are not under
investigation for the Coronavirus. However, our model
is flexible enough and can accommodate these patients
as separate classes if the data becomes available.
Table 4 also helps to understand the sensitivity of
our results to the number of patient classes specified
by the modeller. In general, we observe higher predictions in the amount of PPE as the number of clusters
increases. This is because the average and median values of features included in the clustering procedure are
more heavily influenced by larger-valued observations.
However, the increase in predicted PPE usage with the
number of clusters is sample specific; data sets with
fewer outliers may have a decreasing pattern. Although
using more clusters decreases the total squared error,
fewer data points contribute to the length-of-stay estimate. This may lead to an inaccurate prediction for the
LoS distribution even though patients may have similar
care plans. Furthermore, the estimates may overfit to

the data in the sample. Thus, we advise that a modeller
does not increase the number of clusters too far beyond
the point that is recommended by the elbow method.
We find that some types of PPE, such as surgical
masks and face shields, show little variation in forecasted demand. That is, their quartile estimates are
similar regardless of the number of patient classes chosen. This is because the majority of the annual need for
these types of PPE occur when practitioners are not
interacting with patients; the estimate is 156,220 and
3,906 for surgical masks and face shields, respectively.
Thus, while demand for gloves is solely driven by the
number of medical interactions, 86% of surgical mask
use is driven by the requirement that medical employees
must wear a mask whilst in the hospital.
Finally, we note that the above approach can be
adapted to address situations where PPE can be reused.
In particular, let γn be the proportion of type n PPE
which can be reused over rn interactions. Then, (1 −
γn )E[Q̂n ] + γrnn E[Q̂n ] represents the total predicted demand of type n PPE.
5 Conclusions
In this paper, we use theory from time-varying queueing models to present a prediction framework that can
be used to forecast the amount of PPE required over a
specified time horizon. To this end, we first cluster patients with similar hospital experiences into classes and
estimate their LoS in the hospital as well as the PPE requirements of each patient-practitioner interaction. By
demonstrating that the dynamics of each patient class
can be modelled using an Mt /G/∞ queue, we present
closed-form estimates for the expected amount of PPE
required for each patient class and aggregate the results
together to generate a prediction of PPE usage.
We contribute to the pandemic and supply chain
disruption literature by helping practitioners mitigate
unexpected changes in demand when disruptions do not
affect the operation of a service, but instead, prompt
new mandatory regulations that affect the equipment
used in its performance. Moreover, our analysis provides bounded estimates that anticipate the timevariability in the system. In particular, using current
PPE-usage guidelines under COVID-19, we find that
the general internal medicine department at our partner hospital must anticipate much higher demand for
gloves and surgical masks than gowns. The former comprises 90% of the total 454,324 items predicted while
the latter accounts for only 3% of the annual PPE usage. In addition, our analysis suggests that only 14%
of demand for surgical masks in a hospital setting is
caused by interactions with patients. Thus, an annual

10

Eugene Furman et al.

Table 4: Prediction of PPE usage as a function of the number of clusters.
LoS Quartile

Gloves

Gowns

Surgical Masks

N95 Masks

Face Shields

Bouffants

Boot Covers

3,906
3,906
3,906

6,422
10,748
13,785

6,422
10,748
13,785

3906
3906
3906

6,935
11,348
14,517

6,935
11,348
14,517

3,906
3,906
3,906

6,779
11,721
14,433

6,779
11,721
14,433

3,906
3,906
3,906

7,839
11,850
14,163

7,839
11,850
14,163

Five Clusters (I = 5)
Q1
Median
Q3

122,771
206,459
264,107

6,422
10,748
13,785

169,193
180,093
187,208

4,094
6,891
8,787

Six Clusters (I = 6)
Q1
Median
Q3

134,232
219,111
279,440

6,935
11,348
14,517

169,917
180,954
188,221

4,385
7,239
9,203

Seven Clusters (I = 7)
Q1
Median
Q3

129,216
226,007
277,995

6,779
11,721
14,433

169,233
181,774
187,989

4,229
7,476
9,161

Eight Clusters (I = 8)
Q1
Median
Q3

151,878
229,751
274,123

7,839
11,850
14,163

171,964
182,296
187,491

estimate of usage for this type of PPE is expected to
be less volatile than the anticipated demand for gloves.
As suggested in Section 3, our approach is versatile
and computationally efficient. A simple application of
Lemma 1 admits a back-of-the-envelope calculation. In
this case, the aggregate number of departures from the
system per patient type as well as a quantile estimate
for the LoS are sufficient to derive bounded conditional
estimates of PPE usage. Contrary to Barrett et al. [5],
for instance, our predictions do not require that an extensive simulation study be constructed; the technique
we develop is not restricted to estimates of PPE during a quarantine and can be applied to other settings
such as normal hospital operations. In addition, our approach may be used for a comparative analysis. For example, if patient classes are pre-specified by a medical
practitioner, the demand for PPE can be estimated and
compared for multiple choices of arrival functions and
LoS distributions over a planning horizon of arbitrary
length. Our time-varying queueing framework naturally
accommodates this exploratory approach by providing
an analytical way of estimating the total number of departures conditioned on a carefully selected LoS value.
Although our PPE prediction tool can be applied to
a wide variety of clinical settings, our study includes a
number of data-specific limitations. First, our modeling approach assumes that the total hospital capacity is always sufficient to satisfy the demand.
Thus, our analytical framework provides a theo-

4,980
7,610
9,051

retical upper bound on PPE usage. In practice,
however, hospital records only contain information on patients who have been admitted. Thus,
data-driven PPE usage predictions all implicitly make this assumption. Second, the guidelines
governing the use of PPE for each type of medical interaction, as summarized in Table 6 in the Appendix,
is distinct to St. Michael’s Hospital. These estimates
may vary depending on the location and clinical focus
of the medical institution under consideration. Third,
we estimate the clinical workload generated by typical
medical interactions based on the data collected prior
to the COVID-19 pandemic, i.e., we exclude both confirmed COVID-19 patients and patients who are under investigation for the virus. As this data becomes
available, the PPE needs for these patient categories
can be estimated and added to the prediction model.
Fourth, while 15 important types of clinical interactions
are captured in the data set, some are represented more
crudely than others. For example, a nurse who assists a
patient with toileting or bathing is not captured. As a
result, our approach may underestimate the hospital’s
overall PPE needs. However, these limitations may be
addressed by collecting additional data. To this end,
future research should seek to validate the predicted
estimates of PPE usage against real-world demand.
Despite these limitations, our methodology complements ongoing efforts that help to manage supply
chains during the COVID-19 pandemic. For instance,

Prediction of PPE in Hospitals During COVID-19

using an arrival function estimated by SIR models, we
can derive the corresponding PPE requirements over
a planning horizon of arbitrary length. Our study also
shows good synergy with emerging platforms that connect PPE suppliers to consumers [1, 79] as consumers
can more accurately predict their PPE usage and liaise
with suppliers that have the requisite capacity.
Acknowledgements The authors would like to acknowledge the important contributions of our key stakeholders
including Shirley Bell (Nurse Manager for General Internal
Medicine), David Nelson (Medical Imaging Manager), Janice
Barnett (Cardiac Sonography and Team Leader), Dr. Samir
Grover (Gastroenterologist), Dr. Kieran McIntyre (Respirologist) and Dr. Karim Ladha (Anaesthesiologist).

References
1. Afèche P, Baron O, Hu M, Krass D (2020) COVID PPE
HELP. Accessed from http://www.covidppehelp.ca/
2. Akduman D, Kim LE, Parks RL, L’Ecuyer PB, Mutha
S, Jeffe DB, Evanoff BA, Fraser VJ (1999) Use of personal protective equipment and operating room behaviors in four surgical subspecialties: personal protective
equipment and behaviors in surgery. Infection Control
and Hospital Epidemiology: The Official Journal of the
Society of Hospital Epidemiologists of America 20(2)
3. Balmer C, Pollina E (2020) Italy’s Lombardy asks retired health workers to join coronavirus fight. In: World
Economic Forum, Reuters
4. Bardina X, Ferrante M, Rovira C (2020) A stochastic
epidemic model of COVID-19 disease. arXiv preprint
arXiv:200502859
5. Barrett K, Nakamachi Y, et al. (2020) Estimated
demand for personal protective equipment for Ontario
acute care hospitals during the COVID-19 pandemic. Accessed from https://drive.google.com/file/
d/1LEW0irL6426OIYtVYo-s-XMHrvxalVh1/view?usp=
sharing
6. Benson SM, Novak DA, Ogg MJ (2013) Proper use of
surgical N95 respirators and surgical masks in the OR.
AORN journal 97(4):457–470
7. Biswas K, Khaleque A, Sen P (2020) COVID-19 spread:
Reproduction of data and prediction using a SIR model
on Euclidean network. arXiv preprint arXiv:200307063
8. Brown L, Gans N, Mandelbaum A, Sakov A, Shen H,
Zeltyn S, Zhao L (2005) Statistical analysis of a telephone
call center: A queueing-science perspective. Journal of the
American statistical association 100(469):36–50
9. Brown M (1969) An invariance property of poisson processes. Journal of Applied Probability 6(2):453–458
10. Calafiore GC, Novara C, Possieri C (2020) A modified
SIR model for the COVID-19 contagion in Italy. arXiv
preprint arXiv:200314391
11. Canadagov (2020) Non-medical masks and face coverings: About. Accessed from https://www.canada.ca/
en/public-health/services/diseases/2019-novelcoronavirus-infection/prevention-risks/aboutnon-medical-masks-face-coverings.html

11
12. Canadian Centre for Occupational Health and Safety
(2018) Personal Protective Equipment (PPE). Accessed
from https://www.ccohs.ca/teach tools/phys hazards/
ppe.html
13. Carbonara N, Pellegrino R (2018) Real options approach
to evaluate postponement as supply chain disruptions
mitigation strategy. International Journal of Production
Research 56(15):5249–5271
14. CDC (2020) CDC calls on Americans to wear
masks to prevent COVID-19 spread. Accessed from
https://www.cdc.gov/media/releases/2020/p0714americans-to-wear-masks.html?start=yes
15. Chan FT, Chung SH (2004) A multi-criterion genetic algorithm for order distribution in a demand driven supply chain. International Journal of Computer Integrated
Manufacturing 17(4):339–351
16. Chen F, Federgruen A, Zheng YS (2001) Coordination
mechanisms for a distribution system with one supplier
and multiple retailers. Management Science 47(5):693–
708
17. Chen K, Xiao T (2009) Demand disruption and coordination of the supply chain with a dominant retailer. European Journal of Operational Research 197(1):225–234
18. Chen X, Qiu Z (2020) Scenario analysis of nonpharmaceutical interventions on global COVID-19 transmissions. arXiv preprint arXiv:200404529
19. Chiou JS, Wu LY, Hsu JC (2002) The adoption of form
postponement strategy in a global logistics system: the
case of taiwanese information technology industry. Journal of Business Logistics 23(1):107–124
20. Choi K, Narasimhan R, Kim SW (2012) Postponement
strategy for international transfer of products in a global
supply chain: A system dynamics examination. Journal
of operations Management 30(3):167–179
21. Crawford G (1977) Wrsk/blss analysis, the plansoriented requirements model. Headquarters Pacific Air
Forces/OA, March
22. Crawford GB (1981) Palm’s theorem for nonstationary
processes. Tech. rep., RAND CORP SANTA MONICA
CA
23. Crawley M (2020) How Ontario hospitals are preparing for a surge in COVID-19 cases. Accessed from
https://www.cbc.ca/news/canada/toronto/covid-19coronavirus-ontario-hospitals-emergency-plans1.5504991
24. Daly R (2020) After patient volume collapsed amid
the coronavirus pandemic, some see signs of recovery.
Accessed from https://www.hfma.org/topics/news/
2020/05/after-patient-volume-collapsed-amid-thecoronavirus--some-see-si.html
25. Dash SR, Mishra US, Mishra P (2013) Emerging issues
and opportunities in disaster response supply chain management. International Journal of Supply Chain Management 2(1):55–61
26. Defraeye M, Van Nieuwenhuyse I (2016) Staffing and
scheduling under nonstationary demand for service: A
literature review. Omega 58:4–25
27. Dolinskaya I, Besiou M, Guerrero-Garcia S (2018) Humanitarian medical supply chain in disaster response.
Journal of Humanitarian Logistics and Supply Chain
Management

12
28. Dong J, Whitt W (2015) Stochastic grey-box modeling
of queueing systems: fitting birth-and-death processes to
data. Queueing Systems 79(3-4):391–426
29. Dong J, Whitt W (2015) Using a birth-and-death process
to estimate the steady-state distribution of a periodic
queue. Naval Research Logistics (NRL) 62(8):664–685
30. Eick SG, Massey WA, Whitt W (1993) Mt /G/∞
queues with sinusoidal arrival rates. Management Science
39(2):241–252
31. Eick SG, Massey WA, Whitt W (1993) The physics of
the Mt /G/∞ queue. Operations Research 41(4):731–742
32. Evgeniou T, Fekom M, Ovchinnikov A, Porcher R, Pouchol C, Vayatis N (2020) Epidemic Models for Personalised COVID-19 Isolation and Exit Policies Using Clinical Risk Predictions. Available at SSRN 3588401
33. FDA (2020) Personal Protective Equipment for Infection
Control. Accessed from https://www.fda.gov/medicaldevices/general-hospital-devices-and-supplies/
personal-protective-equipment-infection-control
34. Feldman Z, Mandelbaum A, Massey WA, Whitt W
(2008) Staffing of time-varying queues to achieve timestable performance. Management Science 54(2):324–338
35. Flaxman S, Mishra S, Gandy A, Unwin HJT, Coupland
H, Mellan TA, Zhu H, Berah T, Eaton JW, Guzman PN,
et al. (2020) Estimating the number of infections and the
impact of non-pharmaceutical interventions on COVID19 in European countries: technical description update.
arXiv preprint arXiv:200411342
36. Foley RD (1982) The non-homogeneous M/G/∞ queue.
Opsearch 19(1):40–48
37. Foley RD (1986) Stationary poisson departure processes
from non-stationary queues. Journal of applied probability pp 256–260
38. Fox ER, Birt A, James KB, Kokko H, Salverson S,
Soflin DL (2009) Ashp guidelines on managing drug product shortages in hospitals and health systems. American
Journal of Health-System Pharmacy 66(15):1399–1406

Eugene Furman et al.
46. Hillestad RJ, Carrillo MJ (1980) Models and techniques
for recoverable item stockage when demand and the repair process are nonstationary. part i. performance measurement. Tech. rep., RAND CORP SANTA MONICA
CA
47. Janssen A, Van Leeuwaarden JS, Zwart B (2011) Refining square-root safety staffing by expanding Erlang C.
Operations Research 59(6):1512–1522
48. Joshi KD, Nalwade P (2013) Modified k-means for better
initial cluster centres. International Journal of Computer
Science and Mobile Computing 2(7):219–223
49. Karako K, Song P, Chen Y, Tang W (2020) Analysis of
covid-19 infection spread in japan based on stochastic
transition model. Bioscience trends
50. Khintchine AY (1955) Mathematical methods in the theory of queueing, charlesgriffin, london, 1960. KhintchineMathematical Methods in the Theory of Queueing1960
51. Khudyakov P, Feigin PD, Mandelbaum A (2010) Designing a call center with an IVR (Interactive Voice Response). Queueing Systems 66(3):215–237
52. Liu Y (2018) Staffing to stabilize the tail probability of
delay in service systems with time-varying demand. Operations Research 66(2):514–534
53. Liu Y, Gayle AA, Wilder-Smith A, Rocklov J (2020) The
reproductive number of COVID-19 is higher compared to
SARS coronavirus. Journal of travel medicine
54. Livingston E, Desai A, Berkwits M (2020) Sourcing
personal protective equipment during the covid-19 pandemic. JAMA 323(19):1912–1914
55. Massey WA, Whitt W (1993) Networks of infinite-server
queues with nonstationary poisson input. Queueing Systems 13(1-3):183–250
56. McInnes L, Healy J, Melville J (2018) UMAP: Uniform
manifold approximation and projection for dimension reduction. arXiv preprint arXiv:180203426

39. Furman E, Diamant A (2020) Optimal capacity planning
for cloud service providers with periodic, time-varying
demand. Available at SSRN 3648442

57. Mehrotra P, Malani P, Yadav P (2020) Personal Protective Equipment Shortages During COVID-19: Supply Chain–Related Causes and Mitigation Strategies. In:
JAMA Health Forum, American Medical Association,
vol 1, pp e200553–e200553

40. Furman E, Diamant A, Kristal M (2019) Customer acquisition and retention: A fluid approach for staffing. Available at SSRN 3422404

58. Milner JM, Rosenblatt MJ (2002) Flexible supply contracts for short life-cycle goods: The buyer’s perspective.
Naval Research Logistics (NRL) 49(1):25–45

41. Gondi S, Beckman AL, Deveau N, Raja AS, Ranney
ML, Popkin R, He S (2020) Personal protective equipment needs in the USA during the COVID-19 pandemic.
Lancet (London, England) 395(10237):e90

59. Ontario Health (2020) COVID-19 – What We Know
So Far About... Routes of Transmission. Accessed
from
https://www.publichealthontario.ca/-/media/
documents/ncov/wwksf-routes-transmission-mar-062020.pdf?la=en

42. Green LV, Kolesar PJ (1998) A note on approximating
peak congestion in Mt /G/∞ queues with sinusoidal arrivals. Management Science 44(11-part-2):S137–S144
43. Green LV, Nguyen V (2001) Strategies for cutting hospital beds: the impact on patient service. Health services
research 36(2):421
44. Green LV, Kolesar PJ, Whitt W (2007) Coping with
time-varying demand when setting staffing requirements
for a service system. Production and Operations Management 16(1):13–39
45. Harapan H, Itoh N, Yufika A, Winardi W, Keam S, Te H,
Megawati D, Hayati Z, Wagner AL, Mudatsir M (2020)
Coronavirus disease 2019 (COVID-19): A literature review. Journal of Infection and Public Health

60. Ontario Health (2020) Public Health Ontario. TECHNICAL BRIEF: IPAC Recommendations for Use of Personal Protective Equipment for Care of Individuals with
Suspect or Confirmed COVID-19. Accessed from https:
//www.publichealthontario.ca/-/media/documents/
ncov/updated-ipac-measures-covid-19.pdf?la=en
61. Ontario Hospital Association (2018) Capacity Planning. Accessed from https://www.oha.com/Bulletins/
Capacity%20Planning%20Snapshot.pdf
62. Ontario Hospital Association (2019) Ontario Hospitals - Leaders in Efficiency. Accessed from
https://www.oha.com/Documents/Ontario%20Hospitals%
20-%20Leaders%20in%20Efficiency.pdf

Prediction of PPE in Hospitals During COVID-19

13

63. Palm C (1943) Variation in intensity in telephone conversation. Ericsson Technics 4:1–189
64. Palomo S, Pender J, Massey W, Hampshire RC (2020)
Flattening the curve: Insights from queueing theory.
arXiv preprint arXiv:200409645
65. Pasricha SV, Jung HY, Kushnir V, Mak D, Koppula R,
Guo Y, Kwan JL, Lapointe-Shaw L, Rawal S, Tang T,
et al. (2020) Assessing the quality of clinical and administrative data extracted from hospitals: The General Medicine Inpatient Initiative (GEMINI) experience.
medRxiv

80.

81.

66. Pender J (2016) Risk measures and their application to
staffing nonstationary service systems. European Journal
of Operational Research 254(1):113–126

82.

67. Public Services and Procurement Canada (2020)
Supplying the Canadian healthcare sector in response to COVID-19. Accessed from https:
//www.tpsgc-pwgsc.gc.ca/comm/aic-scr/provisionssupplies-eng.html

83.

68. Qi X, Bard JF, Yu G (2004) Supply chain coordination
with demand disruptions. Omega 32(4):301–312
69. Ranney ML, Griffeth V, Jha AK (2020) Critical supply shortages—the need for ventilators and personal protective equipment during the COVID-19 pandemic. New
England Journal of Medicine 382(18):e41
70. Razak F, Shin S, Pogacar F, Jung HY, Pus L, Moser
A, Lapointe-Shaw L, Tang T, Kwan JL, Weinerman A,
et al. (2020) Modelling resource requirements and physician staffing to provide virtual urgent medical care for
residents of long-term care homes: a cross-sectional study.
CMAJ open 8(3):E514–E521
71. Rowan NJ, Laffey JG (2020) Challenges and solutions
for addressing critical shortage of supply chain for personal and protective equipment (PPE) arising from Coronavirus disease (COVID19) pandemic–Case study from
the Republic of Ireland. Science of The Total Environment p 138532
72. Sahin AR, Erdogan A, Agaoglu PM, Dineri Y, Cakirci
AY, Senel ME, Okyay RA, Tasdogan AM (2020) 2019
novel coronavirus (COVID-19) outbreak: A review of the
current literature. EJMO 4(1):1–7
73. Simha A, Prasad RV, Narayana S (2020) A simple
stochastic SIR model for COVID 19 infection dynamics for Karnataka: Learning from Europe. arXiv preprint
arXiv:200311920
74. Stecke KE, Kumar S (2009) Sources of supply chain disruptions, factors that breed vulnerability, and mitigating
strategies. Journal of Marketing Channels 16(3):193–226
75. Tang CS (2006) Robust strategies for mitigating supply
chain disruptions. International Journal of Logistics: Research and Applications 9(1):33–45

84.

85.

86.
87.
88.

89.

90.

91.

76. Toda AA (2020) Susceptible-infected-recovered (SIR)
dynamics of COVID-19 and economic impact. arXiv
preprint arXiv:200311221

92.

77. Tuite AR, Fisman DN, Greer AL (2020) Mathematical modelling of COVID-19 transmission and mitigation
strategies in the population of Ontario, Canada. CMAJ
192(19):E497–E505

93.

78. UHN (2020) Service Reintroduction at UHN. Accessed
from https://www.uhn.ca/covid19#arriving

94.

79. University of Wisconsin (2020) Online platform helps
healthcare facilities in need of face shields meet their

match. Accessed from https://www.engr.wisc.edu/news/
online-platform-helps-healthcare-facilities-inneed-of-face-shields-meet-their-match/
Verdouw C, Beulens A, Trienekens J, Van der Vorst J
(2011) A framework for modelling business processes in
demand-driven supply chains. Production Planning &
Control 22(4):365–388
Verma AA, Guo Y, Kwan JL, Lapointe-Shaw L, Rawal S,
Tang T, Weinerman A, Cram P, Dhalla IA, Hwang SW,
et al. (2017) Patient characteristics, resource use and outcomes associated with general internal medicine hospital
care: the General Medicine Inpatient Initiative (GEMINI) retrospective cohort study. CMAJ open 5(4):E842
Verma AA, Guo Y, Kwan JL, Lapointe-Shaw L, Rawal S,
Tang T, Weinerman A, Razak F (2018) Prevalence and
costs of discharge diagnoses in inpatient general internal
medicine: a multi-center cross-sectional study. Journal of
general internal medicine 33(11):1899–1904
Vizarreta P, Trivedi K, Helvik B, Heegaard P, Blenk A,
Kellerer W, Machuca CM (2018) Assessing the maturity
of sdn controllers with software reliability growth models.
IEEE Transactions on Network and Service Management
15(3):1090–1104
de Véricourt F, Jennings OB (2011) Nurse staffing in
medical units: A queueing perspective. Operations Research 59(6):1320–1331
Wangping J, Ke H, Yang S, Wenzhe C, Shengshu W,
Shanshan Y, Jianwei W, Fuyin K, Penggang T, Jing L,
et al. (2020) Extended SIR prediction of the epidemics
trend of COVID-19 in Italy and compared with Hunan,
China. Frontiers in medicine 7:169
Whitt W (2015) Many-server limits for periodic infiniteserver queues. Columbia University
Whitt W (2017) Time-varying queues. Semantic Scholar
Whitt W, Zhang X (2017) A data-driven model of an
emergency department. Operations Research for Health
Care 12:1–15
WHO (2020) Coronavirus disease (COVID-19) advice for
the public: When and how to use masks. Accessed from
https://www.who.int/emergencies/diseases/novelcoronavirus-2019/advice-for-public/when-and-howto-use-masks
Workman AD, Welling DB, Carter BS, Curry WT, Holbrook EH, Gray ST, Scangas GA, Bleier BS (2020) Endonasal instrumentation and aerosolization risk in the era
of covid-19: simulation, literature review, and proposed
mitigation strategies. In: International forum of allergy
& rhinology, Wiley Online Library
Xu M, Qi X, Yu G, Zhang H, Gao C (2003) The demand
disruption management problem for a supply chain system with nonlinear demand functions. Journal of Systems
Science and Systems Engineering 12(1):82–97
Yang K (1998) An infinite server queueing model for software readiness assessment and related performance measures.
Yeung JHY, Selen W, Deming Z, Min Z (2007) Postponement strategy from a supply chain perspective: cases from
china. International Journal of Physical Distribution &
Logistics Management
Yom-Tov GB, Mandelbaum A (2014) Erlang-r: A timevarying queue with reentrant customers, in support of
healthcare staffing. Manufacturing & Service Operations
Management 16(2):283–299

14
95. Zeltyn S, Marmor YN, Mandelbaum A, Carmeli B,
Greenshpan O, Mesika Y, Wasserkrug S, Vortman P,
Shtub A, Lauterman T, et al. (2011) Simulation-based
models of emergency departments: Operational, tactical,
and strategic staffing. ACM Transactions on Modeling
and Computer Simulation (TOMACS) 21(4):1–25
96. Zhang AZ, Enns E (2020) Optimal timing and effectiveness of COVID-19 outbreak responses in China: a modelling study. Available at SSRN
97. Zhang Y, You C, Cai Z, Sun J, Hu W, Zhou XH (2020)
Prediction of the COVID-19 outbreak based on a realistic
stochastic model. medRxiv
98. Zychlinski N, Mandelbaum A, Momčilović P (2018)
Time-varying tandem queues with blocking: modeling,
analysis, and operational insights via fluid models with
reflection. Queueing Systems 89(1-2):15–47

Appendices and Proofs of Statements
Proof of Lemma 1
For σi > 0 and T > σi for all i, we apply the conditional
expectation operator to (3). Then, given (2), and by the
linearity of expectation, (6) holds.
t
u

Eugene Furman et al.

clusters, we initialize the procedure with 25 random
starting partitions (see nstart option for the kmeans
function in the R documentation). Contrary to our
needs, density based techniques, (HDBSCAN, for instance) may consider some of the data points as noise.
Note that other techniques can be considered
as long as they result in clusters with adequate
similarity (i.e., the variance in the LoS values
within a cluster are sufficiently small).
Table 5: Within cluster variation as a function of the
number of clusters used.
Number of Clusters, k

Total Squared Error Within Clusters

1
2
3
4
5
6
7
8
9
10

290,250
140,491.9
86,060.95
56,175.68
42,133.06
33,761.11
25535.31
20880.25
17563.34
15222.13

Clustering Procedure
We cluster patients based on 16 variables which include
a patient’s length-of-stay in the hospital (days) and
their average daily count of 15 medical interactions as
per Column 1 in Table 6. For example, a patient with a
length-of-stay equal to 3.5 days and 12 vital sign measurements will be assigned an average daily count of
12/3.5 = 3.4 measurements of vital signs.
To improve the quality of our clustering procedure,
we employ Uniform Manifold Approximation and Projection technique (UMAP) [56] as a pre-processing step.
Contrary to other non-linear projection methods (tSNE or Isomap, for instance), it does not favor the
preservation of local distances over global distance.
That is, using UMAP as a pre-processing step for clustering preserves both the local (dissimilarities within
clusters) and global (dissimilarities between clusters)
structure of the data set. Further, the algorithm is less
computationally intensive than t-SNE, for instance, and
in contrast to linear projection techniques such as Principal Component Analysis (PCA), does not attempt to
construct multidimensional vectors to recreate the location of each data point. Thus, it is not vulnerable to
20% - 30% loss in representative accuracy.
Because we do not aim to predict cluster membership for future patients and would like to cluster all
existing patients without exceptions, we choose a standard k-means approach. To ensure the stability of the

We use the total squared error within clusters as a
single aggregate measure of similarity amongst patients.
This is because a sample variance estimate is dependent
on the size of the cluster. Table 5 presents the within
cluster variation as a function of the number of clusters
that are used. Due to the multi-dimensional nature of
the data, the clustering technique aims to reduce the
variation amongst all variables at the same time rather
than focusing on one of them specifically.

Estimation of the Number of Medical Interactions Per Day as well as PPE Usage
The first column in Table 6 represents the most common types of medical interactions between patients and
practitioners for individuals admitted to the GIM service at St. Michael’s hospital. In columns 2-8, we display
the count of type n ∈ {1, 2, . . . , 7} PPE used during
each type of interaction. While the values in column 1
are obtained by analyzing the types of interactions in
the data set, the values in columns 2-8 were obtained
by conducting semi-structured interviews with various
medical practitioners in each sub-speciality of our partner hospital and summarizing their responses.
More specifically, we engaged key stakeholders from
clinical departments throughout St. Michael’s Hospital.
They included a nurse manager for the general internal

Prediction of PPE in Hospitals During COVID-19

15

Table 6: Average PPE usage per patient-practitioner interaction.
Interaction Types, j
Vital signs measurement
Medication administration
Lab Test Collection
X-ray
CT
MRI
Ultrasound
Nuclear Medicine
Interventional Radiology
Transthoracic Echocardiography (TTE)
Transesophageal Echocardiography (TEE)
Bronchoscopy
Dialysis
Surgical Procedure
Room Transfer

Gowns, u1,j
0
0
0
0
0
0
0
0
3.5
0
3
4
0
5.5
0

Gloves, u2,j
1
1
1
2
2
2
2
1
3.5
1
3
4
1
5.5
1.5

Surgical Masks, u3,j
0
0
0
0
0
0
0
0
0
0
3
4
0
4
0

N95 Masks, u4,j
0
0
0
0
0
0
0
0
3.5
0
3
4
0
2
0

Shields, u5,j
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0

Bouffants, u6,j
0
0
0
0
0
0
0
0
3.5
0
3
4
0
5.5
0

Boot Covers, u7,j
0
0
0
0
0
0
0
0
3.5
0
3
4
0
5.5
0

Table 7: Average counts of interactions per patient type for the eight-cluster analysis.
Interaction Types, j
Vital signs measurement
Medication administration
Lab Test Collection
X-ray
CT
MRI
Ultrasound
Nuclear Medicine
Interventional Radiology
Transthoracic Echocardiography (TTE)
Transesophageal Echocardiography (TEE)
Bronchoscopy
Dialysis
Surgical Procedure
Room Transfer

c1,j
3.51
1.95
2.33
0.19
0.10
0.03
0.05
0.00
0.02
0.03
0.00
0.04
0.01
0.04
0.18

medicine (GIM) department, a medical imaging manager, an echocardiography team leader and a cardiac
sonographer, a dialysis charge nurse, a gastroenterologist, a respirologist, and an anesthesiologist. The semistructured interviews were conducted with each individual and process-mapping techniques were used to understand the workflow, number of patient interactions,
personnel needs, and the PPE usage per episode of patient care. For elective and non-elective surgeries, we
used common surgical procedures conducted on GIM
patients, including laparoscopic intra-abdominal surgeries or vascular procedures such as amputation, to inform the model. These interviews provided pragmatic
estimates of PPE usage and helped to estimate the
number of patient interactions on a daily basis.
For all patients that belongs to a cluster, we
compute the average number of medical interactions as the total number of interactions divided by their corresponding LoS. Then, elements of I × J matrix C are arithmetic aver-

c2,j
4.70
15.83
12.79
2.27
1.05
0.04
0.27
0.00
0.01
0.06
0.00
0.10
0.04
0.45
1.06

c3,j
3.47
1.22
1.99
0.14
0.05
0.02
0.02
0.00
0.02
0.01
0.00
0.02
0.00
0.05
0.10

c4,j
3.47
2.77
2.59
0.31
0.21
0.07
0.06
0.01
0.01
0.05
0.00
0.08
0.01
0.05
0.32

c5,j
3.63
2.24
2.67
0.23
0.12
0.03
0.05
0.01
0.01
0.03
0.00
0.05
0.01
0.04
0.22

c6,j
3.73
4.64
4.74
0.47
0.27
0.05
0.09
0.01
0.01
0.05
0.00
0.09
0.01
0.05
0.43

c7,j
3.12
0.66
1.22
0.07
0.03
0.01
0.01
0.00
0.01
0.01
0.00
0.01
0.00
0.03
0.05

c8,j
3.53
1.51
2.06
0.16
0.07
0.02
0.03
0.00
0.02
0.02
0.00
0.03
0.00
0.05
0.14

ages of these estimates over all patients of the
same type. In columns 2-9 of Table 7, we present
these averages for each of the eight clusters
(i.e., c1,j , . . . , c8,j ) and for every interaction type j
rounded to two decimal digits. Notice that there
are some interactions which are rarely repeated
- instances of bronchoscopy or surgical procedures have small values - while more frequent
interactions (vital signs measurement, medicine
administration, and lab test collection) admit
larger values.

