1

Intelligent Optimization of Diversified Community Prevention of
COVID-19 using Traditional Chinese Medicine
Yu-Jun Zheng1 , Si-Lan Yu1 , Jun-Chao Yang2 , Tie-Er Gan2 , Qin Song3 , Jun Yang3 , and Mümtaz Karataş4
1 School

of Information Science and Engineering, Hangzhou Normal University, Hangzhou 311121, China
Affiliated Hospital, Zhejiang Chinese Medical University, Hangzhou 310006, China
3 Medical College, Hangzhou Normal University, Hangzhou 311121, China
4 Industrial Engineering Department, Naval Academy, National Defense University, Istanbul 34940, Turkey

arXiv:2007.13926v1 [cs.NE] 28 Jul 2020

2 First

Traditional Chinese medicine (TCM) has played an important role in the prevention and control of the novel coronavirus
pneumonia (COVID-19), and community prevention has become the most essential part in reducing the spread risk and protecting
populations. However, most communities use a uniform TCM prevention program for all residents, which violates the “treatment
based on syndrome differentiation” principle of TCM and limits the effectiveness of prevention. In this paper, we propose an
intelligent optimization method to develop diversified TCM prevention programs for community residents. First, we use a fuzzy
clustering method to divide the population based on both modern medicine and TCM health characteristics; we then use an
interactive optimization method, in which TCM experts develop different TCM prevention programs for different clusters, and a
heuristic algorithm is used to optimize the programs under the resource constraints. We demonstrate the computational efficiency
of the proposed method and report its successful application to TCM-based prevention of COVID-19 in 12 communities in Zhejiang
province, China, during the peak of the pandemic.
Index Terms—COVID-19, traditional Chinese medicine (TCM), epidemic prevention, fuzzy clustering, interactive optimization.

I. I NTRODUCTION

T

He ongoing outbreak of the novel coronavirus pneumonia
(COVID-19), declared by the World Health Organization
as a global public health emergency, has been reported in
over ten million cases in over 200 countries and territories
as of June 29, 2020. Community prevention and control has
become the most basic and essential part in reducing the spread
risk and protecting populations during the pandemic [1], [2].
Currently, community prevention is a significant challenge, not
only because there is still no effective antiviral or vaccine,
but also because of the pressing need to restart economy and
restore social life [3], [4].
Although modern medicine offers accurate diagnosis and
treatment methods for many diseases, it shows weakness in
preventing emerging infectious diseases such as COVID-19
for which there is no vaccine, because epidemic prevention
solutions based on modern medicine heavily rely on a clear
understanding of the pathogenic mechanism and a number
of large case-controlled studies [5], [6], and the misuse of
antibiotics can cause severe side effects [7].
Traditional Chinese medicine (TCM) has been developed
and used in the prevention and treatment of various diseases
for thousands of years in Chinese history. TCM is a comprehensive system of the treatment of acute and chronic disorders
as well as for the prevention of such disorders mainly based
on herb medicine [8]. Unlike modern medicine that focuses on
killing viruses, TCM pays attention to improving the inherent
self-resistance and reducing the likelihood of disease onset by
using a unique holistic approach to establish equilibrium in
the whole and individual parts of the body [9]. The present
principles on prevention of COVID-19 are to tonify body
energy to protect the outside body, dispel wind, dissipate heat
and dissipate dampness [10]. Facing an emerging infectious

disease, TCM prescriptions (formulae) are made by combining
existing crude herbs or minerals instead of developing new
drugs. That is why TCM have achieved great success in
response to recent epidemics such as SARS, H1N1, and Zika
[11]–[15], and is playing a vital role in reducing the incidence
rate and controlling the spread of COVID-19 [16]–[18].
However, we believe that there is much room for improvement of community prevention of the pandemic using
TCM. For example, since the COVID-19 outbreak in China,
many local public health administrations have issued TCM
prevention programs for COVID-19, and some communities
used a single program or prescription for all residents [19],
[20]. Such a one-size-fits-all solution violates the “treatment
according to three factors (time, place, and people)” and
“treatment based on syndrome differentiation” principles of
TCM and, therefore, limits the effectiveness of prevention.
According to requirements of local governments to improve
community prevention of COVID-19, we propose an intelligent, diversified community prevention method for COVID19 by combining TCM and modern computational intelligence
methods. First, we use a fuzzy clustering method to divide the
population based on both modern medicine and TCM health
characteristics. According to the health characteristics, TCM
experts develop a TCM prevention program for each cluster.
The initial program for each cluster aims to maximize the
prevention effect on residents in the cluster. Nevertheless, the
demands of all initial programs often exceed the available
resources. We then use an interactive optimization method to
continually evolve the prevention programs until all programs
are approved by the TCM experts while all resource demands
are satisfied. The proposed method has been successfully
practiced in a number of communities in Zhejiang province
and extended to many other regions in China during the peak
of COVID-19.

2

II. F UZZY C LUSTERING OF C OMMUNITY R ESIDENTS
Using a “one-size-fits-all” prevention program for all community residents fails to consider interpersonal differences and
is rarely effective. On the contrary, developing a personalized
prevention program for each resident would be too expensive
due to the limited resources under the pandemic.
We prefer to develop a set of diversified prevention programs, each for a group of residents with similar physical characteristics. The characteristics include both modern medicine
characteristics and TCM health characteristics, as summarized
in Table I. The data sources of the characteristics include both
modern healthcare records and TCM records of the residents.
Those characteristics are used as input features for grouping,
and the value of each feature is normalized, e.g., real values
(such as height and weight) are normalized to [0,1], and
exclusive labels (such as sex and illness) are represented by
binary variables. In this study, we use a total of 1148 features
for grouping. However, for most residents, a large portion of
features are inevitably absent. For example, a resident typically
is free of illness or with only one illness.
A. An Improved Fuzzy c-Means Clustering Method
For such a high-dimension grouping problem with many
missing values, classical hard clustering methods such as Kmeans clustering [22] are not very effective. In this study, we
use an improved fuzzy c-means (FCM) clustering method [23].
In brief, FCM groups a set of data points by minimizing the
overall fuzzy-membership-weighted distance of the data points
from cluster centroids:
c
n
1 XX m 2
u d
(1)
min J(U, V ) =
cn i=1 j=1 ij ij
where n is the number of data points, c is the number of
clusters, uij is the membership
P degree of the jth data point
to the ith cluster subject to
i uij = 1, dij is the distance
between the jth data point and the ith cluster centroid, m is
a control parameter with a default value of 2, U = (uij )c×n
is the weight matrix, and V = [v1 , v2 , . . . , vc ] is the set of
cluster centroid vectors.
Xu and Wu [24] extended the standard FCM to intuitionistic
FCM based on new distance measures defined on intuitionistic
fuzzy sets (IFS) [25] that capture more uncertainty information. Here, we use Pythagorean fuzzy sets (PFS) [26], which
allow for a larger body of membership grades than IFS, to
further improve clustering. Formally, let S be an arbitrary nonempty set, a PFS is a mathematical object of the form:
P = {hx, P (µP (x), νP (x))i|x ∈ S}

vectors, where the distance between two Pythagorean fuzzy
numbers β1 = P (µβ1 , νβ1 ) and β2 = P (µβ2 , νβ2 ) is calculated
as [27]:
s
(µ2β1 −µ2β2 )2 + (νβ21 −νβ22 )2 + (πβ21 −πβ22 )2
|β1 , β2 | =
2
(4)
And the distance dij in Eq. (1) between a D-dimensional
data point xj and a cluster centroid vi is calculated as:
s
PD
2
d=1 |xjd , vid |
(5)
kxj , vi k =
D
Algorithm 1 presents the Pythagorean FCM method, which
minimizes the objective function J(U, V ) by iteratively updating the fuzzy membership weights (Line 11) and centroids
(Line 13) to apply the derivative of J(U, V ) [24].
Algorithm 1: Pythagorean fuzzy c-means clustering algorithm.
1
2
3
4
5
6
7
8
9
10
11
12
13

Initialize a c×n matrix U and a set V (0) of c cluster centroids;
Let k = 0;
while kV (k+1) , V (k) k >  do
for j = 1 to n do
if ∃i0 : 1 ≤ i0 ≤ c : kxj , vi0 k = 0 then
for i = 1 to c do
(k)
if i = i0 then uij ← 1;
;
(k)
else uij ← 0;
;
else
for i = 1 to c do
(k)
uij ← P
c
kx
i0=1

14
15

for i = 1 to c do
(k)
v
←
i
Pn

βd ,
16

k ← k+1;

17

return (U, V );

j=1

(k)

uij µ2
β

(k)
j=1 uij

Pn

1

j ,vi k
kxj ,v 0 k
i

,

2
m−1

;

(k)

Pn
d



j=1

2
uij νβ

(k)
j=1 uij

Pn


d


|1 ≤ d ≤ D ;

B. A Metaheuristic for Optimizing Clusters

(2)

where µP (x) : S → [0, 1] and νP (x) : S → [0, 1] are
respectively the membership degree and the non-membership
degree of the element x to S in P . PFS extends IFS in that the
membership degrees satisfy µ2P (x) + νP2 (x) ≤ 1. The hesitant
degree of x ∈ X is expressed as:
q
πP (x) = 1 − µ2P (x) − νP2 (x)
(3)
In our improved Pythagorean FCM, data points and cluster centroids are represented by Pythagorean fuzzy number

The performance of FCM clustering heavily depends on the
quality of initial cluster centroids [28], [29]. Instead of randomly setting initial cluster centroids, we use a metaheuristic
algorithm, ecogeography-based optimization (EBO) [30], to
optimize initial cluster centroids [29]. The algorithm starts by
initializing a population of solutions, each representing a set
V (0) of c initial cluster centroids. Let J(x) denote the resulting
J(U, V ) value obtained by the FCM method from the initial
cluster centroids of x; each solution x is assigned with an
emigration rate Er (x) that is inversely proportional to J(x)

3

TABLE I
P HYSICAL CHARACTERISTICS FOR GROUPING COMMUNITY RESIDENTS .
Type
Basic health metrics
TCM constitutions
TCM syndromes [21]
Past illnesses
Current illnesses

Characteristics
age, sex, occupation, height, weight, heart rate, blood pressure, vital capacity, . . .
mild, yang deficiency, yin deficiency, phlegm dampness, wet & heat, qi stagnation,
qi deficiency, blood stasis, special
shire jinyin, pixu shiyun, xuexu fengzao, shire yuzu, shire shangyin, qizhi xueyu,
qixu buzu, ganshen buzu, . . .
diseases and the corresponding indicators
diseases and the corresponding indicators

and an immigration rate Ir (x) that is proportional to J(x):
Er (x)

=

Ir (x)

=

Jmax − J(x) + 
Jmax − Jmin + 
J(x) − Jmin + 
Jmax − Jmin + 

(6)
(7)

x0d = xd + rand(0, 1) · (x†d − xd )

1
2
4

5
6
7

8
9
10
11
12
13

(8)

where rand(0, 1) produces a random number uniformly distributed in (0, 1), and x† is selected from all neighbors of x
with a probability proportional to Er (x† ).
Global migration updates a solution x at each dimension d
by migrating the corresponding dimensions of both a neighboring solution x† and a non-neighboring solution x‡ as follows:
 †
xd + rand(0, 1) · (x‡d − xd ), f (x‡ ) ≤ f (x† )
x0d =
(9)
x‡d + rand(0, 1) · (x†d − xd ), f (x‡ ) > f (x† )
where x† is selected from all neighbors of x with a probability
proportional to Er (x† ), and x‡ is selected from all other
solutions that are not neighbors of x with a probability
proportional to Er (x‡ ).
EBO uses a parameter η as the probability of performing
global migration and, therefore, (1 − η) as the probability
of performing local migration. The value of η dynamically
increases from a lower limit ηmin to an upper limit ηmax with
generation g of the algorithm:
g
(ηmax −ηmin )
(10)
η = ηmin +
gmax
In this study, we use a local random neighborhood structure [32], which randomly assigns kN neighboring solutions
to each solution in the population (where kN is a control
parameter); if the current best solution has not been updated
after a number gb of consecutive generations, the neighborhood
structure is randomly reset. Algorithm 2 presents the pseudocode the EBO algorithm, where Line 4 invokes Algorithm 1
to evaluate the fitness of each solution (initial centroid setting).

9
50
484
484

Algorithm 2: The EBO algorithm for enhancing the fuzzy
clustering method.

3

where Jmax and Jmin are the maximum and minimum J(·)
values among the population, and  is a small positive number
to avoid division-by-zero. In this way, a better solution has
a higher probability of emigrating features to other solutions,
while a worse solution has a higher probability of immigrating
features from other solutions [31].
The EBO algorithm then continually evolves the solutions
using two migration operators: local migration and global
migration. Local migration updates a solution x at each
dimension d by migrating the corresponding dimension of a
neighboring solution x† as follows:

Number of indicators
121

14

15
16

17
18
19
20
21
22

Randomly initialize a population of solutions (initial set of
cluster centroids);
while the stopping criterion is not satisfied do
foreach solution x in the population do
Use Algorithm 1 to produce the clustering results
(U, V ) from the initial cluster centroids of x;
Let x∗ be the best solution in the population;
foreach solution x in the population do
Compute Er (x) and Ir (x) according to Eqs. (6) and
(7);
foreach solution x in the population do
for d = 1 to n do
if rand(0, 1) < Ir (x) then
Select a neighboring x† with probability
proportional to Er (x† );
if rand(0, 1) < η then
Select a non-neighboring x‡ with
probability proportional to Er (x‡ );
Perform global migration according to Eq.
(9);
else
Perform local migration according to Eq.
(8);
if the migrated solution x0 is better than x then
x ← x0 ;
Update η according to Eq. (10);
if x∗ has not been updated for gb consecutive generations
then
Randomly reset neighborhood structure;
return the clustering result of the best known solution x∗ .

III. I NTERACTIVE O PTIMIZATION OF P REVENTION
P ROGRAMS
After clustering the community residents into c groups, we
invite TCM experts to assess the health characteristics of each
cluster by examining representative residents, and develop diversified prevention programs according to the characteristics.
Note that the number p of prevention programs approximates,
but does not necessarily equal, the number c of clusters. That
is, the TCM experts typically develop a prevention program
(including a TCM prescription and other supplementary measures such as acupuncture and moxibustion) for a cluster;
they may also develop a prevention program for two similar
clusters as they consider appropriate; for a cluster with highrisk residents (with suspected symptoms of COVID-19 or

4

Perform FCM clustering to group residents
Develop prevention programs based on clustering results
Calculate the resources required by the programs

other sharable resource Gk is qbkG (1 ≤ k ≤ K1 ), and available
quantity of each non-sharable resource Fk in community Ci
F
is qbik
(1 ≤ k ≤ K2 ; 1 ≤ i ≤ M ).
Each prevention program Pj has the following attributes
(1 ≤ j ≤ N ):
•

Y
Satisfy resource constraints?

•

N
Optimize the programs subject to the constraints

Check the updated programs
Modify the programs

N

Approved?

•
•

•

Y
Put into implementation
Fig. 1. Flowchart of the interactive optimization of TCM prevention programs.
The rectangles with dash borders are performed by TCM experts, while the
rectangles with solid borders are performed by computer.

serious underlying illnesses), they can decide to develop one
prevention program for each resident.
When developing initial programs, the TCM experts aim to
maximize the prevention effect on residents of each cluster
without considering the limits of medical resources, including
herbal medicines, patent medicines, medical devices, pharmacists, and other paramedical personnel. If the demands of the
programs exceed the available resources, we use an intelligent
optimization algorithm to optimize the programs subject to
the resource constraints. However, any prevention program
produced by computer algorithms must be checked and, if necessary, modified by the TCM experts before implementation.
The above process continues until all prevention programs
satisfy the resource constraints and are approved by the TCM
experts. Fig. 1 illustrates the interactive optimization process.
A. Optimization Problem
The problem of optimizing prevention programs is formulated as follows. TCM experts have developed N basic prevention programs, denoted by {P1 , P2 , . . . , PN }, for residents
from M communities, denoted by {C1 , C2 , . . . , CM }. The
programs involve:
• K types of drugs denoted by {D1 , D2 , . . . , DK };
• K1 types of other medical resources that can be shared
among the communities, denoted by {G1 , G2 , . . . , GK1 },
such as TCM material and movable devices;
• K2 types of other medical resources that cannot be shared
among the communities, denoted by {F1 , F2 , . . . , FK2 },
such as immovable devices and staffs belong to given
communities.
The problem is to optimize the distribution of medical
resources among the prevention programs for the M communities. In the local region, the total available quantity of each
drug Dk is qbkD (1 ≤ k ≤ K), total available quantity of each

The number nj of residents using the program;
The set Θj of communities that have residents using the
program; for each community Ci ∈ Θj , the number of
residents using the program is nij ;
The set Φj of drugs used by the program; for each drug
D
Dk ∈ Φj , the quantity used per prescription is qjk
;
The set Ψj of other sharable resources used by the
program; for each resource Gk ∈ Ψj , the quantity used
G
per prescription is qjk
;
The set Ωj of other non-sharable resources used by the
program; for each resource Fk ∈ Ωj , the quantity used
F
per prescription is qjk
;

In a TCM prescription, many ingredients have alternatives.
We use Φ0j ⊂ Φj to denote the subset of drugs that have
alternatives in Pj ; for each drug Dk ∈ Φ0j , we use a list Λk to
store its alternative drugs in decreasing order of priority, which
are determined by TCM drug properties and effects to the
disease (COVID-19 belongs to pulmonary disease in TCM).
We consider two types of updates on a TCM prescription:
•

•

Replacing an auxiliary drug Dk ∈ Φ0j with an alternative
Dk0 ∈ Λk , for example, replacing coix seed with winter
melon seed;
Replacing a main drug Dk ∈ Φ0j with an alternative Dk0 ∈
Λk ; however, according to compatibility of TCM, a main
drug is related to one or more auxiliary drugs, and the
corresponding auxiliary drugs should also be reapplied;
an example is replacing “astragalus membranaceus (main)
+ cinnamon (auxiliary)” with “codonopsis pilosula (main)
+ yam (auxiliary)”.

To avoid the updated prescriptions deviating too much from
the original prescriptions developed by TCM experts, for each
prevention program, we allow updating at most one drug
(except auxiliary drugs related to a main updated drug) at each
time. For either of the above two types of updates, we use
Pj (xj , x0j ) to denote the updated program, where xj denotes
the index of the original drug Dk in the prescription, and xj
denotes the index of the alternative drug Dk0 in Λk . Therefore,
for the set of original prevention programs {P1 , P2 , . . . , PN },
each solution to the problem can be represented by a (2N )dimensional integer vector x = {x1 , x01 , x2 , x02 , . . . , xN , x0N },
which indicates that the xj -th drug in Pj is to be replaced by
its x0j -th alternative (1 ≤ j ≤ N ); without loss of generality,
xj = x0j denotes that Pj is unchanged.
Based on the efficacy of the original and alternative drugs,
we can determine the quantity of an alternative drug Dk0 used
to replace an original drug Dk in the prescription. Based on the
change of the prescription, we can then determine the changes
of other medical resources, such as the types and quantities
of material and the working hours for processing the drugs.
Consequently, we obtain the following attributes of the updated
prevention program Pj (xj , x0j ):

5

•

•

•

The set Φj (xj , x0j ) of drugs; for each drug Dk ∈
Φj (xj , x0j ), the quantity used per prescription is
D
qjk
(xj , x0j );
The set Ψj (xj , x0j ) of other sharable resources used by
the program; for each resource Gk ∈ Ψj (xj , x0j ), the
G
quantity used per prescription is qjk
(xj , x0j );
0
The set Ωj (xj , xj ) of other non-sharable resources used
by the program; for each resource Fk ∈ Ωj (xj , x0j ), the
F
quantity used per prescription is qjk
(xj , x0j ).

The objective of the problem is to maximize the overall
effects of the updated prevention programs, subject to that the
resources used by the programs do not exceed the available
resources. The effect of each updated program Pj (xj , x0j ) is
evaluated based on its deviation from the original program Pj :
the larger the deviation, the smaller the effect is, as we should
trust the ability of TCM experts who develop the original
program. The deviation of Pj (xj , x0j ) from Pj is assessed in
two aspects:
•

•

The importance of Dxj in the original Pj , which is
measured by a weight wjk ; a larger priority indicates a
larger deviation;
The priority of Dx0j in the alternative set Λxj ; a higher
priority indicates a smaller deviation.

will add 1 per 50 doses, and will also add 1 if the number of
remaining doses is less than 50.
B. Optimization Algorithm
A TCM prescription can have tens of ingredients, and a drug
can have tens of alternative drugs. Therefore, when the number
N of prevention programs is relatively large, the solution space
of the problem can be very large, for which tradition exact
optimization methods are often inefficient.
We use a metaheuristic optimization algorithm, water wave
optimization (WWO) [33], to efficiently solve the problem.
The algorithm starts by initializing a population of NP solutions. To evaluate the fitness of each solution x, we employ
three penalty functions vD (x), vG (x), and vF (x) to calculate
the violations of constraints (13), (14), and (15) as follows:
vD (x) =

K
X

max 0,

K1
X

max 0,

k=1

vF (x) =

K2
M X
X
i=1 k=1

Here, we calculate the deviation as follows:
∆Pj (xj , x0j ) = wjxj I(Λxj , x0j )

N
X
X

wj wi0 ∆Pj (xj , x0j )

(12)

j=1 Ci ∈Θj

The constraints of the problem are the quantities of each
drug, other sharable resource, and other sharable resource used
by the programs cannot exceed available quantities:
N
X

D
nj qjk
(xj , x0j ) ≤ qbkD ,

1≤k≤K

(13)

G
nj qjk
(xj , x0j ) ≤ qbkG ,

1 ≤ k ≤ K1

(14)

j=1
N
X
j=1
N
X

F
F
nij qjk
(xj , x0j ) ≤ qbik
,



(16)

N
X

0
nj nG
nG
jk (xj , xj )−b
k



(17)

j=1

max 0,

N
X


nij nFjk (xj , x0j )−b
nFik (18)

j=1

And the fitness fit(x) is calculated as:
(11)

where I(Λxj , x0j ) is the index of Dx0j in Λxj (without loss of
generality, we set ∆Pj (xj , xj ) = 0).
Moreover, we use a weight wj to denote the susceptibility
of residents covered by program Pj to the epidemic, and use
a weight wi0 to denote the importance of each community Ci
(which is related to the openness and population density of
the community). The objective of the problem is defined as:
min f (x) =

0
nj nD
nD
jk (xj , xj )−b
k

j=1

k=1

vG (x) =

N
X

1 ≤ i ≤ M ; 1 ≤ k ≤ K2(15)

j=1

It should be noted
P that, in Eqs. (13)–(15), we uniformly
use the operator
for notational simplicity; however, it does
not necessarily
always
be summation. Typically, for drugs
P
and material,
denotes summation;
but for other resources
P
such as devices and personnel,
can be other corresponding
aggregation operators. For example, suppose that a decocting
machine can process 50 doses of a prescription, the operator

fit(x) = 1/ f (x) + vD (x) + vG (x) + vF (x)



(19)

We sort all NP solutions in the population in decreasing
order of the fitness value. Let o(x) be the index of solution x in
the sorted population, according to the principles of adapting
WWO for combinatorial optimization [34], we calculate a
wavelength λ(x) for each x as an integer between 1 and N
as follows:


NP − o(x)
(N − 1)
(20)
λ(x) = N −
NP − 1
where d·e denotes rounding up to the nearest integer.
The WWO iteratively evolves the solutions using three
operators including propagation, refraction, and breaking. The
propagation operator is based on two neighborhood structures.
Given a solution x to the problem, its neighboring solutions
can be obtained using one of the following two approaches:
0
• Randomly selecting a prescription Pj , changing xj to
a random index of Λxj ; this indicates modifying the
alternative drug used in Pj (xj , x0j );
• Randomly selecting a prescription Pj , changing xj to the
index of another drug Dk ∈ Φj , and then changing x0j to
a random index of Λk ; this indicates modifying both the
drug to be replaced in Pj and the alternative drug used
in Pj (xj , x0j ).
The propagation updates each solution x by performing
λ(x) steps of neighborhood search, i.e., propagates x to a
λ(x)-step neighboring solution. In this way, a solution with
higher fitness (and therefore smaller wavelength) exploits a
smaller area, while a solution with lower fitness explores a
larger area, as illustrated in Fig. 2. If the resulting λ(x)-step
neighbor is better than x, it replaces x in the population.

6

/RQJ ZDYHZLWK
ORZ HQHUJ\

6KRUWZDYHZLWK
KLJKHQHUJ\
&DOPVHDOHYHO

regions in Zhejiang Province, China:
• 39,720 residents in eight communities in Hangzhou city;
• 9,812 residents in four communities in Shaoxing city.
The following subsections report the results of fuzzy clustering of residents, TCM prevention program optimization, and
prevention program implementation.
A. Results of Resident Clustering

2FHDQIORRU

Fig. 2. Different wave lengths of high-fitness and low-fitness waves (solutions)
[33].

The refraction updates a stagnant solution x that has not
been improved for gb consecutive generations (where gb is a
control parameter) by making it learn from the current best
solution x∗ . At each dimension j, the pair of components
(xj , x0j ) has a probability of 0.5 of being replaced by the
corresponding components (x∗j , x∗ 0j ) of x∗ .
The breaking of a newly found best solution x∗ generates at
most N one-step neighboring solutions, each being obtained
by trying to replace x0j with the index of a better alternative
drug in Λxj (1 ≤ j ≤ N ); if the best neighbor is better than
x∗ , it replaces x∗ in the population.
Algorithm 3 presents the pseudocode the WWO algorithm
for the prevention program optimization problem.
Algorithm 3: The WWO algorithm for the prevention
program optimization problem.
1
2
3
4
5
6
7
8
9

Randomly initialize a population of solutions to the problem;
while the stopping criterion is not satisfied do
Sort all solutions in increasing order of fitness;
Let x∗ be the best solution in the population;
foreach solution x in the population do
Calculate λ(x) according to Eq. (20);
// propagation
Let xλ = x;
for k = 1 to λ(x) do
Set xλ to an immediate neighbor of xλ ;

18

if fit(xλ ) > fit(x) then
x ← x0λ ;
if fit(x) > fit(x∗ ) then
// breaking
x∗ ← x;
for j = 1 to N do
if x0j > 1 then
x0j ← rand(1, xj −1);
if fit(x) > fit(x∗ ) then
x∗ ← x;

19

else

10
11
12
13
14
15
16
17

20
21

22

if x has not been improved for g
b generations then
Refract x by learning from x∗ ;

return the best known solution x∗ .

IV. C OMPUTATIONAL R ESULTS
During February and March, 2020, we have applied the
proposed method to TCM prevention of COVID-19 in two

Based on the analysis of TCM experts on local populations
and TCM symptoms of COVID-19, the number C of clusters
is set to 16. We compare the clustering results of the standard
FCM method, intuitionistic FCM (IFCM), Pythagorean FCM
(PFCM), PFCM enhanced by EBO, and PFCM enhanced by
the following popular metaheuristic optimization algorithms:
• The genetic algorithm (GA) [35];
• The differential evolution (DE) algorithm [36];
• The comprehensive learning particle swarm optimization
(CLPSO) algorithm [37];
• The hybrid biogeography-based optimization (HBBO)
algorithm [38].
Each algorithm runs 30 times with different random seeds
(the four basic FCM methods use randomly initial cluster
centroids, and the PFCM with different metaheuristics use
randomly initial populations). Fig. 3 presents the resulting
J(U, V ) values obtained by the eight clustering algorithm over
the 30 runs. On both the instances of two regions, IFCM
achieves better results than the standard FCM, and PFCM
achieves better results than IFCM, which shows that using
extended fuzzy sets can improve the fuzzy clustering results by
capturing uncertainty information more effectively; compared
to the three basic FCM methods using random initial cluster
centroids, PFCM enhanced by metaheuristic optimization to
find optimal/sub-optimal initial centroids achieve significant
performance advantages, because the quality of initial centroids heavily affects the clustering results; among the five
metaheuristic algorithm, the proposed PFCM-EBO exhibits
the best performance, which demonstrates the efficiency of
the EBO algorithm in optimizing initial clustering centroids
for residents grouping.
B. Results of Prevention Program Optimization
The TCM experts develop 15 prevention programs for the
16 clusters of residents (two clusters are very similar and share
one program). Among the 39,720 residents in Hangzhou, 4,625
residents agree to adopt the prevention programs, but medical
resources required to implement the programs significantly
exceed the available resource. Therefore, we use the proposed
WWO algorithm to optimize the programs. Among the 15
updated programs, 13 programs are approved by the experts,
and the remaining two programs are slightly modified by
the experts. The resources required to implement the updated
programs do not exceed the available resources and, therefore,
the programs are put into implementation. However, after one
week of implementation, many resources have been consumed,
and the available resources are not sufficient to implement
the 15 updated programs. Therefore, we perform a second

7

J

Q1

Min

Median

Max

J

Q3

250

250

200

200

150

150

100

100

50

50

0

0

(a) Hangzhou

Q1

Min

Median

Max

Q3

(b) Shaoxing

Fig. 3. Comparison of the resulting J(U, V ) values obtained by the algorithms for clustering residents in two cities. Each box plot shows the maximum,
minimum, median, first quartile (Q1), and third quartile (Q3) of resulting J(U, V ) values over the 30 runs of an algorithm.

round of program optimization. Among the 15 programs
updated in the second round, 12 programs are approved, and
the remaining three programs are modified by the experts.
Nevertheless, the resources required to implement all programs
exceed the available resources again. Therefore, we perform a
third round of program optimization, the results of which are
approved and put into implementation.
Among the 9,812 residents in Shaoxing, 1,227 agree to
adopt the prevention programs. In Shaoxing, we perform two
rounds of program optimization, the results of which are put
into implementation successively.
In summary, we use the proposed WWO algorithm to solve
five instances of the prevention program optimization problem.
For comparison, we also implement the following five popular
metaheuristic optimization algorithms on the five instances:
• The GA for constrained optimization [39];
• The biogeography-based optimization (BBO) for constrained optimization [40];
• The DE algorithm for constrained optimization [41];
• The cuckoo search (CS) algorithm for integer programming [42];
• The grey wolf optimization (GWO) algorithm for integer
programming [43].
Each algorithm runs 30 times with different random seeds.
Fig. 4 presents the resulting objective function values obtained
by the six algorithm over the 30 runs. As the weights in the
objective function (12) are normalized, the objective function
value represents the average index of the selected alternative drugs in the alternative sets. On the three instances in
Hangzhou, the median objective function values of the WWO
algorithm are 1.83, 2.71, and 0.39, respectively, which are
always the smallest among than the six algorithms. These three
instances have the same number N of programs and similar
numbers of residents, but the constraints of the second-round
instance is the most rigorous, while the constraints of the thirdround instance is the least rigorous. The differences among the
comparative algorithms are the largest on the second-round
instance and the smallest on the third-round instance. On the
second-round instance, the performance advantages of WWO

over the other algorithms are also the most significant. This
demonstrates that the proposed WWO algorithm is efficient
in solving complex instances of the prevention program optimization problem.
On the two instances in Shaoxing, the median objective
function values of the WWO algorithm are 1.39 and 1.24,
respectively, which are also the smallest among than the six
algorithms. In the second-round instance in Shaoxing, the
resources required to implement the basic prevention programs
do not exceed too much the available resources; on this
relatively simple instance, all algorithms achieve the same
minimum objective function value of 1.24, which has been
verified to be the exact optimal objective function value.
However, only the median objective function values of DE and
WWO are 1.24, and the maximum objective function value
of WWO is less than that of DE. In summary, the results
show that the proposed WWO algorithm exhibits the best
performance on all instances.
C. Results of Prevention Program Implementation
We compare the actual prevention effects of the diversified
TCM prevention programs developed using our method with
those of the uniformed TCM prevention program released
by Zhejiang Provincial Health Commission. The results are
presented in Table II. During February and March, 2019, in
Hangzhou city, among 4,625 residents adopting our diversified
prevention programs, there is no case of COVID-19 reported.
During the same period, according to statistics from 71 communities in Hangzhou, among 36,138 residents adopting the
uniformed prevention program, there are six cases, including
five imported cases and one local case.
In Shaoxing, among 1,227 residents adopting our diversified
prevention programs, there is also no case of COVID-19
reported. During the same period, among 10,530 residents
adopting the uniformed prevention program, there are two
imported cases.
According to the comparison results in Table II, in terms
of incidence rate, the effects of diversified TCM prevention

8

f(x)

Q1

Min

Median

Max

f(x)

Q3

Q1

6

4

Min

Median

Max

Q3

f(x)

Q1

Min

Median

Max

Q3

2

5
3

1.5

4
3

2

1

2
1

0.5

1

0

0
GA

BBO

DE

CS

0

GWO WWO

GA

(a) Hangzhou, 1st round
f(x)

Q1

Min

Median

BBO

DE

CS

GWO

WWO

(b) Hangzhou, 2nd round
Max

f(x)

Q3

3

Q1

Min

Median

GA

BBO

DE

CS

GWO

WWO

(c) Hangzhou, 3rd round
Max

Q3

2
1.5

2
1
1
0.5
0

0
GA

BBO

DE

CS

GWO WWO

(d) Shaoxing, 1st round

GA

BBO

DE

CS

GWO

WWO

(e) Shaoxing, 2nd round

Fig. 4. Comparison of the resulting objective function values obtained by the algorithms for prevention program optimization. Each box plot shows the
maximum, minimum, median, first quartile (Q1), and third quartile (Q3) of objective function values over the 30 runs of an algorithm.

programs are obviously better than those of the uniformed
TCM prevention program in both the regions.
Nevertheless, due to the low incidence rate of COVID-19
in China and the limited number of residents in this study, the
comparison of incidence rates does not have sufficient statistical significance. Therefore, we also conduct a questionnaire
survey on the effects of TCM prevention programs. There are
two questions, the first is about “TCM prevention program
helps me improve health conditions”, and the second is about
“TCM prevention program helps me prevent against COVID19”. The answer to each question has seven choices: strongly
agree, agree, weakly agree, neutral, weakly disagree, disagree,
and strongly disagree.
There are a total of 7,358 residents, including 2,550 adopting our diversified TCM prevention programs and 4,808
adopting the uniformed diversified TCM prevention program,
participate the survey. Fig. 5 presents the survey results of
the question “TCM prevention program helps me improve
health conditions”. Among the participants adopting diversified prevention programs, 73% give positive answers (18%
strongly agree, 44% agree, and 11% weakly agree), which is
significantly higher than 59% among the participants adopting
the uniform prevention program who give positive answers
(16% strongly agree, 31% agree, and 12% weakly agree).
Fig. 6 presents the survey results of the question “TCM
prevention program helps me prevent against COVID-19”.
Among the participants adopting diversified prevention programs, 78% give positive answers (23% strongly agree, 41%
agree, and 14% weakly agree), which is significantly higher
than 63% among the participants adopting the uniform preven-

tion program who give positive answers (20% strongly agree,
29% agree, and 14% weakly agree).
In summary, the survey results demonstrate that the residents adopting diversified prevention programs are more
satisfied with the effects of COVID-19 prevention and health
condition improvement than the residents adopting the uniform
prevention program.
V. C ONCLUSION
In this study, we propose an intelligent optimization method
to develop diversified TCM prevention programs for reducing the spread risk of and protecting populations against
COVID-19. First, we use a fuzzy clustering method to divide
the population based on both modern medicine and TCM
health characteristics. Based on the clustering results, TCM
experts develop diversified prevention programs, which are
then evolved by an interactive optimization method until all
the resource constraints are satisfied. The proposed method
has been successfully practiced in a number of communities
in Zhejiang province, China, during the peak of COVID-19.
The reported work is an emergency study aiming at COVID19. We are continuously improving the propose method in
several aspects, including (1) using health big-data analytics
to enhance the feature set for clustering; (2) incorporating
more TCM knowledge to the interactive optimization method
to reduce the efforts of TCM experts; (3) incorporating more
medical knowledge and health assessment methods to evaluate
the effects of TCM prevention programs in a more accurate
way. It is expected that the proposed method can be extended
to the prevention and control of more epidemics in the future.

9

TABLE II
C OMPARISON OF THE EFFECTS OF OUR DIVERSIFIED TCM PREVENTION PROGRAMS WITH THOSE OF THE UNIFORMED TCM PREVENTION PROGRAM .
Diversified programs
Uniformed program
Diversified programs
Uniformed program

Hangzhou
Shaoxing

disagree
5%
weakly disagree
6%

Residents
4,625
36,138
1,227
10,530

Cases
0
6
0
2

strongly disagree
3%

strongly agree
18%

Incidence rate
0
0.0166%
0
0.0190%

Local cases
0
1
0
0

Local incidence rate
0
0.00277%
0
0

strongly disagree
5%

disagree
10%
weakly disagree
7%

strongly agree
16%

neutral
13%
neutral
19%

weakly agree
11%

agree
44%

(a) Participants adopting diversified prevention programs

agree
31%
weakly
agree
12%

(b) Participants adopting the uniform prevention program

Fig. 5. Distribution of different answers to the question “TCM prevention program helps to improve health conditions”.

disagree
4%
weakly disagree
3%
neutral
13%

strongly disagree
1%

strongly disagree
2%
strongly agree
23%

weakly agree
14%

weakly disagree
10%

disagree
12%
strongly agree
20%

neutral
14%
agree
41%

(a) Participants adopting diversified prevention programs

agree
29%

weakly agree
14%
(b) Participants adopting the uniform prevention program

Fig. 6. Distribution of different answers to the question “TCM prevention program helps to prevent against COVID-19”.

ACKNOWLEDGMENT
This work was supported by National Natural Science Foundation of China under Grant No. 61872123, Zhejiang Provincial Natural Science Foundation under Grant LR20F030002
and LQY20F030001, and Zhejiang Provincial Emergency
Project for Prevention & Treatment of New Coronavirus
Pneumonia under Grant 2020C03126.
R EFERENCES
[1] Z. Wu and J. M. McGoogan, “Characteristics of and important lessons
from the coronavirus disease 2019 (COVID-19) outbreak in China:
Summary of a report of 72 314 cases from the Chinese Center for
Disease Control and Prevention,” JAMA, vol. 323, no. 13, pp. 1239–
1242, 2020.
[2] Y. Zhang, Q. Zhao, and B. Hu, “Community-based prevention and
control of COVID-19: Experience from China,” Am. J. Infect. Control,
vol. 48, no. 6, pp. 716–717, 2020.
[3] M. McKee and D. Stuckler, “If the world fails to protect the economy,
COVID-19 will damage health not just now but also in the future,”
Nature Medicine, vol. 26, no. 5, pp. 640–642, 2020.

[4] Y.-J. Zheng, C.-X. Wu, E.-F. Chen, X.-Q. Lu, and M.-X. Zhang,
“An optimization method for production resumption planning under COVID-19 epidemic,” Oper. Res. Trans., 2020, online first:
https://kns.cnki.net/kcms/detail/31.1732.O1.20200416.0857.004.html.
[5] A. Loregian, B. Mercorelli, G. Nannetti, C. Compagnin, and G. Palù,
“Antiviral strategies against influenza virus: towards new therapeutic
approaches,” Cell. Mol. Life Sci., vol. 72, pp. 3659–3683, 2014.
[6] F. Chen, Y. Hao, J. Tang, J. Xia, S. Zhan, Y. Zhao, Z. Du, Y. Wei,
S. Shen, Q. Jiang, and L. Li, “An urgent call for raising the scientific
rigorousness of clinical trials on COVID-19,” Chinese J. Epidemiol.,
2020, doi:10.3760/cma.j.issn.0254-6450.2020.03.004.
[7] D. L. Smith, S. A. Levin, and R. Laxminarayan, “Strategic interactions
in multi-institutional epidemics of antibiotic resistance,” Proc. Nati.
Academy Sci., vol. 102, no. 8, pp. 3153–3158, 2005.
[8] X. Wang, A. Zhang, H. Sun, and P. Wang, “Systems biology technologies
enable personalized traditional chinese medicine: A systematic review,”
Am. J. Chin. Med., vol. 40, no. 06, pp. 1109–1122, 2012.
[9] A. Zhang, H. Sun, P. Wang, Y. Han, and X. Wang, “Future perspectives
of personalized medicine in traditional chinese medicine: A systems
biology approach,” Complem. Therap. Med., vol. 20, no. 1, pp. 93–99,
2012.
[10] L. Wang, Y. Wang, D. Ye, and Q. Liu, “Review of the 2019 novel coronavirus (SARS-CoV-2) based on current evidence,” Int. J. Antimicrobial
Agents, vol. 55, no. 6, p. 105948, 2020.
[11] J. Liu, E. Manheimer, Y. Shi, and C. Gluud, “Chinese herbal medicine

10

[12]

[13]

[14]

[15]

[16]

[17]
[18]
[19]

[20]

[21]

[22]

[23]
[24]
[25]
[26]
[27]

[28]

[29]

[30]

[31]
[32]

[33]
[34]

[35]

[36]

for severe acute respiratory syndrome: a systematic review and metaanalysis,” J. Alternative Compl. Med., vol. 10, pp. 1041–1051, 2004.
P. Leung, “The efficacy of Chinese medicine for SARS: A review of
Chinese publications after the crisis,” Am. J. Chin. Med., vol. 35, pp.
575–581, 2007.
C. Ji, R. Zhang, J. Liu, and L. Wang, “Review of prevention and
treatment on influenza A (H1N1) with traditional Chinese medicine,”
China J. Chin. Mat. Med., vol. 35, no. 14, pp. 1900–1903, 2010.
S. S. Chang, H. J. Huang, and C. Y. C. Chen, “Two birds with one
stone? possible dual-targeting H1N1 inhibitors from traditional Chinese
medicine,” PLoS Comput. Biol., vol. 7, no. 12, p. e1002315, 2011.
D. Y. Lu, T. R. Lu, and H. Y. Wu, “Zika therapy by traditional Chinese
medicine, a new proposal,” Adv. Pharmacol Clinical Trial, vol. 1, no. 1,
p. 103, 2016.
H. Luo, Q.-L. Tang, Y.-X. Shang, S.-B. Liang, M. Yang, N. Robinson,
and J.-P. Liu, “Can Chinese medicine be used for prevention of corona
virus disease 2019 (COVID-19)? a review of historical classics, research
evidence and current prevention programs,” Chin J Integr Med., vol. 26,
no. 4, pp. 243–250, 2020.
J.-L. Ren, A.-H. Zhang, and X.-J. Wang, “Traditional Chinese medicine
for COVID-19 treatment,” Pharmacol. Res., vol. 155, p. 104743, 2020.
J. Xu and Y. Zhang, “Traditional Chinese medicine treatment of COVID19,” Complem. Therap. Clin. Pract., vol. 39, p. 101165, 2020.
K. W. Chan, V. T. Wong, and S. C. W. Tang, “COVID-19: An update
on the epidemiological, clinical, preventive and therapeutic evidence and
guidelines of integrative Chinese-Western Medicine for the management
of 2019 Novel Coronavirus Disease,” Ame. J. Chin. Med., vol. 48, no. 3,
pp. 737–762, 2020.
L. Ang, H. W. Lee, J. Y. Choi, J. Zhang, and M. S. Lee, “Herbal medicine
and pattern identification for treating COVID-19: a rapid review of
guidelines,” Integr. Med. Res., vol. 9, no. 2, p. 100407, 2020.
L. Wanghua and L. Hua, Memorization of 50 types of syndromes in
Traditional Chinese medicine. Taiyuan: Shanxi Science and Technology
Press, 2011.
T. Kanungo, D. M. Mount, N. S. Netanyahu, C. D. Piatko, R. Silverman,
and A. Y. Wu, “An efficient k-means clustering algorithm: Analysis and
implementation,” IEEE Trans. Pattern Anal. Machine Intell., vol. 24,
no. 7, pp. 881–892, 2002.
J. Bezdek, Pattern Recognition with Fuzzy Objective Function Algorithms. New York, USA: Plenum, 1981.
Z. Xu and J. Wu, “Intuitionistic fuzzy c-means clustering algorithms,”
J. Syst. Eng. Electron., vol. 20, no. 4, pp. 580–590, 2010.
K. T. Atanassov, “New operations defined over the intuitionistic fuzzy
sets,” Fuzzy Sets Syst., vol. 61, no. 2, pp. 137–142, Jan. 1994.
R. Yager, “Pythagorean fuzzy subsets,” in Proc. IFSA/NAFIPS, Edmonton, Canada, 2013, pp. 57–61.
P. Ren, Z. Xu, and X. Gou, “Pythagorean fuzzy TODIM approach to
multi-criteria decision making,” Appl. Soft Comput., vol. 42, pp. 246–
259, 2016.
M. Gong, Y. Liang, J. Shi, W. Ma, and J. Ma, “Fuzzy c-means clustering
with local information and kernel metric for image segmentation,” IEEE
Trans. Image Processing, vol. 22, no. 2, pp. 573–584, 2013.
M. Zhang, W. Jiang, X. Zhou, Y. Xue, and S. Chen, “A hybrid
biogeography-based optimization and fuzzy c-means algorithm for image segmentation,” Soft Comput., vol. 23, no. 6, pp. 2033–2046, 2019.
Y.-J. Zheng, H.-F. Ling, and J.-Y. Xue, “Ecogeography-based optimization: Enhancing biogeography-based optimization with ecogeographic
barriers and differentiations,” Comput. Oper. Res., vol. 50, pp. 115–127,
2014.
D. Simon, “Biogeography-based optimization,” IEEE Trans. Evol. Comput., vol. 12, no. 6, pp. 702–713, 2008.
Y.-J. Zheng, H.-F. Ling, X.-B. Wu, and J.-Y. Xue, “Localized
biogeography-based optimization,” Soft Comput., vol. 18, no. 11, pp.
2323–2334, 2014.
Y.-J. Zheng, “Water wave optimization: A new nature-inspired metaheuristic,” Comput. Oper. Res., vol. 55, no. 1, pp. 1–11, 2015.
Y.-J. Zheng, X.-Q. Lu, Y.-C. Du, Y. Xue, and W.-G. Sheng, “Water
wave optimization for combinatorial optimization: Design strategies and
applications,” Appl. Soft Comput., vol. 83, p. 105611, 2019.
H. Mühlenbein and D. Schlierkamp-Voosen, “Predictive models for the
breeder genetic algorithm I. continuous parameter optimization,” Evol.
Comput., vol. 1, no. 1, pp. 25–49, Mar. 1993.
R. Storn and K. Price, “Differential evolution - a simple and efficient
heuristic for global optimization over continuous spaces,” J. Global
Optim., vol. 11, no. 4, pp. 341–359, 1997.

[37] J. J. Liang, A. K. Qin, P. Suganthan, and S. Baskar, “Comprehensive
learning particle swarm optimizer for global optimization of multimodal
functions,” IEEE Trans. Evol. Comput., vol. 10, no. 3, pp. 281–295,
2006.
[38] H. Ma, D. Simon, M. Fei, X. Shu, and Z. Chen, “Hybrid biogeographybased evolutionary algorithms,” Eng. Appl. Artif. Intell., vol. 30, no. 1,
pp. 213–224, 2014.
[39] S. Koziel and Z. Michalewicz, “Evolutionary algorithms, homomorphous
mappings, and constrained parameter optimization,” Evol. Comput.,
vol. 7, no. 1, pp. 19–44, 1999.
[40] H. Ma and D. Simon, “Blended biogeography-based optimization for
constrained optimization,” Eng. Appl. Artif. Intell., vol. 24, no. 3, pp.
517–525, 2011.
[41] F. Luchi and A. Krohlingb, R, “Differential evolution and nelder-mead
for constrained non-linear integer optimization problems,” Proc Comput.
Sci., vol. 55, pp. 668–677, 2015.
[42] M. Abdel-Baset, Y. Zhou, and M. Ismail, “An improved cuckoo search
algorithm for integer programming problems,” Int. J. Comput. Sci. Math.,
vol. 9, no. 1, pp. 66–81, 2018.
[43] H. Xing, X. Zhou, X. Wang, S. Luo, P. Dai, K. Li, and H. Yang,
“An integer encoding grey wolf optimizer for virtual network function
placement,” Appl. Soft Comput., vol. 76, pp. 575–594, 2019.

