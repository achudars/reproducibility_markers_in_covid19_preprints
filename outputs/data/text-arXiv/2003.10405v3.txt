arXiv:2003.10405v3 [physics.med-ph] 10 Apr 2020

MILANO VENTILATORE MECCANICO

Mechanical Ventilator Milano (MVM):
A Novel Mechanical Ventilator Designed for Mass Production in Response to
the COVID-19 Pandemic
C. Galbiati,1, 2, 3, 4 A. Abba,5 P. Agnes,6 P. Amaudruz,7 M. Arba,8 F. Ardellier-Desages,9
C. Badia,2 G. Batignani,,10, 11 G. Bellani,12 G. Bianchi,13 D. Bishop,7 V. Bocci,14 W. Bonivento,8
B. Bottino,15 M. Bouchard,16 S. Brice,17 G. Buccino,2, 18 S. Bussino,19, 20 A. Caminata,15
A. Capra,7 M. Caravati,8 M. Carlini,2, 18 L. Carrozzi,21 J. M. Cela,22 B. Celano,23 C. Charette,16
S. Coelli,24 M. Constable,7 V. Cocco,8 G. Croci,25 S. Cudmore,16 A. Dal Molin,25 S. D’Auria,26
G. D’Avenio,27 J. DeRuiter,16 S. De Cecco,28, 14 L. De Lauretis,29 M. Del Tutto,17 A. Devoto,8
T. Dinon,13 E. Druszkiewicz,30 A. Fabbri,19, 20 F. Ferroni,2, 14 G. Fiorillo,31, 23 R. Ford,32 G. Foti,12
D. Franco,9 F. Gabriele,3 P. Garcia Abia,22 L. S. Giarratana,33 J. Givoletti,34 Mi. Givoletti,34
G. Gorini,25 E. Gramellini,17 G. Grosso,35 F. Guescini,36 E. Guetre,7 T. Hadden,16 J. Hall,32
A. Heavey,17 G. Hersak,16 N. Hessey,7 An. Ianni,1 C. Ienzi,16 V. Ippolito,14 C. L. Kendziora,17
M. King,16 A. Kittmer,16 I. Kochanek,3 R. Kruecken,7 M. La Commara,37, 23 G. Leblond,16 X. Li,1
C. Lim,7 T. Lindner,7 T. Lombardi,29 T. Long,16 S. Longo,38 P. Lu,7 G. Lukhanin,17 G. Magni,39
R. Maharaj,7 M. Malosio,13 C. Mapelli,40 P. Maqueo,16 P. Margetak,7 S. M. Mari,19, 20
L. Martin,7 N. Massacret,7 A. McDonald,41 D. Minuzzo,42 T. A. Mohayai,17 L. Molinari Tosatti,13
C. Moretti,43 A. Muraro,35 F. Nati,25 A. J. Noble,41 A. Norrick,17 K. Olchanski,7 I. Palumbo,44
R. Paoletti,45, 11 N. Paoli,34 L. Parmeggiano,46 S. Parmeggiano,46 C. Pearson,7 C. Pellegrino,4
V. Pesudo,22, 47 A. Pocar,48 M. Pontesilli,49 R. Pordes,17 S. Pordes,17 A. Prini,13 O. Putignano,25
J.L. Raaf,17 M. Razeti,8 A. Razeto,3 D. Reed,50 A. Renshaw,6 M. Rescigno,14 F. Retiere,7
L. P. Rignanese,51 J. Rode,9, 52 L. J. Romualdez,1 R. Santorelli,22 D. Sablone,3 E. Scapparone,51
T. Schaubel,16 B. Shaw,7 A.S. Slutsky,53 B. Smith,7 N.J.T. Smith,32 P. Spagnolo,11
F. Spinella,11 A. Stenzler,54 A. Steri,8 L. Stiaccini,45, 11 C. Stoughton,17 P. Stringari,55
M. Tardocchi,35 R. Tartaglia,3 G. Testera,15 C. Tintori,34 A. Tonazzo,9 J. Tseng,56
E. Viscione,24 F. Vivaldi,34 M. Wada,57 H. Wang,58 S. Westerdale,8 S. Yue,16 and A. Zardoni42
1

Physics Department, Princeton University, Princeton, NJ 08544, USA
2
Gran Sasso Science Institute, L’Aquila 67100, Italy
3
INFN Laboratori Nazionali del Gran Sasso, Assergi (AQ) 67100, Italy
4
Museo della fisica e Centro studi e Ricerche Enrico Fermi, Roma 00184, Italy
5
Nuclear Instruments S.R.L., Como 22045, Italy
6
Department of Physics, University of Houston, Houston, Texas 77204, USA
7
TRIUMF - Canada’s National Laboratory For Particle and Nuclear Physics , Vancouver V6T 1Z4, Canada
8
INFN Sezione di Cagliari, Cagliari 09042, Italy
9
Université de Paris, CNRS, Astroparticule et Cosmologie, F-75013 Paris, France
10
Physics Department, Università degli Studi di Pisa, Pisa 56127, Italy
11
INFN Sezione di Pisa, Pisa 56127, Italy
12
Dipartimento di Medicina e Chirurgia, University of Milano - Bicocca, Milano 20126, Italy
13
CNR STIIMA, Milano 20133, Italy
14
INFN Sezione di Roma, Roma 00185, Italy
15
INFN Genova, Genova 16146, Italy
16
Canadian Nuclear Laboratories, Plant Rd Deep River, Canada

17

Fermi National Accelerator Laboratory, Batavia, IL 60510, USA
CERN, European Organization for Nuclear Research 1211 Geneve 23, Switzerland, CERN
19
INFN Sezione di Roma Tre, Roma 00146, Italy
20
Dipartimento di Matematica e Fisica, Università Roma Tre, Roma, Italy
21
Dep. of Surgical, Medical, Molecular Pathology and
Critical Care Area, University of Pisa, Pisa 56126, Italia
22
CIEMAT, Centro de Investigaciones Energéticas, Medioambientales y Tecnológicas, Madrid 28040, Spain
23
INFN Sezione di Napoli, Napoli 80126, Italy
24
INFN Sezione di Milano, Milano 20133, Italy
25
Physics Department, University of Milano - Bicocca, Milano 20126, Italy
26
Dipartimento di Fisica, Universit di Milano, Milano 20133, Italy
27
National Center for Innovative Technologies in Public Health,
ISS (Italian National Institute of Health), Roma 00161, Italy
28
Physics Department, Sapienza Università di Roma, Roma 00185, Italy
29
DISIM, Università de L’Aquila
30
Department of Physics and Astronomy, University of Rochester, Rochester, NY 14627, USA
31
Physics Department, Università degli Studi “Federico II” di Napoli, Napoli 80126, Italy
32
SNOLAB, Lively (ON) P3Y 1N2, Canada
33
Policlinico San Pietro, Ponte San Pietro, Italy
34
CAEN S.p.A., Viareggio 55049, Italy
35
Istituto per la Scienza e Tecnologia dei Plasmi del CNR, ISTP-CNR, Milano 20125, Italy
36
Max-Planck-Institut für Physik (Werner-Heisenberg-Institut), Füringer Ring 6, Mnchen 80805, Germany
37
Department of Pharmacy, Università degli Studi “Federico II” di Napoli, Napoli 80126, Italy
38
Istituto Nazionale di Fisica Nucleare - CNAF, Bologna (BO) 40127, Italy
39
Elemaster Group S.p.A., Lomagna (LC) 23871, Italy
40
Dipartimento di Meccanica, Politecnico di Milano, Milano 20156, Italy
41
Department of Physics, Engineering Physics and Astronomy,
Queen’s University, Kingston, ON K7L 3N6, Canada
42
AZ Pneumatica S.r.l., Misinto (MB) 20826, Italy
43
Department of Pediatrics, Sapienza Università di Roma, Roma 00185, Italy
44
Azienda Ospedaliera San Gerardo, Milano, Italy
45
Dipartimento SFTA, Università degli Studi di Siena, Siena 53100, Italy
46
Sergio Installazioni Snc, Treviglio (BG) 24047, Italy
47
LSC - Laboratorio Subterrneo de Canfranc, Canfranc-Estacin 22880, Spain
48
Amherst Center for Fundamental Interactions and Physics
Department, University of Massachusetts, Amherst, MA 01003, USA
49
GINEVRI S.R.L., Via Cancelliera, 25/b, Albano Laziale 00041, Italy
50
Equilbar L.L.C., Fletcher 28732, USA
51
INFN Sezione di Bologna, Bologna 40126, Italy
52
LPNHE, CNRS/IN2P3, Sorbonne Université, Université Paris Diderot, Paris 75252, France
53
St. Michael’s Hospital - University of Toronto,Toronto M5B 1W8,CANADA
54
12th Man Technologies, Garden Grove 92841, US
55
Mines Paristech - PSL - Research University, Fontainebleau Cedex 77305, France
56
Department of Physics, University of Oxford, Oxford OX1 3RH, United Kingdom
57
AstroCeNT, Nicolaus Copernicus Astronomical Center,
Polish Academy of Sciences, Warsaw 00-614, Poland
58
Physics and Astronomy Department, University of California, Los Angeles, CA 90095, USA
18

Presented here is the design of the Mechanical Ventilator Milano (MVM), a novel mechanical ventilator designed for rapid mass production in response to the COVID-19 pandemic
to address the urgent shortage of intensive therapy ventilators in many countries, and the
growing difficulty in procuring these devices through normal supply chains across borders.
This ventilator is an electro-mechanical equivalent of the old and reliable Manley Ventilator, and is able to operate in both pressure-controlled and pressure-supported ventilation
modes.
MVM is optimized for the COVID-19 emergency, thanks to the collaboration with medical
doctors in the front line. MVM is designed for large-scale production in a short amount
of time and at a limited cost, as it relays on off-the-shelf components, readily available
worldwide

1

Operation of the MVM requires only a source of compressed oxygen (or compressed medical
air) and electrical power. Initial tests of a prototype device with a breathing simulator are
also presented. Further tests and developments are underway. At this stage the MVM is not
yet a certified medical device but certification is in progress.

1.

INTRODUCTION

The large number of people affected by SARS-CoV-2 has created an urgent demand for ventilators on a global basis, a demand that exceeds the capacity of the existing supply chains, especially
in some regions where cross-border supply has been disrupted. This need has motivated the development of the mechanical ventilator (Mechanical Ventilator Milano, MVM) - a reliable, fail-safe,
and easy to operate mechanical ventilator that can be produced quickly, at large scale, based on
readily-available parts. It was inspired by the Manley ventilator [1], which was proposed in 1961,
based on “the possibility of using the pressure of the gases from the anaesthetic machine as the motive power for a simple apparatus to ventilate the lungs of the patients in the operating theatre” [2].
The MVM is designed with the same principle of simplicity in mind.
The current version of this paper reflects up to date revisions stemming from our testing and
from recommendation by medical doctors.
However, we foresee possible future updates to this paper, as we proceed with testing and as we
assess parts availability which may vary from country to country. We are also proceeding with the
required tests for certification of this ventilator, working with regulators in Italy and several other
countries.
MVM is designed to work in a pressure-controlled mode, which appears to be the correct operation
mode for the COVID-19 patients, for whom a high pressure may damage further the lungs. MVM
and can be operated in both independent ventilation (pressure-controlled ventilation, PCV) and
patient-assisted control modes (pressure-supported ventilation, PSV).
The system connects directly to a line of pressurized medical oxygen or medical air, and relies on
regulation of the flow to deliver medical air, medical oxygen, or a mixture of air and oxygen to the
patient at a pressure in the range suitable for treatment. Pressure regulation of the end-expiratory
cycle is achieved by discharging the expiratory flow through a valve which sets the desired minimum
positive end-expiratory pressure (PEEP). Another adjustable pressure limiting valve is connected
to the inspiratory line and ensures that the maximum pressure delivered does not exceed the pre-set
value.
Vocabulary and semantics are defined as per ISO 19223:2019 [3]. The system is designed to satisfy
compliance with the guidelines defined in the international standard ISO 80601-2-12:2020 [4]. The
most significant qualification tests in this respect are discussed in Sec. 6.
Important features of the MVM are:
Small Number of Components: as described in Sec. 2.
Ease of Procurement: the parts required for the construction of the MVM have been selected
based on those that are available in many nations globally. The parts selected are also characterized by their ease of use in large-scale manufacturing and assembly.
Simplicity of Construction: assembly of the parts into a complete MVM is achievable based
on a small set of clear instructions. The process for loading the software into the controller is
simple. The controller software is open source and available for customization by end users.
Cost Containment: the total cost of the components is in the hundred e ’s.
Convenience of Deployment: the device requires only connection to a line of pressurized oxygen
and standard AC electrical power (either 110 or 220 V); this makes the MVM readily deployable
in medical clinics with centralized oxygen and air supply systems, such as COVID-19 hospitals
or COVID-19-care areas in general hospitals.
Customizability: the MVM can operate in different ventilation modes: independent (PCV) and
patient-assisted (PSV) as described in Sec. 3. Also, the operating parameters can be tuned by
the operator with a simple user interface.
1

Mechanical Ventilator Milano Illustration
SF-1

20-80 cm H2O
APL Valve

GB-1

Air
3.4-6.0 bar

SF-2
PV-3

O2

Vent

Negative
Pressure
Relief
PV-4

PR-1

PV-2

PEEP Valve

PV-6

5-20 cm H2O
NO

NC

PV-5

PS-5

SP-1

S-1

PS-1

PS-6

PS-2

S-4

CT-1

Integrated Check Valves

April 10 2020

SP-2

14:26 CEST

SM-1

To Patient

CLK

FIG. 1: Illustration of the MVM ventilator and possible breathing circuit.
Reliability: the components in the MVM are commercial and readily available. We note that the
reliability of MVM has to be carefully studied based on the specifications of the components.
The system is designed to be easy to repair, just by replacing any non-functioning parts.
Limited oxygen consumption: the consumption of oxygen with this device will not exceed
6 slpm.

2.

DESIGN AND COMPONENTS

The illustration in Fig. 1 shows the MVM ventilator (components within the light blue box)
and a possible setup for the corresponding breathing circuit. The main components are described
below:
Connection to oxygen and air supply: at the left-hand side, the MVM is connected to a pressurized oxygen/air line;
Sintered filters SF-1, SF-2 the sintered filters remove particulate in the inline that can clog the
pipes;
Gas blender GB-1 The oxygen and air flow are mixed in a medical gas blender. GB-1 is external
to the MVM unit. The FiO2 set point is set manually, directly on the GB-1 unit.
Differential pressure sensors: Four differential pressure sensors PS-1, PS-2, PS-3, and PS-4
monitor the pressure and flow at different points of the breathing system.
Air/Oxygen delivery proportional valve PV-1: The incoming gas flow to the patient is controlled by the proportional valve PV-1 using a process control loop based on the value of PS-1 to
ensure that the proper respiratory minute volume is delivered to the patient. PV-1 is a normally
close (NC) valve;
Adjustable pressure limiting valve PV-3: Mechanical valve that sets the value of the maxi2

mum inspiratory pressure in the range 20–80 cm H2 O;
Negative pressure relief valve PV-4: A check valve to avoid any negative pressures during
patient assisted ventilation. In that mode, the patient is active and can spontaneously request
more air. As long as there is a positive pressure in the respiratory lines this valve remains closed.
A bacterial/viral filter may be required just before the valve to prevent contaminated room air
entering the upstream part of the system;
Oxygen sensor OS-1: An oxygen sensor OS-1 is used to continuously monitor the fraction of
inspired oxygen FiO2;
Spirometer SP-1: A precision spirometer is connected to the input line to monitor the inspiratory
flow rate;
Breathing system: The breathing system, connected to the tracheal tube, supports the attachment of two plastic tubes of standard size 22 mm connecting respectively to valves PV-1 and
PV-2, and to a smaller plastic tube leading to the differential pressure sensors PS-1, PS-2, PS-3,
and PS-4 to monitor pressure and flow. The standard for connection of the breathing system is
the 22 mm cone and socket combination defined in the standard [5];
Condensate trap CT-1: The expiration tube passes through a condensate trap allowing for removal of condensed vapor from the patient’s breath;
Silicone membrane SM-1: The silicone membrane filters access to the machine of the wet flow;
Expiration valve PV-2: This high throughput valve with low pressure-drop controls the expiratory flow. An adequate orifice diameter guarantees the flow corresponding to the expiration
of a proper respiratory minute volume at the given PEEP values; the valve is controlled by the
three-way solenoid valve PV-6.
PEEP valve PV-5: A mechanical valve that controls and defines the positive end-expiratory
pressure PEEP in the range 5–20 cm H2 O.
A first technical layout of the MVM controller base assembly box is shown in Fig. 2.
3.

CONTROL SYSTEM AND OPERATION

The control system performs supervision and actuation of the two valves (PV-1 and PV-2) based
on the programmed respiratory cycle.
The pressure sensor PS-1measures the pressure at the patient. The control system reads the
pressure on PS-1and appropriately adjusts the two valves. This ensures that the pressure is always
within the operating range: 20–80 cm H2 O for the inspiratory phase and 5 cm H2 O for the expiratory
phase.
During the inspiratory phase, PV-2 is closed and PV-1 is open. The setting of PV-1 is adjusted
to maintain the pressure within the desired range during the inspiratory period. At the end of the
programmed inspiratory period, PV-1 is closed and, after a small pause, PV-2 is opened to allow
the discharge of the lung pressure. The expiratory pressure limit PEEP is set by PV-5.
The main controller runs on a (Arduino-compatible) micro-controller board based on a 32 bit
micro-controller. These boards have a small form factor and integrate all I/O functions required
for this system.
A daughter board interfaces to the controller and provides four opto-coupled switches to operate
the electrically-controlled valves. The daughter board is provided with 24 V VDC supply and
includes the low voltage regulator to supply the central unit.
The differential pressure gauges are based on a 60 cm H2 O differential pressure sensor with a
resolution better than 0.2 cm H2 O.
A buzzer and a high luminosity LED are incorporated to signal alarms.
The MVM is equipped with an industrial power supply unit capable of at least 50 W and battery
backup operated in fail-safe mode. Under normal circumstances, the power supply will feed the
controller and keep the battery charged. In case of power failure, the battery will automatically
provide the power for ongoing system operation for up to 120 min. The power supply is hosted in
a separate enclosure to provide isolation between the oxygen lines and possible spark sources. The
3

1

8

7

6

5

4

3

2

H

1

8

30

24

G

25

32

28

25

31

32

5

13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33

29

21

4

20

2
11

33
15

(173)

7

24

21

9

23

INCHES

0

1

PARTS LIST
PART NAME / DESCRIPTION
QA STD / CODE
ENLCOSURE
COMMERCIAL GRADE
CUSTOM MANIFOLD
COMMERCIAL GRADE
ELECTROMAGNETIC VALVE ( PV-1 )
COMMERCIAL GRADE
OYGEN SENSOR ( O2S-1 )
COMMERCIAL GRADE
SPIROMETER DIGITAL FLOWMETER ( SP-1 )
COMMERCIAL GRADE
PRESSURE TRANSDUCER ( PS-1 )
COMMERCIAL GRADE
APL VALVE ( PV-4 )
COMMERCIAL GRADE
NEGATIVE PRESSURE VALVE ( PV-4 )
COMMERCIAL GRADE
SOLENOID VALVE (EV-1)
COMMERCIAL GRADE
7 INCH, INDUSTRIAL RASPBERRY PI TOUCH PANE ( PC-1 )
COMMERCIAL GRADE
LED PANEL MOUNT INDICATOR, FLUSH, GREEN, 24VDC
COMMERCIAL GRADE
LED PANEL MOUNT INDICATOR, FLUSH, RED, YELLOW, GREEN, TRICOLOUR,
COMMERCIAL GRADE
24VDC
ALARM BUZZER, AUDIO PIEZO INDICTOR, 6-28V, PANEL MOUNT
COMMERCIAL GRADE
CONNETOR, PANEL MOUNT, ETHERNET, CAT 6
COMMERCIAL GRADE
CONNECTOR, PANNEL MOUNT, USB 3.0, FEMALE A X FEMALE A
COMMERCIAL GRADE
CIRCUIT BREAKER, THERMAL, 2A, 250VAC 50VDC
COMMERCIAL GRADE
SWITCH , ROCKER, COVERED
COMMERCIAL GRADE
COMMERCIAL GRADE
CONNECTOR, POWER JACK, 2.5 X 5.5MM, SOLDER
COMMERCIAL GRADE
SMALL LINE CONNECTORS (PLACEHOLDER)
COMMERCIAL GRADE
ISO 5356 EQUAL M22/F15 - M22/F15
COMMERCIAL GRADE
ADAPTER, 1/8 BSPP M X 1/4 NPT F, SST
COMMERCIAL GRADE
FITTING, 3/4 NPTM X 1/4 NPTM, SST
COMMERCIAL GRADE
FITTING, 3/4 NPTF X 1/4 NPTF
COMMERCIAL GRADE
FITTING, 3/4 NPTM X 3/4 NPTM X 3IN LONG
COMMERCIAL GRADE
FITTING, 3/4 NPTM X 1/8 NTPF
COMMERCIAL GRADE
FITTING, 1/8 NPTM X 1/8 NPTM X 1-1/2 IN LONG
COMMERCIAL GRADE
BUSHING 3/4 NPTM X 1/4 NPTF
COMMERCIAL GRADE
ISO 5356 EQUAL M22/F15 - M22/F15
COMMERCIAL GRADE
NUT, THIN, M30 X 3.5, SST
COMMERCIAL GRADE
PLASTIC CHANNEL
COMMERCIAL GRADE
TUBING, 22mm OD, 15mm IDX 40mm LONG, BLUE
COMMERCIAL GRADE
TUBING, 4mm OD, 2 mm ID
COMMERCIAL GRADE

0

SOURCE / PART NUMBER
MVM-REF.-DESIGN-010
MVM-REF.-DESIGN-011
CAMOZZI AP-7211-QW2-U7*OX2
ANALYTICAL INDUSTRIES INC PSR-11-917-M2
SENSIRION SFM3300-AW
HONEYWELL SSCDRRN001PDAA5
ANESTHESIA ASSOCIATES 00-118
AIRLIFE 001800
McMASTER-CARR 2565N15
COMFILE CPi-A070WR & 1022-A4-2
APEM Inc. Q8F3CXXR24E
APEM Inc. Q83CZZRYG24E

QTY
1
1
1
1
1
6
1
1
1
1
1
1
1
1
1
1
1
1
2
3
4
2
1
2
2
1
1
1
1
2
1
1
3

Mallory Sonalert Products inc SC628R
McMASTER-CARR 1422N2
McMASTER-CARR 1423N4
POTTER & BRUMFIELD W58-XB1A4A-2
TBD
APEM Inc. Q8F3CXXR24E-2
CUI DEVICES PJ-065B OR EQ
Fitting Barbed 2.5mm to .25 NPT ( temp )
ISO 5356 M22 F15 - 1_4 NPT
McMASTER-CARR 4822T337
McMASTER-CARR 48805K828
McMASTER-CARR 48805K816
McMASTER-CARR 4830K195
McMASTER-CARR 4452K167
McMASTER-CARR 4830K112
McMASTER-CARR 4452K168
ISO 5356 Bulkhead M22 F15 - M22 F15
McMASTER-CARR 90381A111
SFM3109 SUPPORT
TBD
TBD

mm

ITEM
1
2
3
4
5
6
7
8
9
10
11
12

25

H

G

14
3
B

26

22

27

21

B

22
SECTION A-A

F

16

19

F

SECTION B-B (FRONT PANEL COMPONENTS REMOVED)
SCALE 1:2

(62)
A

E

E

A

(75)

(35)

(35)

(27)

ISOMETRIC RIGHT

ISOMETRIC LEFT
SCALE 1:4
(75)

(225)

(165)

(65)
D

D
10

(75)
17

11

18

11

(45)

13

(65)

(62)
(406.4)

SUPPLY SIDE

PATIENT SIDE

FRONT OF PANEL

C

C

ISOMETRIC RIGHT OPEN DOOR

(50)

16
B

B

19

BOTTOM VIEW

19

(50)

(50)

(50)

PRODUCTION QUALITY CATEGORY

UNLESS OTHERWISE SPECIFIED
ALL UNTOLERANCED DIMENSIONS
ARE BASIC

COMMERCIAL GRADE

SURFACE TOLERANCE ZONE:

PROCUREMENT QUALITY CATEGORY

MVM VENTILATOR PRELIMINARY I&C RPi ENCLOSURE GA 0D3
MVM VENTILATOR PRELIMINARY FLOWSHEET 0D12
REFERENCE NO.

A
ALL DIMENSIONS ARE IN

SEE PARTS LIST

REFERENCE DESCRIPTION

DIMENSIONING AND
TOLERANCING STANDARD

ASME
Y14.5-2009

LIMITS & FITS STANDARD

ASME
B4.2-1978

REMOVE ALL BURRS AND SHARP EDGES REVISION BLOCK

7

6

5

ENGINEERING CHANGE CONTROL (ECC) NO. N/A

Canadian Nuclear
Laboratories

USAGE EXCLUSIF
Le pr sent document et l'information qu'il contient sont la propri t d' nergie
atomique du Canada limit e (EACL). Le pr sent document ne peut tre
transmis sans l'autorisation crite d'EACL et les renseignements qu'il contient ne
peuvent tre utilis s, ni divulgu s, ni exploit s ni communiqu s sans entente
cet effet avec EACL.

Chalk River, Ontario, Canada K0J 1J0
Canadian Nuclear Laboratories Limited

BLDG. N/A

TOTAL MASS: N/A

CODE N/A

Laboratoires Nucl aires
Canadiens
Chalk River, Ontario, Canada K0J 1J0
Laboratoires Nucl aires Canadiens

CLASS M

TYPE DDW

MVM VENTILATOR
OVERALL ASSEMBLY

MILLIMETERS

MACHINED SURFACE FINISH 3.2e METERS

8

OFFICIAL USE ONLY
This document and the information contained in it is the property of Atomic
Energy of Canada Limited (AECL). No use, disclosure, exploitation, or transfer of
any information contained herein is permitted in the absense of an agreement
with AECL, and the document may not be released without the written consent
of AECL.

A

PREP:
CHKD:
THIRD ANGLE
PROJECTION

PREP

CHKD

4

DSGN

APPD

3

DATE

DSGN:
APPD:
DATE:

2

DWG NO. NA-NA-Overall
SIZE 0 SCALE 1:2

Assembly 0P6
JOB NO. N/A

1

REV 0

P5

SHT 1 OF 1
CNL INVENTOR TEMPLATE
2019 SEPT 27

FIG. 2: The MVM controller base assembly.
backup power supply unit will include two 12 V, 1.2 A h batteries.
3.1.

Pressure-Controlled Ventilation Mode

In the pressure-controlled ventilation (PCV) configuration, the unit will operate the valves in
regular cycles. The operator defines the cycle by setting the inspiratory time, PEEP, and respiratory
rate. The operator is also required to set the target inspiratory pressure. The maximum inspiratory
pressure threshold is manually set by PV-3 for patient safety. Alarms are set on the basis of the
inspiratory pressure, the minute ventilation, and the tidal volume, measured by the system itself.
Preliminary ranges of values for control and alarm parameters are listed in Table I.
3.2.

Pressure-Supported Ventilation Mode

In pressure-supported ventilation (PSV) mode, the patient triggers the ventilator. Inspiration
pressure support is given at a preset constant pressure. The ventilator regulates the pressure during
inspiration so that it corresponds to preset values within the operating ranges listed in Table II.
4.

ELECTRONICS

The goals of the MVM electronics are:
• Control the valve system;
4

Control Parameter
Respiratory rate
Inspiratory time
PEEP
Max inspiratory pressure
FiO2
Alarm Parameter
Inspiratory pressure
Tidal volume
Minute ventilation

Range
Control Step
4–50 rpm
±1 rpm
0.4–1.5 s
±0.1 s
5–20 cm H2 O
EMC
20–80 cm H2 O
EMC
21–100 %
EMC
Range
Control Step
10–80 cm H2 O ±1 cm H2 O
50–1500 mL
±50 mL
2–20 slpm
±1 slpm

TABLE I: Ranges of values for control and alarm parameters for the PCV mode of operation of
the MVM. (Note: EMC stands for external mechanical control, typically achieved via
spring-loaded PEEP valves.)

Control Parameter
PEEP
Max inspiratory pressure
FiO2
Fraction of inspiratory flow
Alarm Parameter
Inspiratory pressure
Tidal volume
Minute ventilation

Range
Control Step
5–20 cm H2 O
EMC
20–80 cm H2 O
EMC
21–100 %
EMC
5–20 %
±1 %
Range
Control Step
10–80 cm H2 O ±1 cm H2 O
50–1500 mL
±50 mL
2–20 slpm
±1 slpm

TABLE II: Ranges of values for control and alarm parameters for the PSV mode of operation of
the MVM. (Note: EMC stands for external mechanical control, typically achieved via
spring-loaded PEEP valves.)
•
•
•
•

Read the pressure and the oxygen sensors;
Generate hardware (LED, Buzzer) and visual alarms;
Provide a simple Graphic User Interface (GUI).
Visualize the system parameters on a display.
It is composed by a board hosting an ESP32 micro-controller and a Raspberry 4 unit. The
parameters are displayed on a 7 touch-screen that allows also a few parameter settings.
Fig. 3 shows the block diagram of the electrical connections.
4.1.

The electronic board

The MVM operations are managed by an electronic system which includes all the components
to measure relevant quantities, to drive the solenoid and proportional valves and to interface to the
user via a touchscreen. The micro-controller unit is based on a commercial product by Adafruit
within the Feather line: these units all share the same form factor and connections pinout while
offering different micro-controller and connectivity options. Moreover a set of daughter boards,
called Wings, provide extensions (Ethernet, touchscreen displays, LoRa radios, etc.): the wings
can be stacked. For the MVM project two feathers are of interest:
• The Huzzah32 unit is based on a 32 bit micro-controller (ESP32) produced by Espressif. The
ESP32 includes a dual core 240 MHz LX6 micro-controller, 0.5 MB of RAM, Wi-Fi and BT
connectivity. The Huzzah32 provides 21 GPIO 3.3 V (2 I2C, 1 SPI and 1 UART busses, 2 true
DACs and 12 ADCs). Furthermore all I/O pins can be configured for PWM;
• The M4 Express unit is based on a 32 bit micro-controller (ATSAMD51) produced by Microchip.
The ATSAMD51 is based on a Cortex M4 core running at 120 MHz with 0.2 MB of RAM, 21
GPIO 3.3 V (up to 6 between I2C, SPI and UART, plus 2 true DACs, and 12 ADCs).
5

FIG. 3: Block diagram of the electrical connections: the green box defines the custom control
board.
Both Feathers can be programmed with Arduino. Between the two units we picked the ESP32based solution given the more widespread use of this micro-controller in the IOT environment. This
in turns corresponds to a larger availability of the units.
The control board has been developed at LNGS, according to the design requirements of the
Milano team that is testing the proposed solution in the field. The control boards include the
following sub-systems:
• The connection to the Feather micro-controller and the voltage regulators. From the main power
supply 5 and 3.3 V are obtained via switching buck regulators providing up to 3 A. The 5 V is
then forwarded to the raspberry via a USB-C connector. The Feather connectors provide access
to all 21 GPIO pins;
• Up to 6 differential pressure sensors, model 5525DSO-DB001DS. The sensors are connected via
a I2C multiplexer;
• Two voltage regulators for the valves: since the operation voltage of the solenoid changed few
times during the project, a proper regulation was required. Therefore a 3 A step-down buck
regulator can provide any voltage below in the range 3-11 V, while a step-up boost regulator can
provide up to 24 V 3 A;
• Two ON/OFF opto-coupled valve control;
• Two analog controlled valves. The circuit allows both PWM modulation and current control:
• Two button input and high-power two alarm outputs (for buzzer and LED).
• Four I2C ports (2 of which can operated with 5 V equipment) all connected via a multiplexer, 1
SPI port and 1 UART port, 3 analog ports.
Up to two I2C are reserved to the gas flow meters (Sensirion SFM3019), and other is reserved to
the oxymeter. The oxygen sensor has not yet been identified yet: however several readout options
are available.
The control firmware runs on the micro-controller: the firmware implements a state machine
whose transitions are defined based on the sensor inputs and on the commands received from the
GUI (via the Raspberry unit). The state machine in turn controls the phase of the respiratory
6

FIG. 4: Home screen, closed menu, no alarms(left) and Vtidal (right) alarm. Preliminary version.
Reported values may be unrealistic
cycle (inhalation, pause, exhalation) by operating on the valves. The PV-1 valve is controlled via
a double feedback system: the first PID loop ensures that the PS-3 sensor always matches the
set value (Pin). The second feedback programs the Pin value to maintain the breathing cycle at
the required pressure measured at the mask level (sensor PS-2). The firmware also continuously
monitors the gas flow meter (PS-1) to decide when to interrupt the inspiration phase. Both manual
and the assisted operation modes are available.
The Raspberry 4 micro-computer is connected to the micro-controller unit via a micro-usb cable:
this allow to reprogram the micro-controller easily via the serial line. The Raspberry unit communicates with the micro-controller with the serial line during normal operations, accessing the
sensor parameters and configuring the set-points. A 7 touchscreen is connected to the Raspberry:
a proper GUI is under development to interact with the user.
Alarms are issued directly by the ESP32 firmware or by the GUI. The microcontroller unit
monitors the behavior of the connected sensors and will generate alarms when a condition happens
such that the normal operation cannot be maintained. The possible alarms include:
• Sensor not working properly
• Pressure level cannot be reached or goes in overflow
• Exhaust line reaches differential pressure equal to zero (PEEP valve not working.)
• power cut: the system is running in battery mode
The above alarms will be notified by a high luminosity LED and by a buzzer. A push button is
available to silence the alarm. The corresponding alarm code will be displayed in the LCD screen.
Furthermore the GUI will monitor the following parameters and will generate alarms in case the
parameters will exceed the selected boundaries:
• Inspiratory pressure: the pressure applied during the inspiration phase to the patient
• Vtidal (tidal volume): Volume of gas provided to the patient in a respiration cycle
• MVe (respiratory minute volume): Volume of gas inhaled (inhaled minute volume) or exhaled (exhaled minute volume) from a person’s lungs per minute
• FiO2 (fraction of inspired oxygen): Concentration of oxygen in the gas mixture that the
patient inhales
4.2.

The Graphic User Interface (GUI)

The MVM GUI is a Python3 software, written using the PyQt5 toolkit, that allows steering and
monitoring the MVM equipment. Fig. 4 shows two screenshots of it.
Project design principles:
• Ease of use and interface simplicity to make it immediate to understand and to give a familiar
feeling by the user;
• Use of entirely open-source software to let the project be easily spreadable and adaptable to
different possible needs of users in other countries and to different approach to medical procedures;
7

• Agile development techniques to speed up all phases of development (design, code, documentation, testing) and allow contributions from people having different skills;
• Portability by default to support possible hardware platform and software environment (Operating System, OS) changes with minimal effort;
• Support distributed input devices such as touchscreen, mouse and keyboard.
Involved technologies:
• Target computing platform: Raspberry Pi 4 (any memory size), chosen as a trade-off between
its computing power over power consumption ratio and its wide availability on the market;
• Target operating: Raspbian version 2020-02-13;
• Target programming language: Python 3.5;
• Target PyQt5: version 5.11.3.
The MVM GUI runs smoothly on the target hardware and software environment.

5.

COMPARISON OF MVM WITH SIEMENS SERVO900

Tests were performed with a breathing simulator, ALS 5000 of IngMar Medical [6].
Fig. 5 shows the waveform comparison in the PCV mode of MVM performance compared to
that of a Siemens Servo 900C device, a commercial ventilator working in flux control mode. The
MVM operates in pressure control mode. The difference in operation mode of the two ventilators
is clearly visible in the shape of the flow and of the airway and lung pressure.
In the MVM the airway pressure curve take some time to reach the saturation value due to
impedance of the tube connecting the pressure sensors of the MVM to the simulator. The MVM
precision spirometer is unidirectional and is therefore able only to measure the inspiratory flow. The
measurement of the expiratory flow is measured with a lesser precision by the Venturi spirometer
SP-2 and not shown in Fig. 5.
As an example, let’s consider the top two plots of Fig. 5. On the right-hand side, the Servo 900C
ventilator maintains a steady, but convoluted with a clear oscillatory pattern, flow. Both airway
and lung pressures experience a linear increase in time.
On the left-hand side, the MVM, operating in a pressure-controlled ventilation (PCV) mode, aims
at maintaining a constant pressure, but while simultaneously implementing two crucial precautions.
First, the flow is maximised at the beginning of the inspiratory cycle: this is the most appropriate
procedure for COVID-19 patients as it allows the immediate reopening of the alveoli, and is strongly
recommended by the doctors and nurses in the COVID-19 wards of Lombardy, rather than the
constant flow procedure. Second, following the immediate increase in airway and lung pressure
in coincidence with the start of the inspiratory cycle, the pressure is raised gently for the last
fifteenth percentile of the full pressure differential (pressure differential is the difference between
set inspiratory pressure and PEEP) through the end of the inspiratory cycle. The reader will also
notice that, during the inspiratory cycle, through the last fifteenth percentile of the full pressure
differential, the pressure rises smoothly and without any sort of oscillatory pattern through.
These superior characteristics of the MVM pressure transient during the inspiratory cycle are
crucial to avoid barotrauma and to minimise long term fatigue of muscles and alveoli induced by
forced mechanical ventilation. This special MVM pressure transient is achieved thanks to its ability
to finely tune the airway and lung pressure by controlling the input pressure through a complex
yet fail-safe feedback control loop.
In essence, by listening to the precious advice of medical doctors and nurses in the COVID-19
wards of Lombardy, we implemented in the MVM what we believe to be the safest and most
beneficial pressure transient for treatment of COVID-19 patients.
8

Flow

80
60

Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

:
:

60

12 [mbar/l/sec]
20
[ml/mbar]

40

[cl]

Lung Pressure

Flow
Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

[cmH2O]

12 [mbar/l/sec]
20
[ml/mbar]

[cl]

Lung Pressure

40

:
:

[cmH2O]

20

20
0
0
−20
−20
−40

−40
0

2

80

4

Flow

60

6

Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

8

:
:

10

12
T [sec]

2

4

Flow

12 [mbar/l/sec]
50
[ml/mbar]

40

[cl]

Lung Pressure

−60
0

Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

[cmH2O]

6

8

:
:

10

12
T [sec]

12 [mbar/l/sec]
50
[ml/mbar]

[cl]

Lung Pressure

[cmH2O]

40
20
20
0
0
−20

−20

−40
0

2

4

Flow

60

6

Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

8

:
:

10

12
T [sec]

2

4

Flow

15 [mbar/l/sec]
50
[ml/mbar]

40

[cl]

Lung Pressure

−40
0

Airway Pressure

[l/min] Resistance
[cmH2O] Compliance

Muscle Pressure

[cmH2O]

Lung Volume

[cmH2O]

6

8

:
:

10

12
T [sec]

15 [mbar/l/sec]
50
[ml/mbar]

[cl]

Lung Pressure

[cmH2O]

40
20
20
0
0
−20
−20

0

2

4

6

8

10

12
T [sec]

−40
0

2

4

6

8

10

12
T [sec]

FIG. 5: Comparison of performance of the MVM (left column) and of a Siemens Servo900
ventilator (right column). See text for details.
6.

TESTS BASED ON THE ISO 80601-2-12:2020 TESTING PROTOCOL

This section presents the results of the test required by the ISO reference standard [4], section
201.12 for Pressure Controlled inflation-type testing, subsection 201.12.1.102.
Our test setup is equivalent to that described in figure 201.102 of the same documents. The
measurement performed with the MVM are those reported in table 201.105. We performed the
measurements over 30 cycles in accordance to the prescription of the reference standard [4]
The MVM unit does not include an internal oxygen control unit. Instead, the FiO2 level can
be independently set by using gas blender GB-1, external to the unit, controlled either manually
or directly by the MVM unit. For this reason, the FiO2 level is not varied during the tests as
control of its value pertains to the performance of GB-1 as opposed to the performance of the
MVM. Therefore, for this round of measurements the output value of the oxygen sensors OS-1 is
not reported as the tests are done with air and the measured concentration of oxygen is constant
at 21 %.
Tidal volume is displayed both measured by the simulator and for the MVM. The MVM measures
the tidal volume by integration of the inspiratory and expiratory flows. For simplicity of rendering
of the data, the direct measurement of the expiratory flow is not shown. To best support the
understanding of the performance of the MVM, data collected with the MVM’s own sensors are
9

shown along with the data collected with the ALS 5000 breathing simulator. Pressure and PEEP are
measured according to the requests in the last 50 ms respectively of the inspiratory and expiratory
phase. A humidifier was not included in this test as its presence is not expected to affect qualification
of the MVM performance.
The recorded waveforms are presented in Fig. 6 to 8.
Test n 1
80

SIM tidal volume

[cl]

SIM flux
60

[l/min]

SIM airway pressure [cmH2O]

Test n 12
MVM tidal volume
MVM flux

[cl]

SIM tidal volume

[l/min]

MVM airway pressure [cmH2O]

SIM flux

[cl]
[l/min]

SIM airway pressure [cmH2O]

20

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
10

20

0
0
20

40

10
Inspiration Pressure = 15.0 [cmH20]

60

R = 5 [cmH2O/l/s]
42.5

45.0

Frequency = 20.0 [breath/min]

C = 50.0 [ml/cmH20]
47.5

50.0
Time [s]

Inspiration Pressure = 15.0 [cmH20]

PEEP = 5.0 [cmH20]
52.5

55.0

R = 20 [cmH2O/l/s]

57.5

(a) TV=500, C=50, R=5, p=15, r=20, PEEP=5

26

30
Time [s]

30

[cl]

SIM flux

[l/min]

SIM airway pressure [cmH2O]

PEEP = 5.0 [cmH20]
32

34

(b) TV=30, C=3, R=20, p=15, r=30, PEEP=5

Test n 18
SIM tidal volume

Frequency = 30.0 [breath/min]

C = 3.0 [ml/cmH20]
28

Test n 20
MVM tidal volume
MVM flux

[cl]

SIM tidal volume

[l/min]

MVM airway pressure [cmH2O]

SIM flux

[cl]
[l/min]

SIM airway pressure [cmH2O]

20

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

20
15

10
10

0

5

10

Inspiration Pressure = 15.0 [cmH20]
R = 50 [cmH2O/l/s]
13

Frequency = 60.0 [breath/min]

C = 1.0 [ml/cmH20]

14

15

16
Time [s]

0

Inspiration Pressure = 15.0 [cmH20]

PEEP = 5.0 [cmH20]
17

R = 50 [cmH2O/l/s]

18

28

Frequency = 30.0 [breath/min]

C = 0.5 [ml/cmH20]

30

32

PEEP = 5.0 [cmH20]

34

36

38

Time [s]

(c) TV=10, C=1, R=50, p=15, r=60, PEEP=5

(d) TV=5, C=0.5, R=50, p=15, r=30, PEEP=5

Test n 5

Test n 9

60
SIM tidal volume
SIM flux

[cl]
[l/min]

SIM airway pressure [cmH2O]

MVM tidal volume
MVM flux

[cl]
[l/min]

SIM tidal volume
30

SIM flux

MVM airway pressure [cmH2O]

[cl]
[l/min]

SIM airway pressure [cmH2O]

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
20
20
10

0
0

20
10
Inspiration Pressure = 20.0 [cmH20]
40

R = 20 [cmH2O/l/s]
45.0

47.5

Frequency = 20.0 [breath/min]

C = 20.0 [ml/cmH20]
50.0

52.5
Time [s]

55.0

Inspiration Pressure = 20.0 [cmH20]

PEEP = 5.0 [cmH20]
57.5

60.0

(e) TV=300, C=20, R=20, p=20, r=20, PEEP=5

R = 10 [cmH2O/l/s]
20

8

10

Frequency = 30.0 [breath/min]

C = 3.0 [ml/cmH20]
12

14
Time [s]

PEEP = 5.0 [cmH20]
16

18

(f) TV=50, C=10, R=10, p=20, r=30, PEEP=5

FIG. 6: The ISO test results with fixed FiO2 at 21 % are shown for each configuration: intended
tidal volume (TV) in ml, compliance (C) in ml/cm H2 O, resistance (R) in cm H2 O/l/s, inspiratory
pressure (p) in cm H2 O, rate (r) in breaths/min, and PEEP in cm H2 O. The test number on top
of the each plot corresponds to the test number in the ISO standard.

10

Test n 16
50

SIM tidal volume
SIM flux

[cl]

MVM flux

SIM airway pressure [cmH2O]

40

Test n 3
MVM tidal volume

[l/min]

[cl]

SIM tidal volume

[l/min]

[cl]

SIM flux

100

MVM airway pressure [cmH2O]

[l/min]

SIM airway pressure [cmH2O]

MVM tidal volume

[cl]

MVM flux

[l/min]

MVM airway pressure [cmH2O]

50

30

20

0

10
50
0
100
10
Inspiration Pressure = 25.0 [cmH20]
R = 200 [cmH2O/l/s]
17

Frequency = 50.0 [breath/min]

C = 1.0 [ml/cmH20]

18

19

20
Time [s]

Inspiration Pressure = 30.0 [cmH20]

PEEP = 5.0 [cmH20]
21

22

R = 5 [cmH2O/l/s]
23

(a) TV=20, C=1, R=200, p=25, r=50, PEEP=5

40

42

44

46

48
50
Time [s]

SIM flux

[cl]

MVM flux

SIM airway pressure [cmH2O]

54

56

Test n 7
MVM tidal volume

[l/min]

PEEP = 5.0 [cmH20]
52

(b) TV=500, C=20, R=5, p=30, r=20, PEEP=5

Test n 11
SIM tidal volume
60

Frequency = 20.0 [breath/min]

C = 20.0 [ml/cmH20]

[cl]

60

SIM tidal volume

[l/min]

[cl]

SIM flux

MVM airway pressure [cmH2O]

[l/min]

SIM airway pressure [cmH2O]

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
40
20
20
0
0
20

20
40
Inspiration Pressure = 30.0 [cmH20]
R = 50 [cmH2O/l/s]
40

40.0

42.5

Frequency = 20.0 [breath/min]

C = 3.0 [ml/cmH20]
45.0

47.5
Time [s]

Inspiration Pressure = 35.0 [cmH20]

PEEP = 5.0 [cmH20]

50.0

52.5

R = 50 [cmH2O/l/s]

55.0

(c) TV=50, C=3, R=50, p=30, r=20, PEEP=5

10.0

12.5

17.5
20.0
Time [s]

SIM flux

[cl]

MVM flux

SIM airway pressure [cmH2O]

25.0

27.5

Test n 2
MVM tidal volume

[l/min]

PEEP = 5.0 [cmH20]
22.5

(d) TV=300, C=50, R=50, p=35, r=20, PEEP=5

Test n 14
SIM tidal volume

Frequency = 20.0 [breath/min]

C = 10.0 [ml/cmH20]

15.0

[cl]

SIM tidal volume

[l/min]

MVM airway pressure [cmH2O]

40

[cl]

SIM flux

[l/min]

SIM airway pressure [cmH2O]

60

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
20

20
0
0
20
20
Inspiration Pressure = 35.0 [cmH20]
40

R = 20 [cmH2O/l/s]
28

30

Frequency = 30.0 [breath/min]

C = 1.0 [ml/cmH20]
32

34
Time [s]

Inspiration Pressure = 25.0 [cmH20]

PEEP = 5.0 [cmH20]
36

R = 20 [cmH2O/l/s]

38

70

(e) TV=30, C=1, R=20, p=35, r=30, PEEP=5

80

SIM tidal volume
SIM flux

40

[cl]
[l/min]

SIM airway pressure [cmH2O]

85
Time [s]

PEEP = 10.0 [cmH20]
90

95

(f) TV=500, C=50, R=20, p=25, r=12, PEEP=10

Test n 10
50

Frequency = 12.0 [breath/min]

C = 50.0 [ml/cmH20]

75

Test n 13
MVM tidal volume
MVM flux

[cl]

50

SIM tidal volume

[l/min]

MVM airway pressure [cmH2O]

SIM flux

[cl]
[l/min]

SIM airway pressure [cmH2O]

40

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

30
30
20
20
10
10
0

0

10

20

Inspiration Pressure = 25.0 [cmH20]
R = 20 [cmH2O/l/s]
28

30

Frequency = 30.0 [breath/min]

C = 3.0 [ml/cmH20]
32

34

PEEP = 10.0 [cmH20]
36

38

Time [s]

(g) TV=50, C=3, R=20, p=25, r=30, PEEP=10

Inspiration Pressure = 25.0 [cmH20]

10

R = 50 [cmH2O/l/s]
40.0

42.5

Frequency = 20.0 [breath/min]

C = 3.0 [ml/cmH20]
45.0

47.5
Time [s]

50.0

PEEP = 10.0 [cmH20]
52.5

55.0

(h) TV=30, C=3, R=50, p=25, r=20, PEEP=10

FIG. 7: The ISO test results with fixed FiO2 at 21 % are shown for each configuration: intended
tidal volume (TV) in ml, compliance (C) in ml/cm H2 O, resistance (R) in cm H2 O/l/s, inspiratory
pressure (p) in cm H2 O, rate (r) in breaths/min, and PEEP in cm H2 O. The test number on top
of the each plot corresponds to the test number in the ISO standard.
11

Test n 17
SIM tidal volume
50

[cl]

SIM flux

Test n 19
MVM tidal volume

[l/min]

[cl]

MVM flux

SIM airway pressure [cmH2O]

SIM tidal volume

40

[l/min]

SIM flux

MVM airway pressure [cmH2O]

[cl]
[l/min]

SIM airway pressure [cmH2O]

40

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

30

30
20

20
10
10
0
0
Inspiration Pressure = 25.0 [cmH20]
10

R = 200 [cmH2O/l/s]
17

Frequency = 50.0 [breath/min]

C = 1.0 [ml/cmH20]

18

19

20
Time [s]

Inspiration Pressure = 25.0 [cmH20]

10

PEEP = 10.0 [cmH20]
21

22

R = 50 [cmH2O/l/s]

23

15

(a) TV=15, C=1, R=200, p=25, r=50, PEEP=10

16

17

SIM flux

[cl]

MVM flux

SIM airway pressure [cmH2O]

19

20

(b) TV=5, C=0.5, R=50, p=25, r=60, PEEP=10
Test n 4

MVM tidal volume

[l/min]

PEEP = 10.0 [cmH20]

18
Time [s]

Test n 21
SIM tidal volume

50

Frequency = 60.0 [breath/min]

C = 0.5 [ml/cmH20]

80

[cl]

SIM tidal volume

[l/min]

SIM flux

MVM airway pressure [cmH2O]

[cl]
[l/min]

SIM airway pressure [cmH2O]

60

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
40
30
20
20
0

10

20

40

0

Inspiration Pressure = 25.0 [cmH20]
10

R = 200 [cmH2O/l/s]
14

C = 0.5 [ml/cmH20]
15

60

Frequency = 60.0 [breath/min]

16
Time [s]

PEEP = 10.0 [cmH20]
17

18

Inspiration Pressure = 35.0 [cmH20]
R = 20 [cmH2O/l/s]

19

40

(c) TV=5, C=0.5, R=200, p=25, r=60, PEEP=10

42

44

PEEP = 10.0 [cmH20]
52

48
Time [s]

[cl]
[l/min]

MVM flux

SIM airway pressure [cmH2O]

54

56

Test n 8
MVM tidal volume

[cl]

SIM tidal volume

60
SIM flux

50

(d) TV=500, C=20, R=20, p=35, r=20, PEEP=10

Test n 6
SIM tidal volume

Frequency = 20.0 [breath/min]

C = 20.0 [ml/cmH20]
46

60

[l/min]

SIM flux

MVM airway pressure [cmH2O]

[cl]
[l/min]

SIM airway pressure [cmH2O]

MVM tidal volume
MVM flux

[cl]
[l/min]

MVM airway pressure [cmH2O]

40
40
20
20
0
0

20

40

20

60
40
Inspiration Pressure = 35.0 [cmH20]
R = 50 [cmH2O/l/s]

80

Frequency = 12.0 [breath/min]

C = 20.0 [ml/cmH20]

PEEP = 10.0 [cmH20]

Inspiration Pressure = 35.0 [cmH20]
R = 10 [cmH2O/l/s]

Frequency = 20.0 [breath/min]

C = 10.0 [ml/cmH20]

PEEP = 10.0 [cmH20]

60
70

75

80
Time [s]

85

90

95

14

(e) TV=300, C=20, R=50, p=35, r=12, PEEP=10

16

18

20

22
Time [s]

24

26

28

30

(f) TV=200, C=10, R=10, p=35, r=20, PEEP=10

Test n 15
SIM tidal volume
SIM flux

[cl]
[l/min]

SIM airway pressure [cmH2O]

60

MVM tidal volume

[cl]

MVM flux

[l/min]

MVM airway pressure [cmH2O]

40

20

0

20

Inspiration Pressure = 40.0 [cmH20]
R = 100 [cmH2O/l/s]
28

30

Frequency = 30.0 [breath/min]

C = 1.0 [ml/cmH20]
32
Time [s]

34

PEEP = 10.0 [cmH20]
36

38

(g) TV=30, C=1, R=100, p=40, r=30, PEEP=10

FIG. 8: The ISO test results with fixed FiO2 at 21 % are shown for each configuration: intended
tidal volume (TV) in ml, compliance (C) in ml/cm H2 O, resistance (R) in cm H2 O/l/s, inspiratory
pressure (p) in cm H2 O, rate (r) in breaths/min, and PEEP in cm H2 O. The test number on top
of the each plot corresponds to the test number in the ISO standard.
12

6.1.

Summary plots

Measured quantities as extracted from the measured waveforms vs set quantities are reported in
Fig. 9. The average values and the maximum errors are calculated by separating them in groups
of tidal volumes (Vtidal ) as requested in [4].

±(0.3 +(0.3% of
Vtidal > 300 ml
300 ml > Vtidal >
Vtidal < 50 ml

14

12

±(27.7
Vtidal >

the value))
600
50 ml

+(4.2% of the value))
300 ml

300 ml >

Vtidal

500

Vtidal

> 50 ml

< 50 ml

4

300

200

100

2

0

400

Vtidal

6

measured

cmH2O]

8

PEEP [

[ml]

10

0

2

4

6

BAP [

8

cmH2O]

10

(a) Measured PEEP in the last 50ms of the
expiratory phase vs. BAP
±(0.1 +(0.3% of
Vtidal > 300 ml
300 ml > Vtidal >
Vtidal < 50 ml

measured

Pplateau [cmH2O]

40

0

12

0

100

200

Vtidal

300
400
from simulator [ml]

500

600

(b) Measured tidal volume (Vtidal ) by MVM vs
simulator.

the value))

50 ml

30

20

10

0

0

10

Pplateau

20
30
from simulator [

cmH2O]

40

(c) Measured pressure in the last 50ms at the
plateau of the inspiratory phase (Pplateau ) by MVM
vs simulator.

FIG. 9: Measured quantities as extracted from the measured waveforms vs set quantities. The
average values and the maximum errors are calculated by separating them in groups of tidal
volumes (Vtidal ) as requested by the ISO document.
Linear fits were performed to extract the accuracies on the various parameters. The results show
that
• the measured Pplateau accuracy is ±(0.3 +(0.3% of the value))cm H2 O
• the measured tidal volume accuracy is ±(27.7 +(4.2% of the value))ml
• the measured PEEP accuracy ±(0.1 +(0.3% of the value))cm H2 O
It should be noted that the accuracies extracted from comparison with the simulator are overestimates since they neglect the accuracy of the simulator devices which has certainly a finite value.

7.

TESTS IN PRESSURE-SUPPORTED VENTILATION MODE

Waveforms with pressure-supported ventilation mode are shown in Fig. 10 for one set of parameters. The patient is this case initiates the breathing and triggers the pressure support.
13

SIM tidal volume

[cl]

SIM flux
100

MVM tidal volume

[l/min]

[cl]

MVM flux

SIM airway pressure [cmH2O]

SIM tidal volume

[l/min]

80

MVM airway pressure [cmH2O]

[cl]

SIM flux

[l/min]

SIM airway pressure [cmH2O]

SIM muscle_pressure [cmH2O]

60

MVM tidal volume

[cl]

MVM flux

[l/min]

MVM airway pressure [cmH2O]

SIM muscle_pressure [cmH2O]

40
50
20

0

0

20
50

40
Inspiration Pressure = 15.0 [cmH20]
R = 10 [cmH2O/l/s]
20

Frequency = 15.0 [breath/min]

C = 50.0 [ml/cmH20]
25

30
Time [s]

Inspiration Pressure = 10.0 [cmH20]

PEEP = 8.0 [cmH20]
35

60
40

R = 10 [cmH2O/l/s]
20

Frequency = 15.0 [breath/min]

C = 50.0 [ml/cmH20]
25

30

PEEP = 8.0 [cmH20]
35

40

Time [s]

FIG. 10: Waveforms with pressure support ventilation mode. The green line represents the
muscle pressure as exerted by the breathing simulator.
8.

NEW FEATURES UNDER IMPLEMENTATION

The MVM will also integrate advanced features designed by anaesthesiologists participating to
the project who happen to work in the medical wards in Lombardy, the region most severely hit
by the COVID-19 epidemics. MVM will enable at the touch of a button the measurements of two
vital parameters crucial for the determination of the best course of care for COVID-19 patients.
The first parameter is the Plateau Pressure (PP), the pressure reached inside the alveoli at the
end of the inspiratory cycle. PP may be lower than the Set Inspiratory Pressure (SIP) provided by
the ventilator. The difference between PP and the PEEP is called Driving Pressure, DP (DP = PP
PEEP). The PP is measured through a forced hold at the end of inspiration, activated through the
Inspiratory Hold Maneuver (IHM) button through the touch-screen of the GUI. When the IHM
is pressed, the MVM will wait for the end of the next inspiration phase, and if the IHM is still
pressed, at that moment will hold both the inspiratory and expiratory valves closed till the IHM
button is released. An emergency reset button allows to override internal controls and to resume
the regular breathing cycle.
The PP is the pressure reached in the airway at the end of the IHM. At the end of IHM, the
screen will show a freeze frame of the cycle and will show the number of the measured PP.
The DP should be kept below 14 cm H2 O, as a pressure value too high may results in long term
damage to the lungs. Measurement of PP and DP should be performed early in the start of care of
sedated patients, to fine tune the best care regimen, which typically start by setting a Tidal Volume
(TV) of 6-8 ml/kg/IBW (Ideal Body Weight). The DP permits to fine tune the TV delivered to
the patient, taking note of the portion of the lung under viral attack and permitting doctors to
determine the best adjustment of the TV delivered to the patients.
The second parameter is the AutoPEEP, which may be zero for most patients or significantly
different from zero for patients that have obstructions in the exhalation channel, as possibly generated by secretions. In this case, the small flow during exhalation may result in an incomplete drain
of the alveoli during the expiration phase. An expiratory hold maneuver permits to momentarily
close both inspiratory and expiratory valve at the end of the expiration phase, and measure the
residual pressure in the alveoli above he PEEP level, the residual value being PEEP + AutoPEEP.
This measurement is once again performed by pushing a single button. At the press of the button,
the expiratory hold will be performed at the end of the following expiratory phase, and the hold
action will be completed at the release of the button. At this instant, the screen will show a freeze
frame of the cycle and will show the number of the measured AutoPEEP.
The true value of DP is (PP PEEP AutoPEEP). Measurement of both PP and AutoPEEP is
crucial for the determination of DP.
MVM will also carry out at the touch of a button the lung recruitment procedure, i.e., the
Recruitment Maneuver (RM), i.e., the emergency procedure required immediately after the end of
the intubation. RM consists in the prolonged lung inflation at increased inspiratory set pressure,
as necessary to reactivate the alveoli immediately after intubation. Before the start of procedure,
14

the doctor must be able to set the Pressure for the Recruitment Maneuver (PRM, from 25 to 50
cm H2 O, settable with a ±1 cm pace). The doctor will also have the choice of setting a fixed time
for the RM (Time for Recruitment Maneuver, TRM, settable from 5 to 40 seconds, pace of ±1
sec), with a reset button that can stop the procedure and return the breathing cycle to normal, or
will have the choice to keep the RM button pressed and terminate the procedure on release of the
button.
9.

LICENSE AGREEMENT

©2020: this paper describes Open Hardware and is licensed under the CERN-OHL-S v2. You
may redistribute and modify this documentation and make products using it under the terms of
the CERN-OHL-S v2 [7].
This documentation is distributed without any express or implied warranty, including of
merchantability, satisfactory quality or fitness for a particular purpose. Please see
CERN-OHL-S v2 [7] for applicable conditions.

[1] R. W. Manley, Anaesthesia 16, 317 (1961).
[2] S. Feldman, Anaesthesia 50, 64 (1995).
[3] International Organization for Standardization, ISO 19223:2019 (2019), URL https://www.iso.org/
standard/51164.html.
[4] International Organization for Standardization, ISO 80601-2-12:2020 (2020), URL https://www.iso.
org/standard/72069.html.
[5] International Organization for Standardization, ISO 5356-1:2015 (2015), URL https://www.iso.org/
standard/54851.html.
[6] IngMar Medical, ASL 5000 Breathing Simulator - IngMar Medical (2017), URL https://www.
ingmarmed.com/product/asl-5000-breathing-simulator/.
[7] CERN, CERN Open Hardware Licence (2020), URL https://cern-ohl.web.cern.ch.

15

