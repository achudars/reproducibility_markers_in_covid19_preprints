COVIDX: Computer-aided diagnosis of Covid-19 and its severity prediction
with raw digital chest X-ray images
Wajid Arshad Abbasi1, *, Syed Ali Abbas1, Saiqa Andleeb2
1

Computaional Biology and Data Analysis Lab., Department of Computer Sciences & Information

Technology, King Abdullah Campus, University of Azad Jammu & Kashmir, Muzaffarabad,
AJ&K, 13100, Pakistan.
2

Biotechnology Lab., Department of Zoology, King Abdullah Campus, University of Azad Jammu

& Kashmir, Muzaffarabad, AJ&K, 13100, Pakistan.
*Corresponding author‚Äôs emails: wajidarshad@gmail.com; wajidarshad@ajku.edu.pk

Abstract
Coronavirus disease (COVID-19) is a contagious infection caused by severe acute respiratory
syndrome coronavirus-2 (SARS-COV-2) and it has infected and killed millions of people across
the globe. In the absence of specific drugs or vaccines for the treatment of COVID-19 and the
limitation of prevailing diagnostic techniques, there is a requirement for some alternate automatic
screening systems that can be used by the physicians to quickly identify and isolate the infected
patients. A chest X-ray (CXR) image can be used as an alternative modality to detect and diagnose
the COVID-19. In this study, we present an automatic COVID-19 diagnostic and severity
prediction (COVIDX) system that uses deep feature maps from CXR images to diagnose COVID19 and its severity prediction. The proposed system uses a three-phase classification approach
(healthy vs unhealthy, COVID-19 vs Pneumonia, and COVID-19 severity) using different shallow
supervised classification algorithms. We evaluated COVIDX not only through 10-fold cross-

1

validation and by using an external validation dataset but also in real settings by involving an
experienced radiologist. In all the evaluation settings, COVIDX outperforms all the existing stateof-the-art methods designed for this purpose. We made COVIDX easily accessible through a
cloud-based

webserver

and

python

code

available

at

https://sites.google.com/view/wajidarshad/software and https://github.com/wajidarshad/covidx,
respectively.
Keywords: Coronavirus, COVID-19, diagnosis, SARS-COV-2, Chest X-Ray, Contagious
infection, Pandemic

1. Background
Coronavirus disease (COVID-19) is a contagious infection caused by severe acute respiratory
syndrome coronavirus-2 (SARS-COV-2) and its transmission is also possible from asymptotic
patients while incubation (Huang et al., 2020; Kooraki et al., 2020). This pandemic has infected
and killed millions of people across the globe (‚ÄúCOVID-19 Map,‚Äù n.d.). The World Health
Organization (WHO) has already declared this pandemic as a global health calamity (‚ÄúCoronavirus
disease (COVID-19) ‚Äì World Health Organization,‚Äù n.d.). According to medical experts, this
disease mainly infects the human respiratory system causing severe pneumonia showing symptoms
of dry cough, breathing problems, fever, fatigue, and lung failure, etc (Cheng et al., 2020; Huang
et al., 2020). Right now, the world is curiously waiting for a specific vaccine or medication to
prevent this lethal infection.
In the absence of specific drugs or vaccines for the treatment of COVID-19, early diagnosis of the
disease is crucial to avoid further spread by advising quarantine or isolation. Currently, there are
two types of tests to detect COVID-19: diagnostic tests and antibody tests (Commissioner, 2020).

2

A diagnostic test such as Reverse transcription-polymerase chain reaction (RT-PCR) can be used
to detect an active coronavirus infection. Whereas, the antibody test looks for antibodies created
in your body in the response to the disease. RT-PCR is the most common diagnostic practice to
detect viral infection (Sheikhzadeh et al., 2020). However, the standard confirmatory clinical RTPCR test to detect COVID-19 is manual, complex, laborious, and costly (Chowdhury et al., 2020).
Moreover, the limited availability of test kits and domain experts further hamper the situation.
Meanwhile, antibody tests cannot be used to diagnose COVID-19 as after infection, antibodies can
take numerous days or weeks to develop and may stay in your blood a bit longer after recovery
(Commissioner, 2020). Keeping in view the limitation of prevailing diagnostic techniques and a
rapid surge of infected patients, there is a requirement for some alternate automatic screening
systems that can be used by the physicians to quickly identify and isolate the infected patients.
X-ray imaging is the most common noninvasive diagnostic technique that helps medical
practitioners to diagnose and treat many diseases. A chest X-ray (CXR) is normally taken to assess
the medical fitness of the lungs, heart, and chest wall. The CXR has also been playing a critical
role in the pilot investigation of various respiratory irregularities (Chandra et al., 2021; Chandra
and Verma, 2020a). In this context, a CXR image can also be used as an alternative modality to
detect and diagnose the COVID-19. CXR images are normally interpreted by expert radiologists.
Whereas, some studies show that CXR images of COVID-19 infected patients show diverse
features (Cheng et al., 2020; Chowdhury et al., 2020; Zhang et al., 2020). Therefore, the manual
interpretation of these CXR images with subtle variations is quite challenging. Moreover, the
current enormous upsurge of infected patients makes it a challenging task for the domain experts
to complete a timely diagnostic(Asnaoui et al., 2020; Chandra et al., 2021). To combat this
situation some Computer-Aided Diagnosis (CAD) systems are the need of the time.

3

In Computer-Aided Diagnosis (CAD) using X-ray images, machine learning has already been
applied successfully in many clinical and radiological studies to describe various characteristics of
radio-imaging (Jaiswal et al., 2019; Pesce et al., 2019; Xue et al., 2018). Also to diagnose COVID19 using X-ray images, a plethora of machine learning-based methods with varying sources and
amount of training data have been proposed in the literature (Abbas et al., 2020; Ardakani et al.,
2020; Asnaoui et al., 2020; Chowdhury et al., 2020; Jain et al., 2020; Minaee et al., 2020; Ozturk
et al., 2020; Panwar et al., 2020; Toƒüa√ßar et al., 2020). Almost all the proposed methods in the
literature are based on Convolution Neural Network (CNN) deep learning approach (LeCun et al.,
1999). However, deep learning approaches to generalize well normally require an enormous
amount of data which is not readily available right now. Although, some studies have been
proposed using transfer learning where to fine-tune the model, a handsome amount of data is
required keeping in view the dimensionality of features produced through pre-trained deep
learning models. Moreover, the above studies have been proposed only to diagnose COVID-19
but its severity detection is still an open research question. To overcome these shortcomings, in
this study we have proposed COVID-19 diagnosis and its severity predictor called COVIDX
(COVId-19 Detection using X-ray images) by employing a blend of deep and shallow learning.

2. Methods
In this section, we discuss the details of our experimental strategy to design COVIDX (COVId19 Detection using X-ray images) and its evaluation.
2.1. Datasets and their preprocessing
The datasets used in this study have been collected from different publicaly open online COVIDchest-X-ray image repositories (Cohen et al., 2020; Wang et al., 2020). We used two different

4

Fig. 1. A proposed methodology for the development of computer-aided COVID-19 diagnosis and its severity
prediction system.

datasets: i) dataset for COVID-19 diagnosis and ii) dataset for COVID-19 severity prediction. For
COVID-19 diagnosis, we have a dataset of 576, 1583, and 4273 digital X-ray images (jpg format)
of COVID-19 patients, healthy persons, and pneumonia patients, respectively. Whereas for
COVID-19 severity prediction, we have a dataset of 114 and 164 X-ray images of highly severe
and less severe COVID-19 patients, respectively. All the images in both datasets have been
preprocessed including image resizing (313 √ó 313 pixels), de-noising, and contrast stretching
(Chandra and Verma, 2020b).
2.2. Proposed Methodology
We propose a machine learning approach for the identification and severity prediction of COVID19 infection from raw digital chest X-ray images. The methodology adopted in this study has been
depicted in Fig. 1.
2.3. Feature Extraction

5

To extract useful feature space from the digital chest X-ray images in our datasets, we have used
different off-the-shelf CNN based pre-trained models on ImageNet. These pre-trained models
include Resnet50 (He et al., 2015), InceptionV3 (Szegedy et al., 2015), Xception (Chollet, 2017),
VGG16 (Simonyan and Zisserman, 2015), NASNetLarge (Zoph et al., 2018), DenseNet121
(Huang et al., 2018). The selection of these pre-trained CNN based models was based on their
reported accuracy. Preprocessing and resizing required by the pre-trained models have been
applied before extracting the features map.
2.4. Classifiers for the identification and prediction of severity of COVID-19
We propose a machine learning based approach for the identification and severity prediction of
COVID-19 from digital chest X-ray images. As discussed earlier, the novelty of the proposed
approach is that it uses a blend of pre-trained CNN based models to extract features and shallow
learning algorithms for the classification purpose. The proposed scheme is based on the paradigm
of transfer learning.
In this work, our dataset consists of examples of the form (ùêºùëñ , ùë¶ùëñ ) where ùêºùëñ is a chest X-ray image
and ùë¶ùëñ ‚àà {+1, ‚àí1} is its associated label. For COVID-19 identification, ùë¶ùëñ indicate whether ùêºùëñ
COVID-19 (+1) or not (-1) and for COVID-19 Severity prediction ùë¶ùëñ indicate high (+1) or low (1). For a given chest X-ray image ùêºùëñ , we extract deep feature maps from it which are denoted by
ùíôùëñ . Our objective is to learn three separate functions for the identification and its severity
prediction. For this purpose, we have used three different classifiers: classical Support Vector
Machine (SVM), Random Forest (RF), and Gradient Boosting Machine (XGBoost) (Breiman,
2001; Cortes and Vapnik, 1995; Friedman, 2001).
2.4.1. Support Vector Classification (SVC)

6

We used SVM for the diagnosis of COVID-19 and its severity prediction by learning a function
ùëì(ùë•) = ‚å©ùíò, ùíô‚å™ with ùíò as parameters to be learned from the training data {(ùíôùíä , ùë¶ùëñ )| ùëñ =
1, 2, ‚Ä¶ , ùëÅ}. The optimal value of the ùíò is obtained in SVM by solving the following optimization
problem (Cortes and Vapnik, 1995).

ùëÅ

1
ùëöùëñùëõùë§,ùúâ ùúÜ‚Äñùíò‚Äñ2 + ‚àë ùúâùëñ
2
ùëñ=1

ùëÜùë¢ùëê‚Ñé ùë°‚Ñéùëéùë° ùëìùëúùëü ùëéùëôùëô ùëñ: ùë¶ùëñ ‚å©ùíò, ùíôùëñ ‚å™ ‚â• 1 ‚àí ùúâùëñ , ùúâùëñ ‚â• 0

(1)

The objective function in Eq. (1) maximizes the margin while minimizing margin violations (or
1

slacks Œæ) (Cortes and Vapnik, 1995). The hyperparameter ùúÜ = ùê∂ controls the tradeoff between
margin maximization and margin violation. We used both linear and radial basis function (RBF)
kernels and coarsely optimized the values of Œª and Œ≥ using grid search with scikit-learn
(version:0.23) (Pedregosa et al., 2011).
2.4.2. Random Forest Classification (RFC)
Random Forest Classification (RFC) uses an ensemble learning technique based on bagging for
regression. A random forest operates by constructing several decision trees in parallel during
training and outputs the mean of the classes as the prediction of all trees(Breiman, 2001). It usually
performs better on problems having features with non-linear relationships. Each classification tree
in the RF is constructed on randomly sampled subsets of input features. In this study, we have
optimized RF for the number of decision trees in the forest, the maximum number of features
considered for splitting a node, the maximum number of levels in each decision tree, and a
minimum number of samples required to split. We have also seen this regression technique

7

effectively in action in many other studies (Abbasi et al., 2017; Ballester and Mitchell, 2010; Li et
al., 2014; Moal et al., 2011).
2.4.3. XGBoost Calssification (XGBC)
XGBoost is also an ensemble learning technique based on the boosting that combines weak
learners into a strong learner in an iterative fashion (Chen and Guestrin, 2016; Friedman, 2001).
We have used trees as default base learners in XGBoost ensembles. In this study, we have
optimized XGBoost in terms of the learning rate, maximum depth, the number of boosting
iterations, booster, and subsample ratio with a grid search and using a python-based package
xgboost 0.7 (Chen and Guestrin, 2016).
2.5. Model validation, selection, and performance assessment
We have divided the preprocessed images into two sub-sets: train-test set (80%), held-out
validation set (20%), and reported performance metrics on both the sub-sets. For the train-test set,
we have used 10-fold cross-validation (CV). In 10-fold CV, we have shuffled images in our
datasets and then split them into 10 groups. Ten models have been trained and evaluated with each
group given a chance to be held out as the test set (Abbasi and Minhas, 2016). For the held-out
validation set, we trained the classification models using the whole train-test set and tested on the
validation set. For performance metrics, we have used the area under the ROC curve (ROC), the
area under the precision-recall curve (PR), and F-measure as performance measures for model
evaluation and performance assessment(Abbasi and Minhas, 2016; Davis and Goadrich, 2006;
Tharwat, 2020). We used grid search over training data to find the optimal values of hyperparameters of different classification models.
2.6. Webserver for COVIDX

8

Table 1: Predictive performance for COVID-19 diagnosis across different classification models and
feature maps using 10-fold CV (Healthy vs Un-healthy X-ray Images)
Feature Map
SVC
RFC
XGBC
ROC
PR
F1
ROC
PR
F1
ROC
PR
0.98¬±0.01 0.98¬±0.01
0.98
0.99¬±0.03
0.98¬±0.08 0.96
0.98¬±0.03
0.98¬±0.08
Resnet50
0.99¬±0.01 0.98¬±0.01
0.99
0.99¬±0.01
0.99¬±0.01 0.97
0.99¬±0.01
0.99¬±0.01
Xception
0.98¬±0.01
0.99¬±0.01
0.97
0.99¬±0.01
0.99¬±0.02
0.97
0.99¬±0.02
0.99¬±0.01
InceptionV3
0.98¬±0.01
0.97¬±0.01
0.98
0.99¬±0.01
0.99¬±0.01
0.99
0.99¬±0.01
0.99¬±0.01
VGG16
0.98¬±0.01
0.98¬±0.01
0.96
0.99¬±0.01
0.99¬±0.01
0.97
0.98¬±0.03
0.98¬±0.01
NASNetLarge
0.99¬±0.01
0.99¬±0.01
0.99
0.96¬±0.03
0.96¬±0.01
0.99¬±0.01
0.99¬±0.01
0.98
DenseNet121

F1
0.98
0.98
0.97
0.98
0.96
0.97

ROC (Area under the ROC curve), PR (Area under the precision-recall curve), F1 (F1 Score), SVC (Support Vector classifier), RF (Random
Forest classifier), XGBC (XGBoost classifier). Bold-faced values indicate the best performance for each model.

We have developed and deployed a webserver of COVIDX which uses the optimal machine
learning model for COVID-19 diagnosis and its severity prediction. This webserver takes a chest
X-ray image and performs COVID-19 diagnosis and its severity prediction for it. After the
successful submission of an X-ray image, the users are redirected to a page showing COVIDX
predictions for COVID-19 diagnosis and its severity prediction. This process has broken into three
steps: 1) whether the uploaded image belongs to a healthy person or unhealthy one (Healthy vs
Un-healthy), 2) if the uploaded image belongs to an unhealthy person then whether it is COVID19 infection or not (COVID-19 or not), and 3) if it is COVID-19 infection then how severe it is.
The webserver is available at https://sites.google.com/view/wajidarshad/software.

3. Results and discussion
In this work, we have proposed a machine learning-based computer-aided COVID-19 diagnosis
and its severity prediction. We have divided the COVID-19 diagnostic task into three sub-tasks
based on the available data: 1) classification of healthy vs unhealthy, 2) classification of COVID19 vs Pneumonia, and 3) COVID-19 severity prediction. For this purpose, we have used various
machine learning algorithms and different deep features. In what follows we present results
showing the prediction performance of our proposed method over cross-validation and an external
test dataset.
9

Table 2: Predictive performance for COVID-19 diagnosis across different
classification models and feature maps on external validation dataset (Healthy vs
Un-healthy X-ray Images)
Feature Map
SVC
RFC
XGBC
ROC
PR
F1
ROC
PR
F1
ROC PR
F1
0.97
0.97
0.91
0.98
0.97
0.91
0.97
0.96 0.93
Resnet50
0.98
0.97
0.91
0.97
0.97
0.91
0.97
0.97 0.93
Xception
0.96
0.95
0.89
0.97
0.98
0.88
0.97
0.98 0.90
InceptionV3
0.97
0.97
0.91
0.98
0.97
0.91
0.98
0.97 0.91
VGG16
0.96
0.95
0.87
0.96
0.96
0.85
0.96
0.96 0.88
NASNetLarge
0.99
0.98
0.98
0.98
0.97
0.94
0.99
0.98 0.96
DenseNet121
ROC (Area under the ROC curve), PR (Area under the precision-recall curve), F1 (F1 Score), SVC (Support
Vector classifier), RF (Random Forest classifier), XGBC (XGBoost classifier). Bold-faced values indicate the
best performance for each model.

3.1. Predictive performance for the classification of healthy versus unhealthy X-ray images
We have trained various shallow machine learning models for the classification of healthy versus
unhealthy X-ray images with a range of deep learning-based feature maps and evaluated using
both 10-fold cross-validation (CV) and on an external validation dataset. The results of our
evaluation in both settings are shown in Tables 1 & 2 and Fig. 2 (A&B). Using 10-fold CV, we
observed a maximum F1-score of 0.99 along with 0.99, and 0.99 as the area under the ROC curve,
and the area under the PR curve, respectively with Support Vector Classifier and DenseNet121
feature map (Table 1). These results On 10-fold CV show the comparable performance of our
proposed method in comparison to the state-of-the-art method proposed by Chandra et al (Chandra
et al., 2021). Meanwhile, using an external dataset for the evaluation of our machine learning
models trained on the training set, we observed a similar trend of performance with an F1-score of
0.98 along with 0.99, and 0.99 as the area under the ROC curve, and the area under the PR curve,
respectively with Support Vector Classifier and DenseNet121 feature map (Table 2, Fig. 2A, Fig.
2B). These results show a better performance of our proposed method in comparison to the stateof-the-art method proposed by Chandra et al., with an F1-score of 0.96 and the area under the ROC
curve of 0.93 with SVM (RBF kernel). The significantly better performance of SVM in
comparison to Random Forest (RF) and Extreme Boosting Machine (XGB) is attributed to its

10

ability to deal well with high dimensional features with fewer examples as in our case. Moreover,
features extracted through pre-trained deep learning models perform better than handcrafted ones
as in the case of the study performed by Chandra et al., (Chandra et al., 2021).
3.2. Predictive performance for the classification of COVID-19 versus Pneuminia X-ray
images
We have also trained various shallow machine learning models for the classification of COVID19 versus Pneumonia X-ray images with a range of deep learning-based feature maps and
evaluated using both 10-fold cross-validation (CV) and on an external validation dataset. The
results of our evaluation in both settings are shown in Tables 3 & 4 and Fig. 2 (C&D). Using 10fold CV, we observed a maximum F1-score of 0.99 along with 0.99, and 0.99 as the area under
the ROC curve, and the area under the PR curve, respectively with Support Vector Classifier and
DenseNet121 feature map (Table 3). These results across 10-fold CV show an improved
performance of our proposed method in comparison to the state-of-the-art method proposed by
Chandra et al., with a maximum F1-score of 0.84 and the area under the ROC curve of 0.85 with
SVM (linear kernel) (Chandra et al., 2021). Meanwhile, using an external dataset for the evaluation
of our machine learning models trained on the training set we observed a similar trend of
performance with an F1-score of 0.99 along with 0.99, and 0.99 as the area under the ROC curve,

Table 3: Predictive performance for COVID-19 diagnosis across different classification models and feature
maps using 10-fold CV (COVID-19 vs Pneumonia X-ray Images)
Feature Map
SVC
RFC
XGBC
ROC
PR
F1
ROC
PR
F1
ROC
PR
F1
0.98¬±0.01 0.97¬±0.01
0.97
0.99¬±0.03
0.98¬±0.08 0.96
0.98¬±0.03
0.98¬±0.08 0.98
Resnet50
0.98¬±0.01 0.97¬±0.01
0.98
0.99¬±0.01
0.99¬±0.01 0.97
0.99¬±0.01
0.99¬±0.01 0.98
Xception
0.98¬±0.01 0.97¬±0.01
0.97
0.99¬±0.01
0.99¬±0.02 0.97
0.99¬±0.02
0.99¬±0.01 0.97
InceptionV3
0.98¬±0.01 0.97¬±0.01
0.98
0.98¬±0.01
0.97¬±0.01 0.98
0.99¬±0.01
0.99¬±0.01 0.98
VGG16
0.96
0.99¬±0.01
0.99¬±0.01 0.97
0.98¬±0.03
0.98¬±0.01 0.96
NASNetLarge 0.97¬±0.01 0.97¬±0.01
0.99¬±0.01 0.99¬±0.01
0.99
0.99¬±0.01
0.99¬±0.01 0.98
0.99¬±0.03
0.99¬±0.01 0.99
DenseNet121
ROC (Area under the ROC curve), PR (Area under the precision-recall curve), F1 (F1 Score), SVC (Support Vector classifier), RF (Random
Forest classifier), XGBC (XGBoost classifier). Bold-faced values indicate the best performance for each model.

11

Table 4: Predictive performance for COVID-19
classification models and feature maps on an external
19 vs Pneumonia X-ray Images)
Feature Map
SVC
RFC
ROC
PR
F1
ROC
PR
0.99
0.99
0.98
0.99
0.98
Resnet50
0.99
0.99
0.98
0.97
0.97
Xception
0.99
0.99
0.98
0.97
0.98
InceptionV3
0.99
0.99
0.99
0.98
0.97
VGG16
0.98
0.99
0.98
0.96
0.96
NASNetLarge
0.99
0.99
0.99
0.99
0.99
DenseNet121

diagnosis across different
validation dataset (COVID-

F1
0.96
0.95
0.96
0.91
0.90
0.98

ROC
0.99
0.97
0.97
0.98
0.96
0.99

XGBC
PR

F1

0.98
0.97
0.98
0.97
0.96
0.99

0.98
0.95
0.96
0.94
0.93
0.99

ROC (Area under the ROC curve), PR (Area under the precision-recall curve), F1 (F1 Score), SVC (Support
Vector classifier), RF (Random Forest classifier), XGBC (XGBoost classifier). Bold-faced values indicate the
best performance for each model.

and the area under the PR curve, respectively with Support Vector Classifier and DenseNet121
feature map (Table 4, Fig. 2C, Fig. 2D). These results show a better performance of our proposed
method in comparison to the state-of-the-art method proposed by Chandra et al., with an F1-score
of 0.91 and the area under the ROC curve of 0.91 even after using majority voting (Chandra et al.,
2021). The significantly better performance of SVM in comparison to Random Forest (RF) and
Extreme Boosting Machine (XGB) is attributed to its ability to deal well with high dimensional
features with fewer examples as in our case. Moreover, features extracted through pre-trained deep
learning models perform better than handcrafted ones as in the case of the study performed by
Chandra et al., (Chandra et al., 2021).
3.3. Predictive performance for COVID-19 severity prediction
Along with COVID-19 identification, we have also tried to predict the severity of COVID-19
infection. For this purpose, we have trained several shallow machine learning models for the
Table 5: Predictive performance for COVID-19 severity prediction across different classification
models and feature maps using 10-fold CV
Feature Map
SVC
RFC
XGBC
ROC
PR
F1
ROC
PR
F1
ROC
PR
0.92¬±0.12 0.82¬±0.28
0.86
0.85¬±0.23 0.73¬±0.31 0.80 0.96¬±0.11 0.89¬±0.17
Resnet50
0.87¬±0.14 0.74¬±0.28
0.82
0.81¬±0.25 0.67¬±0.29 0.78 0.86¬±0.28 0.78¬±0.29
Xception
0.86¬±0.13 0.68¬±0.29
0,74
0.73¬±0.30 0.58¬±0.30 0.75 0.82¬±0.26 0.76¬±0.29
InceptionV3
0.90¬±0.24 0.88¬±0.26
0.83
0.81¬±0.24 0.70¬±0.24 0.77 0.82¬±0.26 0.72¬±0.31
VGG16
NASNetLarge 0.80¬±0.31 0.76¬±0.30 0.76 0.80¬±0.26 0.65¬±0.30 0.76 0.79¬±0.26 0.68¬±0.31
0.96¬±0.17 0.90¬±0.19
0.90
0.90¬±0.19 0.78¬±0.26 0.84 0.90¬±0.20 0.83¬±0.26
DenseNet121

F1
0.90
0.82
0.78
0.80
0.75
0.90

ROC (Area under the ROC curve), PR (Area under the precision-recall curve), F1 (F1 Score), SVC (Support Vector classifier), RF (Random
Forest classifier), XGBC (XGBoost classifier). Bold-faced values indicate the best performance for each model.

12

classification of more severe versus less severe COVID-19 infection using X-ray images of
COVID-19 infected patients with a range of deep learning-based feature maps and evaluated using
10-fold cross-validation (CV). To the best of our knowledge, this is the first study on COVID-19
Severity prediction. The results of our evaluation are shown in Table 5. Using 10-fold CV, we
observed a maximum F1-score of 0.90 along with 0.96, and 0.90 as the area under the ROC curve,
and the area under the PR curve, respectively with Support Vector Classifier and DenseNet121
feature map (Table 3). These results show a reasonable performance of COVIDX over the severity
prediction of COVID-19 infection.
(A)

(B)

(C)

(D)

Fig. 2. Receiver Operating Characteristic (ROC) and Precision-Recall (PR) curves showing predictive performance
of COVIDX for the classification of chest X-ray images (Healthy vs Unhealthy and COVID-19 vs Pneumonia)
across different classifiers (SVM, RF, XGB) and DenseNet feature map on an external validation dataset. Healthy
vs Unhealthy (A&B); COVID-19 vs Pneumonia (C&D).

13

3.4. Performance of proposed computer-aided COVID-19 diagnostic system in a real
setting
Performance of COVIDX has also been evaluated using its webserver in a real setting under the
supervision of an experienced radiologist at Abbas Institute of Medical Sciences (AIMS) hospital
located in Muzaffarabad, Azad Jammu & Kashmir, Pakistan. For this purpose, 30 X-ray images
(anonymous) belonging to different classes (10 COVID-19 infected, 10 Pneumonia infected, and
10 Healthy persons) have been used. Results obtained through this evaluation are shown as a
confusion matrix in Fig. 3. Our proposed system (COVIDX) has been able to classify correctly 9
out of 10 provided X-ray images of COVID-19 infected patients and 1 as Pneumonia (Fig. 3).
Similarly, for the provided X-ray images of Pneumonia infected patients, our system classified
correctly 8 out of 10 images, 1 as COVID-10 and 1 as healthy (Fig. 3). For provided health x-ray
images, our system classified 9 out of 10 images correctly as healthy and 1 as Pneumonia. These
results justify the use of our proposed system in real settings.

4. Conclusion
In the present study, we have designed and developed a system called COVIDX

for the

preliminary diagnosis of COVID-19 infection and its severity prediction from a raw X-ray image.
The performance evaluation through 10-fold CV, on an external validation dataset, and in a real
setting show that our proposed system can efficiently be used to diagnose COVID-19 infected
patients and to suggest precautionary measures (such as quarantine and RT-PCR test) avoiding the
further surge of the infection. The key findings of the study are listed as follows:

14

Fig. 3. Confusion matrix: Showing COVIDX performance in a real setting used by an experienced
radiologist.

ÔÇ∑

Our proposed system performed significantly better in comparison to the state-of-the-art
existing systems during the rigorous adopted evaluation criteria even in the presence of
substantial variations in the input CXR images.

ÔÇ∑

Our proposed system not only diagnose COVID-19 but also predict its severity.

ÔÇ∑

We have made our proposed system accessible through a publically open cloud-based
webserver and open-source code.

Acknowledgments
The authors would like to acknowledge the services of all those who have provided compiled and
annotated X-ray image dataset as open access repositories.
Availability of data and materials

15

All data generated or analyzed during this study are included in this paper or available at online
repositories. A Python implementation of the proposed method together with a webserver is
available

at

https://sites.google.com/view/wajidarshad/software

and

https://github.com/wajidarshad/covidx.
Authors‚Äô contributions
WAA conceived the idea, developed the scientific workflow, performed the experiments, analyzed
and interpreted the results, and was a major contributor in manuscript writing. SAA contributed to
the analysis of the results and writing of the manuscript. SA helped in results interpretation and
validation, formal analysis, and manuscript writing. All authors have read and approved the final
manuscript.
Competing interests
The authors declare that they have no competing interests.

References
Abbas, A., Abdelsamea, M.M., Gaber, M.M., 2020. Classification of COVID-19 in chest X-ray
images using DeTraC deep convolutional neural network. Appl Intell.
https://doi.org/10.1007/s10489-020-01829-7
Abbasi, W.A., Hassan, F.U., Yaseen, A., Minhas, F.U.A.A., 2017. ISLAND: In-Silico Prediction
of Proteins Binding Affinity Using Sequence Descriptors.
Abbasi, W.A., Minhas, F.U.A.A., 2016. Issues in performance evaluation for host‚Äìpathogen
protein interaction prediction. J. Bioinform. Comput. Biol. 14, 1650011.
https://doi.org/10.1142/S0219720016500116
Ardakani, A.A., Kanafi, A.R., Acharya, U.R., Khadem, N., Mohammadi, A., 2020. Application of
deep learning technique to manage COVID-19 in routine clinical practice using CT images:
Results of 10 convolutional neural networks. Computers in Biology and Medicine 121,
103795. https://doi.org/10.1016/j.compbiomed.2020.103795
Asnaoui, K.E., Chawki, Y., Idri, A., 2020. Automated Methods for Detection and Classification
Pneumonia based on X-Ray Images Using Deep Learning. arXiv:2003.14363 [cs, eess].
Ballester, P.J., Mitchell, J.B.O., 2010. A machine learning approach to predicting protein-ligand
binding affinity with applications to molecular docking. Bioinformatics 26, 1169‚Äì1175.
https://doi.org/10.1093/bioinformatics/btq112
16

Breiman,
L.,
2001.
Random
Forests.
Mach
Learn
45,
5‚Äì32.
https://doi.org/10.1023/A:1010933404324
Chandra, T.B., Verma, K., 2020a. Pneumonia Detection on Chest X-Ray Using Machine Learning
Paradigm, in: Chaudhuri, B.B., Nakagawa, M., Khanna, P., Kumar, S. (Eds.), Proceedings
of 3rd International Conference on Computer Vision and Image Processing, Advances in
Intelligent Systems and Computing. Springer, Singapore, pp. 21‚Äì33.
https://doi.org/10.1007/978-981-32-9088-4_3
Chandra, T.B., Verma, K., 2020b. Analysis of quantum noise-reducing filters on chest X-ray
images:
A
review.
Measurement
153,
107426.
https://doi.org/10.1016/j.measurement.2019.107426
Chandra, T.B., Verma, K., Singh, B.K., Jain, D., Netam, S.S., 2021. Coronavirus disease (COVID19) detection in Chest X-Ray images using majority voting based classifier ensemble.
Expert Syst Appl 165, 113909. https://doi.org/10.1016/j.eswa.2020.113909
Chen, T., Guestrin, C., 2016. XGBoost: A Scalable Tree Boosting System, in: Proceedings of the
22Nd ACM SIGKDD International Conference on Knowledge Discovery and Data
Mining, KDD ‚Äô16. ACM, New York, NY, USA, pp. 785‚Äì794.
https://doi.org/10.1145/2939672.2939785
Cheng, S.-C., Chang, Y.-C., Fan Chiang, Y.-L., Chien, Y.-C., Cheng, M., Yang, C.-H., Huang, C.H., Hsu, Y.-N., 2020. First case of Coronavirus Disease 2019 (COVID-19) pneumonia in
Taiwan. J Formos Med Assoc 119, 747‚Äì751. https://doi.org/10.1016/j.jfma.2020.02.007
Chollet, F., 2017. Xception: Deep Learning with Depthwise Separable Convolutions.
arXiv:1610.02357 [cs].
Chowdhury, M.E.H., Rahman, T., Khandakar, A., Mazhar, R., Kadir, M.A., Mahbub, Z.B., Islam,
K.R., Khan, M.S., Iqbal, A., Al-Emadi, N., Reaz, M.B.I., Islam, T.I., 2020. Can AI help in
screening Viral and COVID-19 pneumonia? IEEE Access 8, 132665‚Äì132676.
https://doi.org/10.1109/ACCESS.2020.3010287
Cohen, J.P., Morrison, P., Dao, L., Roth, K., Duong, T.Q., Ghassemi, M., 2020. COVID-19 Image
Data Collection: Prospective Predictions Are the Future. arXiv:2006.11988 [cs, eess, qbio].
Commissioner, O., 2020. Coronavirus Disease 2019 Testing Basics. FDA.
Coronavirus disease (COVID-19) ‚Äì World Health Organization [WWW Document], n.d. URL
https://www.who.int/emergencies/diseases/novel-coronavirus-2019 (accessed 11.27.20).
Cortes, C., Vapnik, V., 1995. Support-Vector Networks. Machine Learning 20, 273‚Äì297.
https://doi.org/10.1023/A:1022627411411
COVID-19 Map [WWW Document], n.d. . Johns Hopkins Coronavirus Resource Center. URL
https://coronavirus.jhu.edu/map.html (accessed 11.27.20).
Davis, J., Goadrich, M., 2006. The Relationship Between Precision-Recall and ROC Curves, in:
Proceedings of the 23rd International Conference on Machine Learning. ACM, New York,
NY, USA, pp. 233‚Äì240. https://doi.org/10.1145/1143844.1143874
Friedman, J.H., 2001. Greedy function approximation: A gradient boosting machine. Ann. Statist.
29, 1189‚Äì1232. https://doi.org/10.1214/aos/1013203451
He, K., Zhang, X., Ren, S., Sun, J., 2015. Deep Residual Learning for Image Recognition.
arXiv:1512.03385 [cs].
Huang, C., Wang, Y., Li, X., Ren, L., Zhao, J., Hu, Y., Zhang, L., Fan, G., Xu, J., Gu, X., Cheng,
Z., Yu, T., Xia, J., Wei, Y., Wu, W., Xie, X., Yin, W., Li, H., Liu, M., Xiao, Y., Gao, H.,
Guo, L., Xie, J., Wang, G., Jiang, R., Gao, Z., Jin, Q., Wang, J., Cao, B., 2020. Clinical
17

features of patients infected with 2019 novel coronavirus in Wuhan, China. The Lancet
395, 497‚Äì506. https://doi.org/10.1016/S0140-6736(20)30183-5
Huang, G., Liu, Z., van der Maaten, L., Weinberger, K.Q., 2018. Densely Connected
Convolutional Networks. arXiv:1608.06993 [cs].
Jain, R., Gupta, M., Taneja, S., Hemanth, D.J., 2020. Deep learning based detection and analysis
of COVID-19 on chest X-ray images. Appl Intell. https://doi.org/10.1007/s10489-02001902-1
Jaiswal, A.K., Tiwari, P., Kumar, S., Gupta, D., Khanna, A., Rodrigues, J.J.P.C., 2019. Identifying
pneumonia in chest X-rays: A deep learning approach. Measurement 145, 511‚Äì518.
https://doi.org/10.1016/j.measurement.2019.05.076
Kooraki, S., Hosseiny, M., Myers, L., Gholamrezanezhad, A., 2020. Coronavirus (COVID-19)
Outbreak: What the Department of Radiology Should Know. J Am Coll Radiol 17, 447‚Äì
451. https://doi.org/10.1016/j.jacr.2020.02.008
LeCun, Y., Haffner, P., Bottou, L., Bengio, Y., 1999. Object Recognition with Gradient-Based
Learning, in: Forsyth, D.A., Mundy, J.L., di Ges√∫, V., Cipolla, R. (Eds.), Shape, Contour
and Grouping in Computer Vision, Lecture Notes in Computer Science. Springer, Berlin,
Heidelberg, pp. 319‚Äì345. https://doi.org/10.1007/3-540-46805-6_19
Li, H., Leung, K.-S., Wong, M.-H., Ballester, P.J., 2014. Substituting random forest for multiple
linear regression improves binding affinity prediction of scoring functions: Cyscore as a
case study. BMC Bioinformatics 15, 291. https://doi.org/10.1186/1471-2105-15-291
Minaee, S., Kafieh, R., Sonka, M., Yazdani, S., Jamalipour Soufi, G., 2020. Deep-COVID:
Predicting COVID-19 from chest X-ray images using deep transfer learning. Medical
Image Analysis 65, 101794. https://doi.org/10.1016/j.media.2020.101794
Moal, I.H., Agius, R., Bates, P.A., 2011. Protein-protein binding affinity prediction on a diverse
set of structures. Bioinformatics btr513. https://doi.org/10.1093/bioinformatics/btr513
Ozturk, T., Talo, M., Yildirim, E.A., Baloglu, U.B., Yildirim, O., Rajendra Acharya, U., 2020.
Automated detection of COVID-19 cases using deep neural networks with X-ray images.
Computers
in
Biology
and
Medicine
121,
103792.
https://doi.org/10.1016/j.compbiomed.2020.103792
Panwar, H., Gupta, P.K., Siddiqui, M.K., Morales-Menendez, R., Singh, V., 2020. Application of
deep learning for fast detection of COVID-19 in X-Rays using nCOVnet. Chaos, Solitons
& Fractals 138, 109944. https://doi.org/10.1016/j.chaos.2020.109944
Pedregosa, F., Varoquaux, G., Gramfort, A., Michel, V., Thirion, B., Grisel, O., Blondel, M.,
Prettenhofer, P., Weiss, R., Dubourg, V., Vanderplas, J., Passos, A., Cournapeau, D.,
Brucher, M., Perrot, M., Duchesnay, √â., 2011. Scikit-learn: Machine Learning in Python.
J. Mach. Learn. Res. 12, 2825‚àí2830.
Pesce, E., Joseph Withey, S., Ypsilantis, P.-P., Bakewell, R., Goh, V., Montana, G., 2019.
Learning to detect chest radiographs containing pulmonary lesions using visual attention
networks. Medical Image Analysis 53, 26‚Äì38. https://doi.org/10.1016/j.media.2018.12.007
Sheikhzadeh, E., Eissa, S., Ismail, A., Zourob, M., 2020. Diagnostic techniques for COVID-19
and
new
developments.
Talanta
220,
121392.
https://doi.org/10.1016/j.talanta.2020.121392
Simonyan, K., Zisserman, A., 2015. Very Deep Convolutional Networks for Large-Scale Image
Recognition. arXiv:1409.1556 [cs].
Szegedy, C., Vanhoucke, V., Ioffe, S., Shlens, J., Wojna, Z., 2015. Rethinking the Inception
Architecture for Computer Vision. arXiv:1512.00567 [cs].
18

Tharwat, A., 2020. Classification assessment methods. Applied Computing and Informatics aheadof-print. https://doi.org/10.1016/j.aci.2018.08.003
Toƒüa√ßar, M., Ergen, B., C√∂mert, Z., 2020. COVID-19 detection using deep learning models to
exploit Social Mimic Optimization and structured chest X-ray images using fuzzy color
and stacking approaches. Computers in Biology and Medicine 121, 103805.
https://doi.org/10.1016/j.compbiomed.2020.103805
Wang, L., Lin, Z.Q., Wong, A., 2020. COVID-Net: a tailored deep convolutional neural network
design for detection of COVID-19 cases from chest X-ray images. Scientific Reports 10,
19549. https://doi.org/10.1038/s41598-020-76550-z
Xue, Z., Jaeger, S., Antani, S., Long, L.R., Karargyris, A., Siegelman, J., Folio, L.R., Thoma, G.R.,
2018. Localizing tuberculosis in chest radiographs with deep learning, in: Medical Imaging
2018: Imaging Informatics for Healthcare, Research, and Applications. Presented at the
Medical Imaging 2018: Imaging Informatics for Healthcare, Research, and Applications,
International
Society
for
Optics
and
Photonics,
p.
105790U.
https://doi.org/10.1117/12.2293022
Zhang, N., Wang, L., Deng, X., Liang, R., Su, M., He, C., Hu, L., Su, Y., Ren, J., Yu, F., Du, L.,
Jiang, S., 2020. Recent advances in the detection of respiratory virus infection in humans.
J Med Virol 92, 408‚Äì417. https://doi.org/10.1002/jmv.25674
Zoph, B., Vasudevan, V., Shlens, J., Le, Q.V., 2018. Learning Transferable Architectures for
Scalable Image Recognition. arXiv:1707.07012 [cs, stat].

19

