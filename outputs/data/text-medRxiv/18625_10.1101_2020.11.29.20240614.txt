medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

AI4CoV: Matching COVID-19 Patients to Treatment
Options Using Artificial Intelligence
Content type: Article
Andrew I. Hsu1, Amber S. Yeh1, Shao-Lang Chen1, Jerry J. Yeh1, DongQing Lv2,
Jane Y.-J. Hsu3, (Corresponding) Pai Jung Huang4,5,6. 0108@h.tmu.edu.tw +886-988089236
1. AI4WARD, Inc., 481 Gemma Drive Milpitas, CA, 95035, USA
2. Department of Respiratory Medicine, Taizhou Hospital of Zhejiang Province,
Wenzhou Medical University, Taizhou, China
3. Department of Computer Science & Information Engineering, National Taiwan
University, No. 1, Section 4, Roosevelt Rd, Da’an District, Taipei City, Taiwan
10617
4. Clinical Trial Center at TaiZhou Medical Center, No 1, Tongyang East Road,
Luqiao district, Taizhou, Zhejiang province, China
5. Breast Surgery Clinic, Surgery Department, En Chu Kong Hospital, No. 399,
Fuxing Road, Sanxia District, New Taipei City, Taiwan 237
6. Institute of Medical Science and Technology, Taipei Medical University, No. 250,
Wuxing Street, Xinyi District, Taipei City, Taiwan 110

NOTE: This preprint reports new research that has not been certified by peer review and should not be used to guide clinical practice.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Abstract
We developed AI4CoV, a novel AI system to match thousands of COVID-19
clinical trials to patients based on each patient’s eligibility to clinical trials in order to help
physicians select treatment options for patients. AI4CoV leveraged Natural Language
Processing (NLP) and Machine Learning to parse through eligibility criteria of trials and
patients’ clinical manifestations in their clinical notes, both presented in English text, to
accomplish 92.76% AUROC on a cross-validation test with 3,156 patient-trial pairs
labeled with ground truth of suitability. Our retrospective multiple-site review shows that
according to AI4CoV, severe patients of COVID-19 generally have less treatment
options suitable for them than mild and moderate patients and that suitable and
unsuitable treatment options are different for each patient. Our results show that the
general approach of AI4CoV is useful during the early stage of a pandemic when the
best treatments are still unknown.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Introduction
With the rapid increase of coronavirus disease (COVID-19) cases worldwide,
effectively treating infected patients is crucial to slow the spread of the disease.
However, not all patients are suitable candidates for the most promising treatments. For
example, Remdesivir, one of the current approved therapeutic interventions for COVID19,1,2 may not be suitable for patients with pre-existing liver conditions because in vitro
studies with liver cell culture systems showed that human hepatocytes are susceptible
to Remdesivir-mediated toxicity.3 Therefore, these patients are at a high risk of yielding
poor outcomes and require other effective interventions.4
As of 15th October 2020, there are 3,611 trials for COVID-19 registered at
ClinicalTrials.gov. Many of these trials are interventions that have already passed safety
regulations or are repurposing drugs already approved for other conditions, and thus
may be used to treat COVID-19 patients. A trial’s eligibility criteria, which are usually
designed to prove safety and efficacy of a drug for a target population,5 can be useful
for treatment option consideration. For example, the eligibility criteria of a clinical trial on
Remdesivir excludes patients with “severe liver disease”. Accordingly, healthcare teams
can exclude Remdesivir for patients with pre-existing liver disease and consider other
options.
However, due to the sheer numbers of trials and patients during the pandemic,
as well as inconsistent wording in clinical trial criteria,6 it is challenging for healthcare
teams to assess each candidate clinical trial for every patient. To assist them, we
developed a system called AI4CoV (AI for COVID) that can rapidly read the eligibility
criteria in ClinicalTrials.gov to efficiently search for suitable treatments for COVID-19

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

patients with various pre-existing conditions. AI4CoV was developed in the beginning of
the pandemic when no treatment was known to be effective. AI4CoV helped by offering
recommendations as to which treatment options were safe and suitable for each patient.
AI4CoV can save time for healthcare teams to process thousands of clinical trial criteria.
If widely deployed, AI4CoV can change clinical practices by allowing healthcare teams
to consider a broad range of treatment options while avoiding those potentially harmful
to patients, which may eventually lead to major improvement of public health. This is
particularly useful when efficacy data of candidate treatments are not available at an
early stage of a pandemic.
AI4CoV provides automated search for suitable clinical trials for a large number
of patients during the pandemic to match the rapid pace of the growth of new treatment
options registered for clinical trials. Since the eligibility criteria of clinical trials registered
in ClinicalTrials.gov are given in itemized English text, Artificial Intelligence (AI) is
necessary to quickly parse through the criteria in order to determine if a patient is
eligible. For example, AI4CoV must comprehend that patients with “severe liver
diseases,” among other exclusion criteria, need to be excluded from using drugs such
as Remdesivir (NCT04252664, Figure 1). AI4CoV performs Natural Language
Processing (NLP) to accomplish this task. AI4CoV’s NLP capability also allows it to read
patient records in either structured data formats or unstructured clinical narrative text to
extract patients’ clinical manifestations to determine if they are eligible for each criterion
of a clinical trial. As such, AI4CoV can accommodate patient records in different
structures and formats, a technical challenge known to hinder interoperability of
electronic medical records.9

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

AI4CoV can also be used to match eligible patients to clinical trials and facilitate
patient recruitment. The methods for automatic matching have previously been studied
intensively. Comprehensive reviews are available.10,11 Many studies attempted to
simplify the task by classifying patients into common phenotypes.12 Ni et al.13 reported
that their system, which did not apply any AI or machine learning algorithms, yielded
35.7% precision compared to the 83.22% by AI4CoV. Recently, the 2019 N2C2
challenge of medical informatics included a task on patient matching for clinical trials.14
The winners in that task utilized methods based on keyword/pattern matching, while
Zhang et al.15 reported a deep learning approach that matches patients and trials for a
broad range of diseases. AI4CoV is innovative and more effective than the
aforementioned approaches since it takes advantage of both deep learning and pattern
matching – deep learning helps by capturing semantically similar medical concepts
(e.g., “arrythmia” and “QT prolongation”) while pattern matching allows for precise
reasoning of quantitative clinical characteristics, e.g., “PaO2 ≥ 300” (partial pressure of
oxygen in the arterial blood) and “SpO2 lower than 93%” (peripheral oxygen saturation).
Determining if a patient satisfies these inequalities is clinically crucial and must be
performed precisely.
Our performance evaluation shows that AI4CoV correctly predicts different drugs
as suitable treatment options based on patients’ underlying conditions. Remarkably, in
our retrospective review, AI4CoV predicted that three mild-to-moderate patients in our
test cohort were safe to take Hydroxychloroquine while another patient would not have
been due to having cardiac arrhythmia. all four patients were prescribed
Hydroxychloroquine during their hospital stay. The aforementioned three patients were

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

released from the hospital with no follow-up issues reported, while the patient predicted
by AI4CoV as unsuitable to take Hydroxychloroquine was readmitted to the hospital
within 30 days. If AI4CoV had been used, the healthcare team would have been alerted
about the risk of Hydroxychloroquine for the patient.
For severe patients in our cohort, defined as those who were sent in an Intensive
Care Unit, intubated, or subsequently died, AI4CoV predicted that generally have less
treatment options suitable for them than the mild and moderate patients. Drugs such as
Dexamethasone and Lopinavir-Ritonavir+Arbidol are unsuitable for all of our severe
patients. While Hydroxychloroquine is suitable to only one of our severe patients.
AI4CoV found that Interleukin-1 inhibitors (Anakinra) is a suitable option for half of our
severe patients. Anakinra was suggested as a promising treatment of severe patients
by several recent studies.7,8 AI4CoV also found that Ruxolitinib and Convalescent
Plasma Transfer are suitable options for more than half of our severe patients. All other
prominent drugs considered in our retrospective review have less than half of the
severe patients with a suitable score.

Methods
Study Population
Our study cohort consists of 52 patients from two sites: 28 from the Taizhou
Hospital, Taizhou, Zhejiang, China and 24 from the Lausanne University Hospital,
Lausanne, Switzerland.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

The Taizhou Hospital Institutional Review Board approved our study, in which the
Strengthening the Reporting of Observational Studies in Epidemiology (STROBE)
reporting guideline was followed. The patient data from the Lausanne University
Hospital are available for download in the public domain16. The data were de-identified.
Table 1 depicts the demographic and clinical characteristics of our study cohort.
The 28 adult patients were admitted to the Taizhou Hospital with PCR-confirmed or
clinically diagnosed COVID-19 between 20th January and 27th April 2020. We classified
them by their COVID-19 status as mild or moderate using their PaO2 level, where 200
mmHg or above is mild and 100-200 mmHg is moderate. None of the Taizhou patients
have the PaO2 level below 100 mmHg.
To test AI4CoV for severe patients, 24 severe patients were selected from 80
patients from the Lausanne data set. Severe patients are those who, within seven days
after they were admitted to the emergency department, were sent in an intensive care
unit, intubated, or dead, the same criteria as defined in the original study where these
patients were recruited.17 In comparison, none of the Taizhou patients satisfy these
criteria. The demographic and clinical characteristics of these 24 severe patients are
also given in Table 1.
We then selected 32 commonly considered clinical characteristics elements
(Table 1) in COVID-19 studies,18-20 and then extracted these elements from the
electronic medical record database of Taizhou patients and the data spreadsheet
released by the Lausanne University Hospital for Lausanne patients, respectively. The
extracted elements were used as the input patient records of AI4CoV to match with
eligibility criteria of the COVID-19 clinical trials.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Clinical Trials
We considered all clinical trials registered in ClinicalTrials.gov by 5th June 2020,
which totaled to 341,642 trials. Among them, ClinicalTrials.gov classified 1,982 as
COVID-19 related. We continued to filter the trials by retaining trials with criteria of “Age
18-64, 65+” (N=1,964), “Interventional ONLY” (N=1,126), “Not yet recruiting OR
recruiting OR enrolling by invitation OR active OR not recruiting OR completed”
(N=1,103), excluding trials designed for healthcare workers (N=1,078), and excluding
vaccines to finally obtain 1,062 unique trials. With 28 patients, we have a total of 29,736
patient-trial pairs to consider.
Prominent Drugs
The study team selected 51 clinical trials targeting on 36 prominent drugs (Table
2) after reviewing publications and reports.1,2,21,22,23,24 Prominent drugs are treatment
options of COVID-19 that have been widely reported in literature and are more likely to
be considered by healthcare teams than other options, and thus may be more
informative for performance evaluation of AI4CoV. The trial selection was independent
of what drugs the patients had actually been prescribed. Trials comparing multiple
target treatments were excluded. These trials were used in the evaluation of the
predictive performance of AI4CoV.
We considered the clinical trials of three additional drugs:
REGN10933+REGN10987, Lopinavir-Ritonavir+Arbidol, and Ivermectin, in our
retrospective review in addition to the aforementioned 36 prominent drugs because they
were widely reported as emerging treatment options of COVID-19 after we completed
our performance evaluation study. It is interesting to see if AI4CoV predicts them as

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

suitable for the patients in our cohort. The selected clinical trials are also given in (Table
2).
Performance Evaluation
The study team sampled and reviewed 3,156 patient-trial pairs from the 29,736
total pairs and assigned each pair a label of either “suitable” or “unsuitable” to create the
ground truth. A patient-trial pair is suitable if within the pair, the patient satisfies the
trial’s inclusion criteria and does not satisfy any exclusion criteria; otherwise it is labeled
as unsuitable. The records of the 28 Taizhou patients were used to create the 3,156
ground-truth patient-trial pairs. The records of the 24 Lausanne severe patients were
reserved for validation.
We developed and compared the performance of six versions of AI4CoV in this
study. To evaluate the performance of each version, a 10-fold cross-validation and a 7fold cross-validation were used. In the 10-fold cross-validation, 3,156 pairs were
randomly divided into 10 folds for train-test splitting. The evaluation assumed that each
patient-trial pair is independent.
In the 7-fold cross-validation, 28 Taizhou patients were divided randomly into
seven folds. As such, no patient appeared in both training and test sets, which
simulates real situations where the system is trained on known patients and is used to
select trials and drugs for new, unseen patients. In this evaluation, the seven patients in
the test set in each fold were only paired with the 51 trials of the prominent drugs. That
summed to a total of 1,428 pairs of patient-trials being tested in the seven folds. The
training set in each fold included all available patient-trial pairs involving the other 24
Taizhou patients.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

We assessed each version of AI4CoV by comparing the predicted scores of
suitability to the ground truth labels. We calculated sensitivity, specificity, precision,
negative predictive value, AUROC (area under the receiver operating characteristic
curve), and F1-score to measure AI4CoV’s performance. Since we wanted to assess
the discriminative ability (i.e., how well AI4CoV predicts binary patient-trial suitability),
goodness-of-fit statistics for calibration were not considered.25
The AI4CoV Algorithm
AI4CoV reads patient records and clinical trial criteria from ClinicalTrials.gov as
the input and assigns a score indicating the strength of the trial’s suitability to the patient
for each patient-trial pair (Figure 2).
For every clinical trial under consideration, AI4CoV applies a preprocessing step
to split its eligibility criteria into a text file with each line containing three columns: a
criteria sentence, “in” or “ex” depending on whether the criteria is an inclusion or
exclusion, and the NCT number of the trial assigned by ClinicalTrials.gov. Each criteria
sentence must be “atomic” in the sense that the sentence describes a criterion defined
on a clinical manifestation and cannot be further divided. For example, “patients with
malignant tumors” is atomic but “untreated active hepatitis or HIV-positive patients” is
not and should be further divided into two sentences for the manifestations of “hepatitis”
and “HIV-positive.”
After creating these text files, AI4CoV uses the BioSent2vec function to convert
each atomic criterion into a vector of 700 dimensions to represent its semantics.26
BioSent2vec is a deep neural network language model trained by a large corpus of
biomedical research papers to convert a sentence into a vector such that sentences of

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

similar semantics are close to each other in the vector space. Next, a NegEx function
multiplies 1 or -1 to the vector depending on whether the atomic criterion expresses a
negation (for example, “no fever”).27
Each patient record inputted contains demographics and clinical manifestations
(Table 1). Again, a preprocessing step converts each patient record into a text file
where each line contains a “patient record sentence.” A patient record sentence must
be atomic as defined for the criteria sentences above. Patient record sentences that
describe normal manifestations as negated statements are discarded. For example,
“fever for 3 days” is retained while “no history of hypertension” is not. BioSent2vec is
then applied to convert each patient characteristic into a vector of 700 dimensions.
After obtaining 700-dimension vectors for patients and clinical trials, AI4CoV
calculates the cosine similarity of each patient record sentence vector and clinical trial
criteria sentence vector pair to estimate how semantically similar these sentences are.
This step creates a matrix M of cosine similarity scores for each patient-trial pair.

As an optional step to mitigate the limitation of cosine similarity, the inequality
function deals with quantitative clinical characteristics such as “Age,” “SpO2,” and
“PaO2.”. If both patient record and criterion sentence share the same keywords of these
measures, the inequality function finds the nearest number and inequality sign, such as
≥, <, “less,” etc., after the keyword and compares the patient record’s value and the
criteria value to determine if the criterion is satisfied. If so, the cosine similarity score is

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

retained in the matrix M; otherwise, a negative number is assigned. In our
implementation, “-5” was used.
After all patient sentence and criteria sentence pairs have a score, AI4CoV
calculates the maximum cosine similarity score for each criterion and erases other
scores in M. If the criterion has a score of “-5” then the “-5” will be retained instead of
the maximum score. From the resulting matrix, AI4CoV then creates an array X of 64
elements by number of trial-patient pairs, where 32 elements for common COVID-19
clinical characteristics represented inclusion criteria and the other 32 represented
exclusion criteria. Each element contains the retained score for each row of M. The
score estimates the matching strength of a patient record clinical characteristic to an
inclusion or exclusion criterion. When no match is found, the element for that clinical
characteristic is zero. If multiple criterion sentences from the same trial have a score
corresponding to the same patient record sentence, then AI4CoV sums all scores and
places the result in X (Figure 2).
From array X, we developed six versions of AI4CoV and compared their
performances:
 Baseline: Sum of the cosine similarity scores of the inclusion criteria in X

minus the sum of those of the exclusion criteria as the score of suitability.
 Baseline with inequality: Same as Baseline but the inequality function is used

in addition to cosine similarity.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

 NN: A multiple-layer-perceptron neural network with a hidden layer of 120

nodes is trained with labeled suitability scores to classify an array X as
suitable or unsuitable.
 NN with inequality: Same as NN but the inequality function is used as well.
 XGBoost: An XGBoost classifier28 is trained to classify X.
 XGBoost with inequality: Same as XGBoost but the inequality function is used

as well.
Other machine learning models that we tested include Logistic Regression,
Gradient Boosting Classifier, and C-Support Vector Classification. But none were found
to be as effective as the two that are reported.
Retrospective Review
We performed a retrospective review of the medication used on the Taizhou
patients in our cohort and their outcomes within 60 days of hospital admission. The
outcome metrics considered were based on observational studies.29,30 Predicted
suitability results by the best performing AI4CoV version were compared to the
medication used and resulting outcomes of the patients.
We also applied the best performing AI4CoV version to patient-trial pairs of the
24 Lausanne severe patients and the clinical trials in Table 2 and compared the
distributions of the predicted scores by AI4CoV among these patients and with the 28
Taizhou patients.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Results
Performance of AI4CoV
Table 3 summarizes all of the versions that we evaluated by the 7-fold and 10fold cross-validation. Figure 3 shows the graphs of ROC curves. The best performing
version was XGBoost with the inequality function, achieving 92.76% AUROC and
87.40% F1-score in the 7-fold cross validation. It also performed the best under 10-fold
cross validation, while NN with the inequality function finished a close second, and the
two Baselines finished last. Versions with the inequality function achieved higher
AUROC scores than those without.
Results of Retrospective Review
All of the 28 patients from Taizhou had an incidence of pneumonia within 60 days
of hospital admission but were all eventually discharged. Patients 12 and 15 also had
an incidence of acute respiratory failure. Patient 21 had arrhythmia before and after
treatment. Two patients were readmitted to the hospital within 30 days and were
eventually discharged again.
In total, the 28 patients took about fifty drugs combined, including traditional
Chinese medicine, during their stay in the hospital. Most medications prescribed were
for symptomatic treatment and are not discussed below. We compared the best
performing AI4CoV (XGBoost with inequality) predicted suitability scores for the pairs of
the patients and the clinical trials that tested the most common drugs that the patients
were prescribed (Table 4), specifically, Interferon alpha-2b, Methylprednisolone,

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Immunoglobulin, Lopinavir-Ritonavir, Hydroxychloroquine, and Azithromycin. We note
that for each drug there are multiple clinical trials registered and considered here.
Overall, Methylprednisolone, Immunoglobulin, Hydroxychloroquine, and
Azithromycin yielded suitable average scores while Interferon alpha-2b and LopinavirRitonavir, two drugs that all 28 patients were prescribed, yielded unsuitable average
scores.
Since none of the 28 patients from Taizhou are severe, we tested AI4CoV with
the 24 severe patients from the Lausanne University Hospital. Figure 4 shows the
range of suitability scores for all Lausanne University Hospital severe patients (that
were in ICU, intubated, or died within seven days) and the prominent drug trial pairs.
The drug names are listed on the x-axis. Most of the scores are below zero, indicating
that most of the prominent drugs were predicted as not suitable for the severe patients
by AI4CoV. This is expected because clinical trials generally place more restrictions for
patients with a variety of underlying conditions to minimize adversarial events and
severe patients need to take additional precautions in their treatment selection. The
scores from AI4CoV allow for estimation and comparison of how strict or lenient the
eligibility criteria of the clinical trials can be.
According to AI4CoV, severe patients generally have less treatment options than
mild and moderate patients, because they have more drugs suitable for them than the
severe patients (Figure 5).
Our results suggest that AI4CoV can help healthcare teams search for treatment
options from clinical trials for COVID-19 patients. Healthcare teams for COVID-19 may
reference Table 5 to check the top criteria used by all interventional COVID-19 clinical

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

trials as well as the top criteria used by the 51 clinical trials for the prominent drugs. A
list of top criteria was manually compiled previously.31 AI4CoV makes it possible to
maintain an up-to-date list automatically.

Discussion
The best performing version of AI4CoV leverages three key AI techniques: (1)
BioSent2vec,26 (2) rule-based inequality function, and (3) XGBoost28 machine learning
classifier. BioSent2vec is a deep neural network language model that allows AI4CoV to
correctly match semantically similar clinical manifestations of patients with eligibility
criteria of clinical trials, while a rule-based pattern matching approach to precise
modeling of inequalities that express quantitative clinical manifestations such as “PaO2
≥ 300” is crucial because it is still challenging for state-of-the-art deep neural network

language models to deal with numbers and inequalities without a large number of
labeled training examples to fine-tune the models. We opted to a hybrid design to
leverage the advantages of both approaches. XGBoost outperformed a neural network
in our evaluation. This may be because decision trees that XGBoost learns can model
the importance of clinical features more effectively than the weights that a neural
network learns in AI4CoV’s criterion matching task. Overall, we show that by integrating
these modules, AI4CoV achieves high performance with a hybrid approach.
In our retrospective review, all Taizhou mild and moderate patients in our study
cohort took Methylprednisolone. 25 out of 28 patients have a suitable score to the
clinical trial NCT04343729, which tests Methylprednisolone as an intervention to treat
COVID-19. While most patients recovered successfully without readmitted to the
hospital, patient 21 (Table 1) was given a negative suitability score for

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Methylprednisolone, which matched his readmittance to the hospital within 30 days.
AI4CoV also gave patient 15, who had an incidence of acute respiratory failure, a
negative score for Methylprednisolone. Meanwhile, most patients recovered
successfully and were released from the hospital without complications. This is an
example of AI4CoV correctly indicating that Methylprednisolone is a safe drug for most
of the patient cohort, and correctly singling out specific patients for whom the drug
would have been unsafe.
Patients 2, 5, 21, and 28 also took Hydroxychloroquine. Remarkably, patients 2,
5, and 28, all of whom AI4CoV gave average positive (suitable) scores, were
discharged from the hospital with no further issues reported. In contrast, patient 21, for
whom AI4CoV gave negative (unsuitable) scores for all three clinical trials on
Hydroxychloroquine, was readmitted to the hospital within 30 days with persistent
arrhythmia. From these cases, AI4CoV accurately predicted that it was unsafe for
patient 21 to take Hydroxychloroquine while it was safe for the other three patients to
consider Hydroxychloroquine as a treatment option. This demonstrates the
effectiveness of using BioSent2vec26 within AI4CoV’s algorithm because although the
exclusion criteria did not explicitly contain “Arrhythmia”, it did state phrases closely
related to Arrhythmia, such as “QT prolongation” and “ECG abnormality”. BioSent2vec
is a deep neural network language model specialized in the language of biomedical
sciences. AI4CoV correctly identified these phrases and recognized that patient 21 with
arrhythmia should be excluded from taking Hydroxychloroquine. We note that patient 21
took both Hydroxychloroquine and Methylprednisolone. Both were unsuitable for the
patient and should have been excluded.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figure 4 shows that drugs such as Dexamethasone and LopinavirRitonavir+Arbidol are unsuitable for all of our severe patients, while Hydroxychloroquine
is suitable to only one of our severe patients. AI4CoV found that Interleukin-1 inhibitors
(Anakinra) is a suitable option for half of our 24 severe patients, matching the
suggestion of several recent studies. AI4CoV also found that Ruxolitinib, and
Convalescent Plasma Transfer are suitable options for more than half of our 24 severe
patients. All other prominent drugs were determined to give less than half of severe
patients a suitable. This is due to the fact that trials utilizing Dexamethasone and
Hydroxychloroquine contain stricter eligibility criteria, such as requiring patients to not
have heart disease, while the criteria for trials using Convalescent Plasma Transfer and
Anakinra are more lenient. Most drugs are given suitable scores for only a few severe
patients. This demonstrates that AI4CoV recognizes that each patient will require
different ranges of treatment options based on their underlying conditions.
As a validation, we inspected AI4CoV’s suitability predictions to 216 pairs of
patient-trial scores consisting of the 9 trials of the drugs mentioned above and the 24
patients and found all of the predictions to be correct. This instance of AI4CoV was
trained only with patient-trial pairs of the 28 mild and moderate patients from Taizhou
and never saw any severe patients but still generalized well for severe patients. Some
of the trials were used to pair with the mild and moderate patients in training. The
eligibility criteria of these 9 clinical trials are relatively well-written compared to those of
randomly selected COVID-19 clinical trials registered in ClinicalTrials.gov because they
were sponsored by highly regarded institutions. The well-written criteria are less

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

ambiguous for AI4CoV to reason and assign suitability scores than randomly selected
COVID-19 clinical trials used in our performance evaluation.
Limitations
AI4CoV’s suitability scores only assess whether a patient is eligible for a clinical
trial based on the patient’s underlying conditions. It is important to note that the scores
do not measure how likely if the treatment from a trial would be effective at curing the
patient. Evaluation by the healthcare team is essential. Regulations about using drugs
under clinical trials must be strictly followed.

Conclusions
AI4CoV is a successful demonstration that it is possible to have AI predict if a
patient is suitable or unsuitable for a clinical trial and therefore able to consider the drug
in the trial as a treatment option. Our results indicate that searching for suitable
treatment options from a large number of trials registered in ClinicalTrials.gov can be
performed accurately. Patients would benefit from the treatment options identified as
suitable or unsuitable for them during a pandemic when no treatment has been proven
to be safe and effective for patients with various pre-conditions.
AI4CoV can be trained to read the clinical trial information of any diseases, which
can then be used to match clinical trials for patients or vice versa. Potential use cases of
AI4CoV include allowing clinical trial sponsors to rapidly search for eligible subjects if a
database of candidate patients is available. This is particularly useful for the clinical
trials of rare diseases and late-stage cancers that target a very specific population that

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

has, for example, certain mutations present.32 AI4CoV can also help inform patients
about clinical trials in which they may participate.

Competing Interests
The authors whose names are listed immediately below certify that they have NO
affiliations with or involvement in any organization or entity with any financial interest
(such as honoraria; educational grants; participation in speakers’ bureaus; membership,
employment, consultancies, stock ownership, or other equity interest; and expert
testimony or patent-licensing arrangements), or non-financial interest (such as personal
or professional relationships, affiliations, knowledge or beliefs) in the subject matter or
materials discussed in this manuscript.

Author names: DongQing Lv, Jane Y-J Hsu, Pai Jung Huang.

The authors whose names are listed immediately below report the following
details of affiliation or involvement in an organization or entity with a financial or nonfinancial interest in the subject matter or materials discussed in this manuscript.

Author names: Andrew Hsu, Amber Yeh, Shao-Lang Chen, Jerry Yeh.

These authors are employees of the AI4WARD Inc. which may potentially benefit
from the research results of this study.

All the authors agree that the above information is true and correct.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Author Contribution
All persons who meet authorship criteria are listed as authors, and all authors
certify that they have participated sufficiently in the work to take public responsibility for
the content, including participation in the concept, design, analysis, writing, or revision
of the manuscript. Furthermore, each author certifies that this material or similar
material has not been and will not be submitted to or published in any other publication.
Authorship contributions
Conception and design of study: YJ Hsu, PJ Huang;
Acquisition of data: D Lv, PJ Huang.
Analysis and/or interpretation of data: A Hsu, A Yeh, D Lv, PJ Huang.
Drafting the manuscript: A Hsu, A Yeh;
Revising the manuscript critically for important intellectual content: SL Chen, J
Yeh, YJ Hsu, PJ Huang.
Approval of the version of the manuscript to be published (the names of all
authors must be listed): A Hsu, A Yeh, SL Chen, J Yeh, D Lv, YJ Hsu, PJ Huang.
We have not received substantial contributions from non-authors.

Data Availability
The patient data for Lausanne University Hospital are available online (see
citation 16). All of the clinical trials used to test our system are online in clinicaltrials.gov.
The Taizhou patient data is not available online.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

References
[1] Robinson, J, Everything You Need to Know about the COVID-19 Therapy Trials. The
Pharmaceutical Journal. 2020.
[2] Wiersinga, W. J., Rhodes, A, Cheng, A., Peacock, S, and Prescott, H,
Pathophysiology, Transmission, Diagnosis, and Treatment of Coronavirus Disease
2019 (COVID-19): A Review. JAMA: The Journal of the American Medical Association,
July 2020.
[3] Sprecher, A, Jacobs, M, Horby, P, and Guenther, S, WHO Ebola treatments
approved for compassionate use update. WHO, October 11 2018.
https://www.who.int/ebola/drc-2018/treatments-approved-for-compassionate-useupdate/en/
[4] Singh, S, and Khan, A, Clinical Characteristics and Outcomes of Coronavirus
Disease 2019 Among Patients With Preexisting Liver Disease in the United States: A
Multicenter Research Network Study. Gastroenterology, May 2020.
[5] Public workshop: Evaluating inclusion and exclusion criteria in clinical trials
workshop report. Technical report, Food and Drug Administration, April
2018. https://www.fda.gov/media/134754/download
[6] Wu, D, Hanauer, D, Mei, Q, Clark, P, An, L, Proulx, J, Zeng, Q, Vydiswaran, VG,
Collins-Thompson, K, and Zheng, K, Assessing the readability of ClinicalTrials.gov,
Journal of the American Medical Informatics Association, 23 (2): 269-275. 2016.
[7] Filocamo, G, Mangioni, D, Tagliabue, P, Aliberti, S, Costantino, G, Minoia, F, and
Bandera, A, Use of anakinra in severe COVID-19: A case report, Science direct, (96)
607-609. July 2020.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

[8] Khan, N, Anakinra for severe forms of COVID-19, The lancet Rheumatology, Vol 2,
Issue 10, E586-587, October 2020.
[9] Holmgren, A. Jay, V, and Adler-Milstein, J, Progress In Interoperability: Measuring
US Hospitals’ Engagement In Sharing Patient Data. Health Affairs 36 (10): 1820–27.
2017.
[10] Ni, Y, Bermudez, M, Kennebeck, S, Liddy-Hicks, S, and Dexheimer, J, A Real-Time
Automated Patient Screening System for Clinical Trials Eligibility in an Emergency
Department: Design and Evaluation. JMIR Medical Informatics 7 (3): e14185. 2019.
[11] Penberthy, L, Brown, R, Puma, F, and Dahman, B, Automated Matching Software
for Clinical Trials Eligibility: Measuring Efficiency and Flexibility. Contemporary Clinical
Trials 31 (3): 207–17. 2010.
[12] Shivade, C, Raghavan, P, Fosler-Lussier, E, Embi, P, Elhadad, N, Johnson, S, and
Lai, A, A review of approaches to identifying patient phenotype cohorts using electronic
health records, Journal of the American Medical Informatics Association, 21 (2): 221230. 2014.
[13] Ni, Y, Wright, J, Perentesis, J, Lingren, T, Deleger, L, Kaiser, M, Kohane, I, and
Solti,I, Increasing the Efficiency of Trial-Patient Matching: Automated Clinical Trial
Eligibility Pre-Screening for Pediatric Oncology Patients. BMC Medical Informatics and
Decision Making 2015 (April): 28.
[14] N2C2: National NLP Clinical Challenges. Harvard Medical School, November 15,
2019 https://n2c2.dbmi.hms.harvard.edu/.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

[15] Zhang, X, Xiao,C, Glass, L, and Sun, J, DeepEnroll: Patient-Trial Matching with
Deep Embedding and Entailment Prediction. arXiv [cs.AI]. arXiv. 2020
http://arxiv.org/abs/2001.08179.
[16] Brahier, T, Meuwly, J, Pantet, O, Brochu Vez, M, Donnet, H, Hartley, M, and BoillatBlanco, N, (2020). Lung ultrasonography features and risk stratification in 80 patients
with COVID-19: a prospective observational cohort study [Data set]. Zenodo.
http://doi.org/10.5281/zenodo.3763421
[17] Brahier, T, Meuwly, J, Pantet, O, Brochu Vez, M, Donnet, H, Hartley, M, Hugli, O,
and Boillat-Blanco, N, Lung ultrasonography for risk stratification in patients with
COVID-19: a prospective observational cohort study, Clinical Infectious Diseases, ,
ciaa1408, (2020) https://doi.org/10.1093/cid/ciaa1408
[18] Cummings, M, Baldwin, M, Abrams, D, Jacobson, S, Meyer, B, Balough, E, and
Aaron, J, et al. Epidemiology, Clinical Course, and Outcomes of Critically Ill Adults with
COVID-19 in New York City: A Prospective Cohort Study. medRxiv : The Preprint
Server for Health Sciences, April 2020.
[19] Rizzo, S, Chawla, D, Zalocusky, K, Keebler, D, Chia, J, Lindsay, L, Yau, V,
Kamath, T, and Tsai, L. Descriptive Epidemiology of 16,780 Hospitalized COVID-19
Patients in the United States. Infectious Diseases (except HIV/AIDS). medRxiv. 2020.
[20] Zhou, K, Sun, Y, Li, L, Zang, Z, Wang, J, Li, J, and Liang, J, et al. Eleven Routine
Clinical Features Predict COVID-19 Severity. Infectious Diseases (except HIV/AIDS).
medRxiv.2020.
[21] Li, G and De Clercq, E, Therapeutic options for the 2019 novel coronavirus (2019nCoV) Nature reviews drug discovery. Feb 19 2020.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

[22] Altay, O, Mohammadi, E, Lam, S, Turkez, H, Boren, J, Nielsen, J, Uhlen, M, and
Mardinoglu, A. Current Status of COVID-19 Therapies and Drug Repositioning
Applications. iScience 23 (7): 101303. 2020.
[23] Lythgoe, M, and Middleton, P. Ongoing Clinical Trials for the Management of the
COVID-19 Pandemic. Trends in Pharmacological Sciences 41 (6): 363–82. 2020.
[24] Sanders J, Monogue M, Jodlowski T, and Cutrell J. Pharmacologic Treatments for
Coronavirus Disease 2019 (COVID-19): A Review. JAMA. 2020;323(18):1824–1836.
doi:10.1001/jama.2020.6019.
[25] Steyerberg, E, Vickers, A, Cook, N, Gerds, T, Gonen, M, Obuchowski, N, Pencina,
M, and Kattan, M, Assessing the performance of prediction models: a framework for
traditional and novel measures, Epidemiology 21 (1): 128–38. 2010.
[26] Chen, Qingyu, and Kacharya, Kaushi, BioSentVec Github 2020
https://github.com/ncbi-nlp/BioSentVec
[27] Pizarro, J, Negspacy. March 13, 2020. https://pypi.org/project/negspacy/.
[28] Chen, T, and Guestrin, C. XGBoost: A Scalable Tree Boosting System. In
Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge
Discovery and Data Mining, 785–94. KDD ’16. New York, NY, USA: Association for
Computing Machinery. 2016.
[29] Karagiannidis, C, Mostert, C, Hentschker, C, Voshaar, T, Malzahn, J, Schillinger, G,
and Klauber, J, et al. Case Characteristics, Resource Use, and Outcomes of 10,021
Patients with COVID-19 Admitted to 920 German Hospitals: An Observational Study.
The Lancet Respiratory Medicine 2020.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

[30] Wang, D, Yin, Y, Hu, C, Liu, X, Zhang, X, Zhou, S, and Jian, M, et al. Clinical
Course and Outcome of 107 Patients Infected with the Novel Coronavirus, SARS-CoV2, Discharged from Two Hospitals in Wuhan, China. Critical Care / the Society of Critical
Care Medicine 24 (1): 188. 2020.
[31] Kouzy, R, Jaoude, J, Garcia, C, El Alam, M, Taniguchi, C, and Ludmir, E.
Characteristics of the Multiplicity of Randomized Clinical Trials for Coronavirus Disease
2019 Launched During the Pandemic. JAMA Network Open 3 (7): e2015100. 2020.
[32] North, C, Dougan, M, and Sacks, C. Improving Clinical Trial Enrollment - In the
Covid-19 Era and Beyond. The New England Journal of Medicine, July 2020

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Tables
Table 1. Demographic and Clinical Characteristics of the Patient Cohort
Taizhou
Condition
Age(years)
Female
COVID-19
positive
Pneumonia
SpO2
PaO2
(mmHg)
Fever
Cough
Sputum
production
Sore-throat
Nasal
discharge
Myalgia
Headache
Chest
tightness
Dyspnea
Fatigue
Coronary
artery
disease
ALT > 5
AST > 5
High Blood
Pressure
HBV
positive
Autoimmune
diseases
Bacterial
Pneumonia
Arrhythmias
Warfarin tab
Value rep
surgery
Diabetes
Fat Liver
Respiratory
distress
Cancer

Lausanne

All (n=28)

Mild (n=22)

Moderate (n=6)

Severe (n=24)

55.39±13.85(33,79)
12(42.85%)

53.95±13.14(34,79)
10(45.45%)

60.66±16.40(33,77)
2(33.33%)

68.33±10.16(48,85)
9(37.50%)

28(100%)

22(100%)

6(100%)

24(100%)

14(50%)
92.67%±2.11(88,94)
241.11±62.37
(104,301)
24(85.71%)
27(96.43%)

11(50%)
93.31%±1.32(89,94)
267.04±36.56
(212,301)
18(81.81%)
21(95.45%)

3(50%)
90.33%±2.87(88,94)
146.00±39.73
(104,193)
6(100%)
6(100%)

No data
91.33%±6.18(73,97)

22(78.57%)

16(72.72%)

6(100%)

1(4.16%)

10(35.71%)

8(36.36%)

2(33%)

No data

0(0%)

0(0%)

0(0%)

3(12.5%)

10(35.71%)
6(21.43%)

9(40.9%)
4(18.18%)

1(16%)
2(33%)

No data
No data

24(85.71%)

18(81.81%)

6(100%)

2(8.33%)

12(42.85%)
21(75%)

8(36.36%)
15(68.18%)

4(66%)
6(100%)

19(79.16%)
No data

8(28.57%)

7(31.81%)

1(16%)

No data

1(3.57%)
1(3.57%)

1(4.54%)
1(4.54%)

0(0%)
0(0%)

1(4.16%)
1(4.16%)

0(0%)

0(0%)

0(0%)

12(50%)

2(7.14%)

2(9.09%)

0(0%)

No data

1(3.57%)

1(4.54%)

0(0%)

1(4.16%)

1(3.57%)

0(0%)

1(16%)

No data

1(3.57%)
1(3.57%)

0(0%)
0(0%)

1(16%)
1(16%)

No data
No data

1(3.57%)

0(0%)

1(16%)

No data

3(10.71%)
1(3.57%)

1(4.54%)
1(4.54%)

2(33%)
0(0%)

3(12.5%)
1(4.16%)

1(3.57%)

0(0%)

1(16%)

4(16%)

0(0%)

0(0%)

0(0%)

2(8.32%)

No data
17(70%)
18(75%)

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Entecavir
tab
IOT, ICU,
Death
Hospitalized
Symptom
max days

1(3.57%)

1(4.54%)

0(0%)

No data

0(0%)

0(0%)

0(0%)

24(100%)

28(100%)

22(100%)

6(100%)

24(100%)

15.35±7.31(2,31)

13.72±6.64(2,27)

21.33±7.00(12,31)

8.16±4.94(2,21)

A list of all notable patient attributes, including the COVID-19 classifications of
mild, moderate, or severe. We classified all Lausanne University Hospital patients as
severe because they were either deceased, in the ICU, or under intubation. There is a
diverse distribution of Age in our Taizhou cohort.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Table 2. List of Clinical Trials of Prominent Drugs by NCT Number
Trial ID
Intervention/Treatment
NCT04312009 Angiotensin Receptor Blockers
NCT04340557 Angiotensin Receptor Blockers
Angiotensin Receptor Blockers
and Angiotensin Converting
NCT04394117 Enzyme Inhibitors
NCT04335136 APN01 (ACE2 analogue)
NCT04323514 Ascorbic Acid
NCT04332107 Azithromycin
NCT04381962 Azithromycin
NCT04353284 Camostat
NCT04362813 Canakinumab
NCT04377711 Ciclesonide
NCT04322682 Colchicine
NCT04355143 Colchicine
NCT04375202 Colchicine
NCT04342182
NCT04344288
NCT04364737
NCT04389710
NCT04390503
NCT04392531
NCT04325061
NCT04327401
NCT04370262
NCT04336904
NCT04358549
NCT04342663
NCT04345692
NCT04335552
NCT04358081
NCT04385095
NCT04350281
NCT04344600
NCT04330638
NCT04315298
NCT04359901
NCT04329650

Convalescent Plasma Transfer
Corticosteroids
Convalescent Plasma Transfer
Convalescent Plasma Transfer
Convalescent Plasma Transfer
Cyclosporine
Dexamethasone
Dexamethasone
Famotidine
Favipiravir
Favipiravir
Fluvoxamine
Hydroxychloroquine
Hydroxychloroquine plus
Azithromycin
Hydroxychloroquine plus
Azithromycin
Interferon Beta 1a
Interferon Beta 1b
Peginterferon lambda alfa-1a
Interleukin-1 Inhibitors
(Anakinra)
Interleukin-6 Inhibitors
(Sarilumab)
Interleukin-6 Inhibitors
(Sarilumab)
Interleukin-6 Inhibitors
(Siltuximab)

Phase # Country
Phase II US
Phase IV US

Phase IV Australia

Particip- Date
ants
Posted
Severity
200 03/17/20
200 04/09/20

605

05/19/20

2271
800
114
450
400
6000
150
308

04/02/20
05/11/20
04/20/20
04/27/20
05/06/20
03/26/20
04/21/20
05/05/20

426

04/10/20

300
100
200
230
200
350
942
100
50
152
350

04/28/20
05/15/20
05/15/20
05/19/20
03/27/20
03/31/20
04/30/20
04/07/20
04/24/20
04/13/20
04/14/20

Phase III US
Phase II UK

444
400

04/22/20
05/12/20

Phase II

164

04/14/20

342

04/01/20

2500

03/19/20

Phase III
Phase III
Phase II
Phase III
Phase III
Phase III
Phase II
Phase II

US
UK
US
US
US
US
US
Italy
Netherland
Phase ? s
Phase ?
Phase ?
Phase II
Phase IV
Phase IV
Phase III
Phase III
Phase III
Phase II
Phase II
Phase III

US
US
US
Spain
Spain
Brazil
US
Italy
US
US
US

US

Phase III Belgium
Phase III US
Phase II

US

120

04/24/20

Phase II

Spain

200

04/01/20

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

NCT04373044
NCT04321174
NCT04330690
NCT04371393
NCT04343729
NCT04338828
NCT04280705

Janus kinase inhibitors
(Baricitinib)
Lopinavir-Ritonavir
Lopinavir-Ritonavir
Mesenchymal Stem Cell
Methylprednisolone
Nitric Oxide
Remdesivir

Phase II
Phase III
Phase II
Phase III
Phase II
Phase II
Phase III

US
Canada
Canada
US
Brazil
US
US

144
2330
2900
300
425
260
800

05/04/20
03/25/20
04/01/20
05/01/20
04/13/20
04/08/20
02/21/20

NCT04292730
NCT04292899
NCT04362137
NCT04377620
NCT04355637
NCT04317092
NCT04356937
NCT04372186
NCT04320615

Remdesivir
Remdesivir
Ruxolitinib
Ruxolitinib
Systemic Glucocorticoids
Tocilizumab
Tocilizumab
Tocilizumab
Tocilizumab

Phase III
Phase III
Phase III
Phase III
Phase IV
Phase II
Phase III
Phase III
Phase III

US
US
US
US
Spain
Italy
US
US
US

1600
6000
402
500
300
400
278
379
450

moderat
03/03/20 e
03/03/20 severe
04/24/20
05/06/20
04/21/20
03/20/20
04/22/20
05/01/20
03/25/20

86
2104
2970

02/05/20
06/11/20
06/11/20

102
400

06/19/20
08/24/20

Additional drugs
NCT04252885 Lopinavir-Ritonavir+Arbidol
NCT04425629 REGN10933+REGN10987
NCT04426695 REGN10933+REGN10987

Phase IV China
Phase I US
Phase I US

NCT04438850 Ivermectin
NCT04523831 Ivermectin

Phase II Italy
Phase III Bangladesh

List of selected trials and their corresponding prominent drugs. Some trials do not have
their phase numbers or the number of participants available on ClinicalTrials.gov. We
have clinical trials ranging over a diverse set of dates and countries. The trials listed
under “Additional drugs” were not included in our cross validations. They are included in
our retrospective review of severe patients.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Table 3. Performance Metrics Comparison of the Six Versions of AI4CoV.
Version

AUROC

Sensitivity

Specificity

Precision

Negative
Predictive
Value

Accuracy

F1Score

7-Fold Cross-Validation
Baseline
Baseline +
ineq
NN
NN +
inequality
XGBoost
XGBoost +
ineq

75.52%

60.05%

58.53%

69.36%

48.37%

59.45%

64.37%

76.87%

54.99%

68.76%

73.35%

49.42%

60.36%

62.86%

89.62%

88.29%

64.63%

79.61%

77.92%

79.06%

83.72%

90.03%

89.44%

65.17%

80.06%

79.78%

79.97%

84.49%

92.39%

91.04%

70.38%

82.78%

83.40%

82.98%

86.71%

92.76%

92.42%

70.20%

82.90%

85.56%

83.75%

87.40%

76.70%

65.77%

50.55%

66.51%

49.73%

59.66%

66.13%

77.55%

60.26%

57.66%

68.00%

49.29%

59.22%

63.90%

87.14%

82.06%

70.14%

80.40%

72.37%

77.28%

81.23%

87.46%

82.17%

70.93%

80.84%

72.71%

77.66%

81.50%

89.75%

87.72%

72.20%

82.49%

79.76%

81.50%

85.03%

90.25%

88.68%

73.30%

83.22%

81.26%

82.51%

85.86%

10-Fold Cross-Validation
Baseline
Baseline +
ineq
NN
NN +
inequality
XGBoost
XGBoost +
ineq

7-Fold cross-validation results for all selected trials: Baseline vs.
Baseline+inequality vs. NN vs. NN+inequality vs. XGBoost vs. XGBoost+inequality. 10Fold cross-validation results for prominent drug trials: Baseline vs. Baseline+inequality
vs. NN vs. NN+inequality vs. XGBoost vs. XGBoost+inequality. Numbers in bold fonts
represent the best performance by the compared versions.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Table 4. Retrospective Review of Patient Outcomes and Medications
Patien
t

COVID-19
Medication

Suitability?
(+ or -)

Incidence Pneumonia

Interferon alpha-2b

-,-,+

Methylprednisolone

+

Lopinavir-Ritonavir

-,+

-0.37

Interferon alpha-2b

-,-,+

-1.02

Methylprednisolone

+

Lopinavir-Ritonavir

-,+

Immunoglobulin

+,+,+,+,+,-

1.98

Azithromycin

-,+,+,+

1.52

Hydroxychloroquine

+,+,+

2.97

Interferon alpha-2b

-,-,+

-0.74

Methylprednisolone

+

Lopinavir-Ritonavir

-,+

Azithromycin

+,+,+,+

Interferon alpha-2b

-,-,-

-2.04

Methylprednisolone

-

-2.51

Lopinavir-Ritonavir

-,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

1.58

Immunoglobulin

+,+,+,+,+,+

1.36

Lopinavir-Ritonavir

-,+

Hydroxychloroquine

+,+,-

2.7

Interferon alpha-2b

-,-,+

-0.74

Methylprednisolone

+

Immunoglobulin

+,+,-,+,+,+

Lopinavir-Ritonavir

-,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

0.59

Immunoglobulin

+,+,-,+,+,+

1.81

Lopinavir-Ritonavir

-,+

-0.62

Interferon alpha-2b

-,-,+

-1.19

Methylprednisolone

+

Immunoglobulin

+,+,+,+,-,-

Lopinavir-Ritonavir

-,+

0.12

Interferon alpha-2b

-,-,-

-2.3

Methylprednisolone

-

1
Incidence Pneumonia

2

Incidence Pneumonia
3

Incidence Pneumonia
4
Incidence Pneumonia

5

Incidence Pneumonia
7

Incidence Pneumonia
8

Incidence Pneumonia
9

Incidence Pneumonia
10

Average
Suitability
Score

Outcomes within 60 days?

-1.26
1.96

0.75
-0.03

2.36
-0.18
2

-0.2
-2.15

-1.26

1.03
1.5
0.89
-1.71

1.48
1.3

-0.09

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Incidence Pneumonia
11

12

Incidence Acute Respiratory
Failure and
Incidence Pneumonia

Incidence Pneumonia
13

Incidence Pneumonia
14

15

Incidence Acute Respiratory
Failure and incidence
Pneumonia

Incidence Pneumonia
16

Incidence Pneumonia
17

Incidence Pneumonia
18
Incidence Pneumonia
19

Incidence Pneumonia
20

Lopinavir-Ritonavir

-,+

-2.09

Interferon alpha-2b

-,-,+

-0.7

Methylprednisolone

+

2.56

Immunoglobulin

+,+,+,+,+,+

Lopinavir-Ritonavir

+,+

0.45

Interferon alpha-2b

-,-,+

-2.15

Methylprednisolone

+

Immunoglobulin

+,+,+,+,+,+

1.7

Lopinavir-Ritonavir

+,+

1.3

Interferon alpha-2b

-,-,+

-1.6

Methylprednisolone

+

0.62

Lopinavir-Ritonavir

-,+

Immunoglobulin

+,+,-,+,+,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

Lopinavir-Ritonavir

-,+

-1.09

Interferon alpha-2b

-,-,+

-1.67

Methylprednisolone

-

-3.81

Lopinavir-Ritonavir

-,+

-0.41

Immunoglobulin

-,+,+,+,-,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

1.45

Immunoglobulin

+,+,+,+,+,+

1.86

Lopinavir-Ritonavir

-,+

-0.52

Interferon alpha-2b

-,-,+

-2.24

Methylprednisolone

+

0.16

Immunoglobulin

+,+,-,+,-,-

0.86

Lopinavir-Ritonavir

-,+

-0.72

Interferon alpha-2b

-,-,+

-1.12

Methylprednisolone

+

Lopinavir-Ritonavir

-,+

-0.71

Interferon alpha-2b

-,-,+

-1.34

Methylprednisolone

+

1.54

Lopinavir-Ritonavir

+,+

0.51

Immunoglobulin

+,+,+,+,+,+

1.17

Interferon alpha-2b

-,-,+

Methylprednisolone

+

0.88

Lopinavir-Ritonavir

+,+

0.71

Immunoglobulin

+,+,-,+,+,+

1.57

2

2.02

-0.55
1.18
-1.59
1.48

0.27
-1.65

1.61

-1.43

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Prevalence Arrhythmia
Incidence Pneumonia
21

Incidence Pneumonia
22
Incidence Pneumonia
23

Incidence Pneumonia
24

Incidence Pneumonia
25

Incidence Pneumonia
26

Incidence Pneumonia
27

Incidence Pneumonia

28

Incidence Pneumonia
29

Interferon alpha-2b

-,-,+

-1.44

Methylprednisolone

-

-3.78

Lopinavir-Ritonavir

+,+

Immunoglobulin

+,+,-,+,+,+

-0.05

Hydroxychloroquine

-,-,-

-1.77

Interferon alpha-2b

-,-,+

-1.2

Methylprednisolone

+

0.14

Lopinavir-Ritonavir

+,+

2.07

Interferon alpha-2b

-,-,+

-1.69

Methylprednisolone

+

Lopinavir-Ritonavir

+,+

Immunoglobulin

+,+,-,+,+,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

0.28

Lopinavir-Ritonavir

+,+

3.27

Immunoglobulin

+,+,-,+,+,+

1.29

Interferon alpha-2b

-,-,+

-2.2

Methylprednisolone

+

0.88

Lopinavir-Ritonavir

+,+

0.12

Immunoglobulin

+,+,+,+,+,+

Interferon alpha-2b

-,-,+

Methylprednisolone

+

2.42

Lopinavir-Ritonavir

+,+

1.14

Immunoglobulin

+,+,-,+,+,+

1.31

Interferon alpha-2b

-,-,+

Methylprednisolone

+

1.25

Lopinavir-Ritonavir

-,+

-0.2

Immunoglobulin

+,+,-,+,-,+

1.02

Interferon alpha-2b

-,-,+

Methylprednisolone

+

1.03

Lopinavir-Ritonavir

-,-

-0.83

Immunoglobulin

+,+,-,+,+,+

Hydroxychloroquine

+,-,+

0.6

Interferon alpha-2b

-,-,+

-1.9

Methylprednisolone

+

1.14

Immunoglobulin

+,+,-,+,+,+

1.45

Lopinavir-Ritonavir

-,+

0.74

2

0.14
1.1
1.72
-1.25

1.5
-1.71

-0.55

-0.91

1.81

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Results of the retrospective review of the outcomes of the patients and the
medications they took, compared with their AI4CoV predicted average suitability scores
for each medication. The outcome of patient 6 is incomplete and was thus excluded
from the study. Outcomes marked as “Incidence” signifies that the patient gained the
condition after hospital admission, while “Prevalence” indicates that the patient had the
condition before hospital admission. COVID-19 medications for each patient are
ordered by the first date that they were prescribed to the patient. Each medication may
have a different number of registered clinical trials. Column “Suitability? (+ or -)” shows
whether the patient-clinical trial pair has a positive (suitable) or negative (unsuitable)
score as predicted by AI4CoV. The ordering of plus and minus for each drug is
consistent across all patients to allow for comparison of whether a trial yielded a
negative or positive score for most patients. The last column shows the average score
of the trials for each medication.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Table 5. Most Frequent Criteria
Most Common
Inclusion

Most Common
# Exclusion

Cough

162 Pregnant

Age

Coronary artery
144 disease

ICU

120 ALT

Oxygen

118 AST

Prominent Drug
Common
# Inclusion
33
2 Cough

Prominent Drug
Common
# Exclusion
14 ALT

#
1
2

Fever
Pneumonia
Respiratory rate
Coronary artery
disease
Diabetes
O2
Positive
coronavirus

96 HIV
89 ICU
66 Hemodialysis

14
2
10
7
10
4
10
4
98
47

44 Arrhythmias
31 Fever
29 Cough

47 Fever
44 Chest tightness
42 Gender

2 O2
2 Fever
2 Cough

2
2
2

29 Pneumonia

35 Respiratory rate

2 Age

1

Chest tightness

26 Age

2 Arrhythmias

1

Headache
SOFA

19 Oxygen
19 Diabetes

32 Diabetes
Pulmonary interstitial
26 fibrosis
25 SOFA

1 Diabetes
1 Sputum production

1
0

Sputum production

Positive
16 coronavirus

13 Pregnant

0

13 ALT
12 AST

1 Fatigue
Coronary artery
0 disease
0 Sore-throat

12 Sputum production

0 Chest tightness

0

0 Dypnea

0

0 Gender

0

Gender
AST
Pregnant

14 Psychosis
13 Respiratory rate
Pulmonary
11 interstitial fibrosis

Fatigue

10 O2

Oxygen

8 AST

Pneumonia

8 ICU

Age

7 Pregnant

1
2
1
2
1
0

Positive coronavirus
O2
ICU

4 HIV
3 Oxygen
2 Hemodialysis

5
4
4

0
0

ALT

9 SOFA

9 Fatigue
Coronary artery
8 disease

Myalgia
HIV

9 Headache
9 Malnutrition

3 Sore-throat
3 Dypnea

0 Positive coronavirus
0 Pneumonia

0
0

Nasal discharge
Hemodialysis
Pulmonary
interstitial fibrosis
Dypnea

8 Chest tightness
4 Tumor

2 Nasal discharge
2 Myalgia

0 Respiratory rate
0 Nasal discharge

0
0

3 Gender
2 Nasal discharge

1 Headache
1 Alveolarproteinosis

0
0

Tumor

2 Sputum production

0 Allergicalveolitis

0 Myalgia
0 Headache
Pulmonary interstitial
0 fibrosis

0

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Arrhythmias

1 Fatigue

0 Mechanicalventilation

0 Alveolarproteinosis

0

The top criteria used by the selected trials is located in the first two columns for
“inclusion” and “exclusion.” The top criteria used by our prominent drug trials is located
in the last two columns. These can be helpful for healthcare teams to know what patient
manifestations to consider first when matching patients with clinical trials.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figures
Figure 1. An example of clinical trial criteria listed in the ClinicalTrials.gov website
(NCT04252664, Remdesivir). This example shows the complexity of the criteria. It also
shows why it is necessary to use AI Natural Language Processing to determine patienttrial suitability if we need to deal with a large number of patient-trial pairs automatically.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figure 2. Workflow of AI4CoV. Details are described in “The AI4CoV Algorithm”
section in “Method.”

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figure 3. ROC Curves
(Top) ROC curve for 7-fold cross-validation, prominent drug trials: Baseline vs.
Baseline+inequality vs. NN vs. NN+inequality vs. XGBoost vs. XGBoost+inequality.
(Bottom) ROC curve for 10-fold cross-validation, all patient-trial pairs with human labels:
Baseline vs. Baseline+inequality vs. NN vs. NN+inequality vs. XGBoost vs.
XGBoost+inequality. The ROC curves show that patient-trial pairs that have high scores
by AI4CoV are indeed more likely to be suitable than those that have low scores.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figure 4. The range of suitability scores for all severe patients from Lausanne
University Hospital-prominent drug trial pair. The drug names are listed on the x-axis. It
shows that some drugs such as Convalescent Plasma Transfer and Anakinra have
many suitable severe patients, while some drugs such as Dexamethasone and
Hydroxychloroquine are unsuitable to almost all severe patients. Most drugs are only
suitable to take for a few patients.

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Figure 5 This graph shows that mild and moderate patients (1-29) have more treatment
nt
options than severe patients (30-53). All patients have some safe treatment options
available.

ClinicalTrials.gov
COVID-19 Trials

COVID-19
PT records

Patients

Filtering
non-intervention

Negative/normal
condition filter

Sentence

2

Pt has fever for 3 days

NCT04312345
NCT04312345
NCT04312345

Fever

Patients

…

…

Dry Cough
ALT>5ULN

…

Pt was tested positive

In/ex
in
in
ex

…

1

Sentence

…

ID

Sentence splitter

SciBERT
sent2vec

NCT#

SciBERT
sent2vec

Trials

Negation
detector

+

ⅹ

Patient record
sentences

-

Criteria
sentences

Cosine
Similarity

For every pair of
patient record and
criteria sentences

Inequality function for
quantitative measures

Each PatientTrial pair
Patient
record
sentences

Select max

PatientTrial pairs

Matrix M

Criteria sentences

Sum of multiple
matches

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

Vector X

PatientTrial pairs

Inclusion exclusion

Machine Learning
Classifier

…

NCTs

Final Scores for all Patient-Trial pairs

Trained
Machine
Learning
Model

Patients

medRxiv preprint doi: https://doi.org/10.1101/2020.11.29.20240614; this version posted December 4, 2020. The copyright holder for this preprint
(which was not certified by peer review) is the author/funder, who has granted medRxiv a license to display the preprint in perpetuity.
It is made available under a CC-BY-NC-ND 4.0 International license .

