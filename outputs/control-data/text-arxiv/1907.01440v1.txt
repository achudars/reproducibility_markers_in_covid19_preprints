SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH
OF THOMPSON’S GROUP F

arXiv:1907.01440v1 [math.GR] 2 Jul 2019

MAKSYM CHORNYI
Abstract. The goal is to extend a non-standard amenability test for groups, based
on random walks and superharmonic functions, to group actions on sets, and to apply
it to Thompson’s group F using certain properties of extensive amenability. While no
conclusive answer regarding the amenability of F is given, the approach is helpful in
developing a new potentially useful criterion and testing it on a significant subclass of
superharmonic functions.

1. Introduction and definitions
Amenability of discrete groups has a strong connection to the notion of random walks.
Let µ be a measure on a group G. This measure can be seen as the source of a left
random walk on G, where the transition probabilities are defined by p(g, h) = µ(hg −1).
Similarly, if a discrete group G acts on a countable
set X, the induced random walk
P
is given by transition probabilities p(x, y) =
µ(g). The summation sign is needed
gx=y

in case several group elements map x to y.

Definition 1. Let µ and ν be two measures
on a discrete group G. The convolution of
P
µ and ν is defined by (µ ∗ ν)(g) =
µ(h)ν(h−1 g).
h∈G

A convolution of two probability measures is always a probability measure, and the
operation of taking convolutions is associative in the sense µ ∗ (ν ∗ ρ) = (µ ∗ ν) ∗ ρ.
The n-th convolution of measure µ is defined by µ∗n = µ ∗ . . . ∗ µ.
| {z }
n times

Definition 2. A measure µ on a group G is called finitely supported if there is a finite
set S ⊂ G such that µ(S) = 1.
S
Definition 3. A measure µ on a group G is called generating if G =
supp(µ∗n ).
n≥0

Definition 4. A measure µ on a group G is called symmetric if µ(A) = µ(A−1 ) for
any A ⊂ G.
P ∗n
For a given random walk on a countable set X, denote Pn (x, y) =
µ (g), which
gx=y

represents the probability of reaching point y from point x in exactly n steps.
Graduate student at Northwestern University, supervised by Kate Juschenko.
1

2

MAKSYM CHORNYI

Standing assumption. Unless specified otherwise, further on in this dissertation we
assume that all described group actions are transitive and the corresponding measures
are finitely supported, generating and symmetric.
Definition 5. Green’s function of points x and p of a random walk with a parameter
∞
P
z is given by G(x, p|z) =
Pn (x, p)z n .
n=0

For z = 1, Green’s function represents the expected number of times we visit p when
starting from x. For z < 1, we can think of Green’s function as the same expected
number of visits but with the condition that before each step the walk is terminated
with probability z.
Let x ∈ X be an arbitrary point. The radius of convergence of the random walk is
given by

−1
p
n
−1
r(X, µ) = ρ(X, µ) = lim
Pn (x, x)
n→∞
.
According to basic facts from random walk theory ([1], Chapter 1), the limit above is
always defined and does not depend on the point x, even though it can depend on the
precise generating set. We call ρ(X, µ) the inverse spectral radius of the random walk.
Definition
6. The linear operator P : l2 (X) → l2 (X) defined by P f (x) =
P
= µ(g)f (gx) is called the Markov operator with respect to µ.
g

Informally, the Markov operator represents the mathematical expectation of the value
of f on the point reached after the first step defined by µ.
Definition 7. A function f : X → R is called superharmonic with respect to a probability measure µ if f (x) ≥ P f (x) for all x ∈ X. If f (x) = P f (x) for all x, the function
is called harmonic.
It turns out that there is a very explicit connection between random walks and
amenability criteria. It is summarized by Kesten’s amenability test:
Theorem 1. Let a group G act on a countable set X and let µ be a measure on G.
The following are equivalent:
(1) The action of G on X is amenable.
(2) The Markov operator corresponding to the random walk defined by µ has norm
||P || = 1.
(3) The inverse spectral radius ρ(X, µ) of the random walk is equal to 1.
The proof is based on the spectral theorem for self-adjoint operators and can be found
in [1] (Chapters 10 and 12). Another proof of Kesten’s criterion for the left action of
G on itself (i.e. the case of amenable groups) can be found in [10].
The following amenability criterion was proved by Sam Northshield in his 1993 paper
[11]:

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

3

Theorem 2. Let G be a countable group and µ be a measure defined on G. Then
G is amenable if and only if for any positive superharmonic function f there exists a
n)
→ 1, n → ∞.
sequence {xn } in G such that for any z ∈ G, ff(zx
(xn )
We extend the statement to all amenable actions of a discrete group G on a graph
X. The structure of our proof is based on the original.
The following fact is proven in [1] (Lemma 7.2, p. 81):
Lemma 1. Let µ be a generating and symmetric measure on G, and P be the corresponding Markov operator. Then the spectral radius of P satisfies r(P )−1 = inf{λ :
∃f > 0 : P f ≤ λf }.
Corollary 1. The action of G on X is amenable if and only if inf{λ : ∃f > 0 : P f ≤
λf } = 1.
Theorem 3. The action of G on X is amenable if and only if for all positive superharmonic functions f with respect to µ there exists a sequence {En } in X such that for
n)
all x ∈ G, ff(xE
→ 1 as n → ∞.
(En )
Proof. Let G act amenably on X and let f be a positive superharmonic function. Define
(n) f (E)
6= 1.
P (n) to be the n-fold convolution of P with itself and suppose that sup P f (E)
E
P P (i) f
. Then
Then there exists ε ∈ (0, 1) such that P (n) f ≤ εn f . Let g =
εi
0≤i≤n−1

P g−εg =

P (n) f (E)
−εf
εn−1

(n)

f (E)
≤ 0, which is, by Lemma 4, a contradiction. Hence sup P f (E)
=

1.

E

q

f (xE)
, where x ∈ G. fE2 is positive superharmonic,
For E ∈ X, define fE (x) =
f (E)
since
X
f (gxE)
P f (xE)
1 X
f (xE)
µ(g)
µ(g)f (g · xE) =
=
≤
.
f (E)
f (E) g
f (E)
f (E)
g

Since t → t1/2 is an increasing concave function, by Jensen’s inequality fE is also
positive and superharmonic. Note that

P (n) fE (e) =

X

µ(n) (x)fE (x) =

x

X

µ(n) (x)

x

=

s

f (xE)
=
f (E)

X
F

Thus, sup P

(n)

fE (e) = 1.

P (n) (E, F )

s

f (F )
P (n) [f 1/2 ](E)
=
.
f (E)
f (E)1/2

E

Since, for all E, P (n) fE (e) is decreasing as a function of n, we can choose E(k) such
that, for all n, P (n) fE(k) (e) → 1 as k goes to infinity. Then we have:

4

MAKSYM CHORNYI

2
1 = fE(k) (e) ≥ P (n) [fE(k) ]2 (e) ≥ [P (n) fE(k) (e)]2 → 1. Thus:
2
P (n)
µ (x) fE(k) (x) − 1 = P (n) [fE(k) ]2 (e) − 2P (n) fE(k) (e) + 1 → 0, k → ∞. Since µ
x

is generating, we have fE(k) → 1 pointwise.
To prove the opposite direction, assume that for every positive superharmonic func(En )
tion f there is a sequence {En } satisfying the condition of the theorem. Then Pff(E
=
n)
P
f (xEn )
µ(x) f (En ) → 1, which implies amenability by Lemma 4.
x



This criterion can be rewritten in terms of words of certain length. We note that
each element g ∈ G can be represented by a word w(g) ∈ S ∗ , where S is the support
of µ and hence a generating set by convention. Abusing notation, we will normally
substitute g for w(g) whenever no confusion arises.
Corollary 2. Let β : N → R>0 be a non-increasing function satisfying lim β(n) = 0.
n→∞
The action of G on X is amenable if and only if for any positive superharmonic function
f with respect to µ there exists a sequence {En } such that any word g of length not
n)
exceeding n satisfies ff(gE
− 1 < β(n).
(En )
Proof. If there is a sequence {En } satisfying the conditions of Theorem 8 and k is a
n)
− 1 → 0 for any g of length at most k. Since there are
positive integer, then ff(gE
(En )
only finitely many words of length at most k, this implies
max
|g|≤k

f (gEn )
− 1 → 0.
f (En )

It remains to choose a subsequence {Eni }, i ∈ N such that
max
|g|≤k

f (gEni )
− 1 < β(k).
f (Eni )

On the other hand, if any word g ∈ S ∗ of length not exceeding n satisfies
β(n), then for a word g of length k we have that
This immediately applies convergence to 0.

f (gEn )
f (En )

−1 <

1
n

f (gEn )
f (En )

−1 <

as long as n ≥ k.


As an example, we note that all bounded positive harmonic functions have an En approximation.
Lemma 2. Let h be a bounded positive harmonic function with respect to the simple
random walk on a locally finite connected graph X. Then there is a sequence {xn } in
n)
X such that for any word g ∈ S the sequence h(gx
converges to 1.
h(xn )
Proof. We will give a proof for the case of a lazy simple random walk: the generating
set S is symmetric, contains the identity element and has d elements in total. We also

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

5

assume µ(g) = d1 for any g ∈ S. The more general case can be proven in a similar but
slightly more technical way.
Put β(n) = n1 . Without loss of generality, assume sup h = 1. If the function is
constant, the statement is obvious. Otherwise, take a point yn such that f (yn ) > 1 − ε,
where ε = nd1n .
If g is a one-letter word, by harmonicity we get h(gyn ) > 1−dε, because h(gyn ) > 1−ε
is the average of d values not exceeding 1. In analogy, if g is a two-letter word, we get
h(gyn ) > 1−d·dε = 1−d2 ε. Continuing by induction, it can be seen that for any word g
n)
of length n or less 1 ≥ h(gyn ) > 1−dn ε = 1− n1 , which implies that h(gy
− 1 < n1 . 
h(yn )
The following ”weak” version of the criterion is also true.
Theorem 4. The action of G on X is amenable if and only if for all positive superharmonic functions f with respect to µ there exists a sequence {En } in X such that for
(En )
all x ∈ G, Pff(E
→ 1 as n → ∞.
n)
Proof. If the action is amenable, then for any suitable function f there is a sequence
{En } satisfying the stronger condition from Theorem 8, which implies in particular the
statement of this theorem.
The opposite direction is proven using Lemma 4 and the counterexample from the
proof of Theorem 8.

We first show the proof of existence of En -approximations for generic min-functions
using several lemmas which are going to be used throughout the paper. After that, we
prove similar results for their finite and then countable sums, as well as for linear combinations of their images under the Markov operator. We finish by defining generalized
min-functions and constructing a sequence of En for this new class.
The obtained results do not give a conclusive answer to the question of the (non)amenability of the Thompson group F since we do not exhaust the class of all superharmonic functions, but they might indicate a new direction to research.
In particular, we do not know how to construct the approximations for infinite con∞
P
vergent sums
P ni fi . Our proof for finite sums (Lemma 9 and Theorem 14) uses the
i=0

exact expression for iterations of the Markov operator and cannot be easily extended to
the infinite case. Finding an approximation for this class could be an interesting question since some of its functions seem to be more closely related to Green’s functions.
In section 11, we also note that this test can be used to show that some similarly
defined actions on other graphs are not extensively amenable.
Acknowledgement. The author is thankful to his advisor Kate Juschenko for
helpful research advice, productive discussions and reviewing the presented results.
2. Overview of Thompson’s group

Thompson’s group F was introduced by Richard Thompson in unpublished handwritten notes in 1965 together with two other related (non-amenable) groups which are

6

MAKSYM CHORNYI

not covered by this paper. The definition of Thompson’s group F , its basic properties with proofs and some more elementary results can be found in various papers and
publications: [2], [3], [4].
The question regarding the amenability of F has been open for a long time. If it is
amenable, it would be an example of a finitely presented group which is amenable but
not elementary amenable (the latter is proven, for instance, in [5]). If it is not amenable,
it would be an example of a finitely presented non-amenable group not containing the
free group F2 (see [2]).
In 2009, a paper published by Azer Akhmedov ([6]) claimed to prove the nonamenability of F , while another paper published the same year by Evgeni Shavgulidze
([7]) claimed to prove its amenability. Both proofs turned out to be erroneous.
3. Extensive amenability as a tool
Extensively amenable actions have several equivalent definitions, see [8].
Let a discrete group G act on a set X and let Pf (X) denote the class of all finite
subsets of X.
Definition 8. Let G act on a set X. The action can be canonically extended to Pf (X)
by the rule g(E) = gE = {g(x)|x ∈ E}. The original action of G on X is called
extensively amenable if there is a G-invariant mean on Pf (X) giving the full weight to
the collection of subsets containing some (=any) given element of X.
Definition 9. The semidirect product Pf (X) ⋊ G equipped with multiplication given by
(E, g)(F, h) = (E∆gF, gh) is called the Lamplighter group of the action of G on X.
Definition 10. An action of G on X is called extensively amenable if the action of the
Lamplighter group Pf (X) ⋊ G on Pf (X), defined by (E, g)(F ) = E∆gF , is amenable.
Extensively amenable actions are amenable unless X = ∅, and every action of an
amenable group is extensively amenable. Neither converse is true: in Chapter 11 we
show an example of an amenable action which is non extensively amenable, while some
examples of extensively amenable actions by non-amenable groups can be found in [9]
and [10].
The following lemma states that the set of finite subsets can be replaced with a
broader set of finitely supported functions:
Theorem 5. Let G act on a set X. Then the action is extensively amenable
L if and
only if for some (=any) non-trivial amenable group A the canonical action of
A⋊G
X
L
on
A is amenable.
X

This lemma is a direct corollary of Theorem 1.3 from [8]. For the only if direction,
a simpler proof is given in Lemma 5.5 of [10].
As mentioned before, it is a well-known open question to decide whether Thompson’s
group F is amenable. In this chapter, we intend to paraphrase the question in terms of

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

7

extensive amenability of a certain action of F . In its turn, extensive amenability can be
reformulated in terms of classic amenability of the action produced by the corresponding
Lamplighter group by Definition 10. The core idea is to apply Northshield’s test to the
action.
The following theorem was proved in [8]:
Theorem 6. Let G y X be an extensively amenable
action and A a non-trivial
L
amenable group. If there exists an embedding G ֒→
A ⋊ G of the form g → (c(g), g)
X

with the property that the kernel {g ∈ G : c(g) = id} is an amenable subgroup of G,
then G is amenable.
Corollary 3. Thompson’s group F is amenable if and only if its action on X = Z[ 21 ] ∩
(0, 1) is extensively amenable.

Proof. The only if part is obvious because any action of an amenable group is extensively amenable.
L
For the if part, the idea is to construct an embedding F ֒→
A ⋊ F of the form
X

g → (c(g), g) and apply Theorem 6.
Let A be the group of multiplicative integer powers of 2 and let X be the set Z[ 12 ] ∩
′

(0, 1) of dyadic numbers. Define c(g) : X → A by c(g)(x) =

g+ (x)
′
g− (x)

. It can be checked

that the embedding g → (c(g), g) is a well-defined cocycle. The kernel of the cocycle
is trivial and hence amenable, which proves the amenability of F under the initial
assumptions.


4. Schreier graph of Thompson’s group
We consider the left action of F on the set of dyadic rationals X = Z[ 21 ] ∩ (0, 1). The
Schreier graph of this action can depend on the generating set. Some example of such
graphs can be found in [12] and [13].
The following lemma is proven in several overview papers of the group, for example,
[3].
Lemma 3. Let g0 , g1 ∈ F be defined by:

and


x

0 ≤ x ≤ 21
2,
1
g0 (x) = x − 14 ,
< x ≤ 34
2

2x − 1, 3 < x ≤ 1
4

8

MAKSYM CHORNYI


x,
0 ≤ x ≤ 21



x + 1, 1 < x ≤ 3
2
4
g1 (x) = 2 14
3
7
x − 8 ,
<
x
≤

4
8


2x − 1, 78 < x ≤ 1.

Then g0 and g1 generate F .

Let g0 and g1 be the generators of F as defined in Lemma 3.
Take the Schreier graph X corresponding to generators a = g1 g0−1 and b = g1 , with
the right-to-left order of multiplication.
The graph consists of a binary tree (which we call its skeleton and denote by Xsk )
and hairs attached to its vertices, two to the root (point p = 85 ) and one to any other
vertex. From the transitivity properties of Thompson’s group it follows that each dyadic
number in Z[ 21 ] ∩ (0, 1) has a unique corresponding vertex in the graph.

7/8

3/4

13/16

23/32

b

5/8

a

9/16

11/16

19/32

1/2

21/32

1/4
3/8
17/32

Figure 1. Schreier graph of F acting on Z[ 21 ]
Further on, we will only be interested in the general structure of the graph. The
exact dyadic numbers corresponding to individual vertices are of little interest to us.
We also note that the group Pf (X) ⋊ F is generated by a finite set
{(∅, a), (∅, b), ({p}, e)}. When no confusion occurs, we may abuse the notation and
call them a, b and σ respectively. Roughly speaking, if E ∈ Pf (X) is a set, a and b
move all its points as the generators a and b of the Thompson’s group respectively, and
σ makes a ”switch” at the point p by removing it from the set if it is contained there
or adding it to the set otherwise.
Theorem 7. The action of F on X is amenable.
Proof. We can take arbitrarily long subsequences of hairs as Følner sets.



5. Northshield’s criterion extended to group actions
The amenability criterion below is a generalization of the criterion proved by Sam
Northshield and published in [11]. The original proof only deals with amenable groups,

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

9

whereas we extend the statement to all amenable actions of a group G on a graph X.
The structure of our proof is based on the original.
Here the measure µ on G is assumed to be generating, symmetric and aperiodic in
the sense of Markov chains, the action of G is left and P is the Markov operator with
respect to µ.
The following fact is proven in [1] (Lemma 7.2, p. 81):
Lemma 4. The action of G on X is amenable if and only if inf{λ : ∃f > 0 : P f ≤
λf } = 1.
Theorem 8. The action of G on X is amenable if and only if for all positive superharmonic functions f with respect to µ there exists a sequence (En ) in X such that for
n)
all x ∈ G, ff(xE
→ 1 as n → ∞.
(En )
Proof. Let G act amenably on X and let f be a positive superharmonic function. Define
(n) f (E)
6= 1.
P (n) to be the n-fold convolution of P with itself and suppose that sup P f (E)
E
P P (i) f
. Then
Then there exists ε ∈ (0, 1) such that P (n) f ≤ εn f . Let g =
εi
0≤i≤n−1

P g−εg =

P (n) f (E)
−εf
εn−1

(n)

f (E)
≤ 0, which is, by Lemma 4, a contradiction. Hence sup P f (E)
=

1.

E

q

f (xE)
, where x ∈ G. fE2 is positive superharmonic,
For E ∈ X, define fE (x) =
f (E)
since
X
f (gxE)
P f (xE)
1 X
f (xE)
µ(g)
µ(g)f (g · xE) =
=
≤
.
f
(E)
f
(E)
f
(E)
f
(E)
g
g

Since t → t1/2 is an increasing concave function, by Jensen’s inequality fE is also
positive and superharmonic. Note that

P (n) fE (e) =

X

µ(n) (x)fE (x) =

x

X

µ(n) (x)

x

=

s

f (xE)
=
f (E)

X
F

Thus, sup P (n) fE (e) = 1.

P (n) (E, F )

s

f (F )
P (n) [f 1/2 ](E)
=
.
f (E)
f (E)1/2

E

Since, for all E, P (n) fE (e) is decreasing as a function of n, we can choose E(k) such
that, for all n, P (n) fE(k) (e) → 1 as k goes to infinity. Then we have:
2
1 = fE(k) (e) ≥ P (n) [fE(k) ]2 (e) ≥ [P (n) fE(k) (e)]2 → 1. Thus:
2
P (n)
µ (x) fE(k) (x) − 1 = P (n) [fE(k) ]2 (e) − 2P (n) fE(k) (e) + 1 → 0, k → ∞. Since µ
x

is aperiodic, we have fE(k) → 1 pointwise.

10

MAKSYM CHORNYI

To prove the opposite direction, assume that for every positive superharmonic func(En )
=
tion f there is a sequence (En ) satisfying the condition of the theorem. Then Pff(E
n)
P
f (xEn )
µ(x) f (En ) → 1, which implies amenability by Lemma 4.
x



In particular, all bounded harmonic functions have this approximation.
Lemma 5. Let h be a bounded positive harmonic function with respect to the simple
random walk on a locally finite connected graph X. Then there is a sequence xn in X
n)
such that for any word g of generating elements and their inverses the sequence h(gx
h(xn )
converges to 1.
Proof. We will give a proof for the case of a lazy simple random walk: the generating
set S is symmetric, contains the identify element and has d elements in total. We also
assume each step is a left multiplication by an arbitrary element from the set S chosen
with probability d1 . The more general case can be proven similarly.
The statement is equivalent to the following: for each n there is an element xn ∈ X
n)
− 1 < n1 for any word g of length ≤ n.
such that h(gx
h(xn )
Without loss of generality, assume sup h = 1. If the function is constant, the statement is obvious. Otherwise, take a point yn such that f (yn ) > 1 − ε, where ε = nd1n .
If g is a one-letter word, by harmonicity we get h(gyn ) > 1 − dε, where d = 2k + 1
is greater than or equal to the degree of yn . This happens because h(gyn ) > 1 − ε
is an average of d values not exceeding 1. Similarly, if g is a two-letter word, we get
h(gyn ) > 1−d·dε = 1−d2 ε. Continuing in the same way, we obtain that for any word g
n)
of length n or less 1 ≥ h(gyn ) > 1−dn ε = 1− n1 , which implies that h(gy
− 1 < n1 . 
h(yn )
Since an example of a suitable non-superharmonic function for a non-amenable group
action can be constructed in a universal manner for all actions, the criterion can be
reformulated as follows:
Theorem 9. The action of G on X is amenable if and only if for all positive superharmonic functions f with respect to µ there exists a sequence (En ) in X such that for
(En )
all x ∈ G, Pff(E
→ 1 as n → ∞.
n)
Proof. If the action is amenable, then for any suitable function f there is a sequence
En satisfying the stronger condition from Theorem 8, which implies in particular the
statement of this theorem.
The opposite direction is proven using Lemma 4 in a way similar to Theorem 8. 
6. Strong and weak approximations
Depending on the context we can choose to use the strong (as in Theorem 8) or weak
(as in Theorem 9) approximation. If the aim is to prove that a group is non-amenable,
the strong criterion works better because the strong approximation has a better chance

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

11

of catching a ”bad” superharmonic function. On the other hand, to conclude that
a group is amenable, it is easier to verify that all superharmonic functions have an
approximation in a weak sense.
In this paper we will be primarily focused on strong approximations, with making
references to weak approximations when necessary.
Theorem 10. Let f be a function of Pf (X) such that any finite set E satisfies f (E) =
f (E∆{p}) (we will call such functions switch-invariant). Then f satisfies the weak
(En )
approximation condition: there is a sequence En such that Pff(E
→ 1.
n)
Proof. Let ϕ(x) = f ({x}) be the restriction of f to the class of one-element sets. Since
f is superharmonic and switch-invariant, so is ϕ0 with respect to the simple random
walk generated by {a, b, a−1 , b−1 }. The amenability of the action of F on X (Theorem
ϕ(xn )
→ 1. On the other hand,
4) implies that there is a sequence {xn } ⊂ X such that Pϕ(x
n)
P ϕ(xn ) = P f ({xn }) and ϕ(xn ) = f ({xn }) by definition and properties of f . This, in
turn, gives an approximation in a weak sense for f .

It is not known whether a strong approximation exists for this class. Further on in
the paper, we will find such approximations for a subclass of switch-invariant functions
as well as some other functions.
7. Min-functions are well-defined and superharmonic
Definition 11. Let ϕ be a function defined on a set X and achieving its maximum at
the root point p. Then the function f : Pf (X) → R defined by
• f (E) = min ϕ(x)
x∈E

• f (∅) = ϕ(p)
is called the min-function of ϕ.
Lemma 6. Let ϕ be a superharmonic function on X achieving its maximum at the root
point p. Then its min-function f is also superharmonic with respect to any measure
given by µ(∅, a) = µ(∅, b) = µ(∅, a−1 ) = µ(∅, b−1 ) > 0, µ({p}, id) > 0.
Proof. Define
• T1 f (E) = 41 (f (aE) + f (bE) + f (a−1 E) + f (b−1 E))
• T2 f (E) = f (E∆p)
• T f (E) = αT1 f (E) + (1 − α)T2 f (E), α ∈ (0, 1).
Let E be a non-empty finite subset of X and let x be the point in E minimizing ϕ.
Then by definition:
f (aE) ≤ ϕ(a.x);
f (bE) ≤ ϕ(b.x);
f (a−1 E) ≤ ϕ(a−1 .x);
f (b−1 E) ≤ ϕ(b−1 .x);

12

MAKSYM CHORNYI

T1 f (E) = 41 (f (aE) + f (bE) + f (a−1 E) + f (b−1 E)) ≤ 41 (ϕ(a.x) + ϕ(b.x) + ϕ(a−1 .x) +
ϕ(b−1 .x)) = P ϕ(x) ≤ ϕ(x) = f (E)
T2 f (E) = f (E) since by definition ϕ(p) ≥ ϕ(x).
Hence, T f (E) ≤ f (E) for any non-empty E. For the empty set the statement is
easily checked by hand.

Lemma 7. Let ϕ be a function on X such that:
• ϕ is not superharmonic;
• ϕ(x) ≤ ϕ(p) for any x ∈ X.
Then the corresponding min-function f is not superharmonic either.
Proof. Let q be a point where ϕ is not superharmonic, i.e. ϕ(q) < P ϕ(q). Clearly
q 6= p. Let ri , i = 1, 4, be the neighbors of q (possibly multiple or coinciding with q).
Then 4ϕ(q) < ϕ(r1 ) + ϕ(r2 ) + ϕ(r3 ) + ϕ(r4 ).
Now assume that f is superharmonic. Rewriting the superharmonicity condition for
the set {q}, we get
5f ({q}) ≥ f ({r1 }) + f ({r2 }) + f ({r3 }) + f ({r4 }) + f ({q, p}).
In terms of ϕ, this is equivalent to
5ϕ(q) ≥ ϕ(r1 ) + ϕ(r2 ) + ϕ(r3 ) + ϕ(r4 ) + ϕ(q)
or
4ϕ(q) ≥ ϕ(r1 ) + ϕ(r2 ) + ϕ(r3 ) + ϕ(r4 ),
which contradicts the above.
Therefore, f is not superharmonic at the point {q}.



8. Results for min-functions and their modifications
Theorem 11. Let X be the Schreier graph of Thompson’s group F with p being the
root vertex. Let ϕ be a positive superharmonic (with respect to the uniform measure)
function on X such that f (q) ≤ f (p) for all points q ∈ X and f be its min-function.
Then there is a sequence En ∈ Pf (X), n ∈ N, such that for any g ∈ Pf (X) ⋊ F the
n)
sequence ff(gE
converges to 1.
(En )
Before proving the theorem we will need to introduce some additional notation and
prove several intermediate lemmas.
Let z be a point on the binary skeleton Xsk . Denote by z (+m) the point located on
the corresponding hair m points away from z.
We can see g as a word composed of letters in S = {a, a−1 , b, b−1 , σ} corresponding
to the generators of Pf (X) ⋊ F and their inverses:
• aE = {a.x | x ∈ E};
• a−1 E = {a−1 .x | x ∈ E};
• bE = {b.x | x ∈ E};
• b−1 E = {b−1 .x | x ∈ E};

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

13

• σE = E∆{p}.
Denote by S ∗ the set of all finite words in S. If g has several representations in S ∗ ,
we pick the shortest one. If there are several minimal-length representations, we can
pick an arbitrary one.
Proposition 1. ϕ(z (+m) ) is always a concave function with respect to m, i.e.
ϕ(z (+m+1) ) − ϕ(z (+m) ) is non-increasing.
Proof. Apply the superharmonicity of ϕ to z (+m) , where m ≥ 1:
1
ϕ(z (+m) ) ≥ (ϕ(z (+m+1) ) + ϕ(z (+m−1) ) + 2ϕ(z (+m) )).
4
(+m)
Indeed, from z
by the distribution law we can get to z (+m−1) , z (+m+1) and z (+m)
itself with probabilities 14 , 41 and 12 respectively. Multiplying the expression by 4 and
simplifying gives
2ϕ(z (+m) ) ≥ ϕ(z (+m−1) ) + ϕ(z (+m+1) ),
which is equivalent to
ϕ(z (+m) ) − ϕ(z (+m−1) ) ≥ ϕ(z (+m+1) ) − ϕ(z (+m) ).

Proposition 2. ϕ is non-decreasing on hairs.
Proof. Let q be a point on the skeleton. Assume that there is m ≥ 0 such that
ϕ(z (+m) ) > ϕ(z (+m+1) ). By Lemma 1 ϕ(z (+m) ) is concave, therefore

ϕ(z (+m) ) − ϕ(z (+m+k) ) ≥ k ϕ(z (+m) ) − ϕ(z (+m+1) )
and


ϕ(z (+m+k) ) ≤ ϕ(z (+m) ) − k ϕ(z (+m) ) − ϕ(z (+m+1) ) .

This implies that for a sufficiently large k the value ϕ(z (+m+k) ) is negative, which
contradicts the positivity assumption.

Proposition 3. For all m ≥ 0, ϕ(z (+m) ) ≤ (3m + 1)ϕ(z).
Proof. By superharmonicity, z has four neighbors z1 , z2 , z3 and z (+1) , so ϕ(z) =
1
(ϕ(z1 ) + ϕ(z2 ) + ϕ(z3 ) + ϕ(z (+1) )) ≥ 41 ϕ(z (+1) ) and ϕ(z (+1) ) ≤ 4ϕ(z). The rest follows
4
from Proposition 1 and Jensen’s inequality:
ϕ(z (+m) ) ≤ mϕ(z (+1) ) − (m − 1)ϕ(z) ≤ 4mϕ(z) − (m − 1)ϕ(z) = (3m + 1)ϕ(z).

Proposition 4. Let Xn be the subtree of the binary skeleton consisting of all points
belonging to the upper n + 1 levels of the tree without hairs (i.e., it contains 2n+1 − 1
points). Denote by rn the minimum of ϕ on Xn . Then there is a point qn on the
(n + 1)-st level such that ϕ(qn ) = rn .

14

MAKSYM CHORNYI

Proof. Assume that rn is achieved at some point z above the (n + 1)-st level. Then, by
superharmonicity and Proposition 2, all neighbors z0 of z satisfy ϕ(z0 ) = rn . Now we
can take the neighbor of z which is one level down and apply the same argument to it.
Repeating the same procedure until we reach the (n + 1)-st level, we obtain the desired
conclusion.

Proof. (of Theorem 11)
The statement is obvious if ϕ ≡ C (and hence f ≡ C) for some C ∈ R, so further on
we assume that ϕ is non-constant.
Since ϕ is positive and rn is non-increasing, there exists a number r ≥ 0 such that
rn ↓ r, and, by Lemma 2, r is the infimum of ϕ over X. Replacing ϕ(x) with ϕ(x) − r
n )−r
preserves superharmonicity and makes the statement to prove even stronger: if ff(gE
(En )−r
n)
converges to 1, then so does ff(gE
. Since by assumption ϕ is non-constant, it remains
(En )
strictly positive everywhere together with f because ϕ cannot have minimums. So it
can be assumed without loss of generality that rn ↓ 0.
The idea of the proof is to construct a sequence of one-element sets En = {yn }
n)
− 1 < n1 . By
such that any word g of length not exceeding n would satisfy ff(gE
(En )
Proposition 2, the existence of such a sequence is equivalent to the approximation in a
strong sense.
Let n ≥ 4 be a positive integer. Since by our assumption rn ↓ 0, there is a number
rn
(+m)
), m ≥ 0, the
N = N(n) ∈ N such that rN = ϕ(qN ) < 4n
2 . Denote by am = ϕ((qN )
(+n2 )
sequence of values of ϕ on the hair attached to qn . Put yn = qN
and En = {yn }. By
definition, f (En ) = ϕ(yn ) = an2 .
If the word representing g contains only moves by a, b and their inverses, then gEn =
n)
{an2 +i }, where −n ≤ i ≤ n. To check the condition ff(gE
− 1 < n1 for this case, it is
(En )

a

2

a

2 −a 2

a

2

a

2

−a

2

n
− 1 = n a 2n −n < n1 and na +n
− 1 = n +n
< n1 .
sufficient to verify that na −n
an2
n2
n
n2
By concavity, an2 +n − an2 ≤ an2 − an2 −n , so it is enough to verify the former inequality.
a
Using concavity again, it can be seen that an2 − an2 −n ≤ n1 (an2 − a0 ) < nn2 , hence,
an2 −an2 −n
< n1 .
an2
If g contains σ in its representation at least once, it means that in the process of
applying the word’s instruction to En we might add some new points and, possibly,
move them along tree edges. This can only affect the value of f (gEn ) if for some
subword g1 ∈ {a, b, a−1 , b−1 }∗ with |g1 | ≤ |g| ≤ n we have that ϕ(g1 .p) < an2 +n . But by
Propositions 2 and 4 any value we can achieve this way is greater than or equal to rn .
Applying Lemma 3, we get
rn
(+n2 +n)
an2 +n = ϕ(qN
) ≤ (3n2 + 3n + 1)ϕ(qN ) ≤ (3n2 + 3n + 1) 2 < rn ,
4n
which completes the proof.


SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

15

Now we show that the approximation also exists for finite sums of min-functions,
however, in this case one-element subsets might not be sufficient.
Lemma 8. Let a1 , . . . , am , b1 , . . . , bm , α, β be positive real numbers such that
for all i = 1, k. Then

min(a1 ,...,an )
min(b1 ,...,bn )

ai
bi

∈ (α, β)

∈ (α, β).

Proof. Put ai = min(a1 , . . . , an ) and bj = min(b1 , . . . , bn ). Then:
a
min(a1 ,...,an )
= abji ∈ [ abii , bjj ] ⊂ (α, β).
min(b1 ,...,bn )



Theorem 12. Let fi , i = 1, k be a set of superharmonic functions on Pf (X) obtained
k
P
as in Theorem 11. Put f =
λi fi , where λi are positive real numbers. Then f retains
i=1

the same property: there is a sequence En ∈ Pf (X), n ∈ N, such that for any word
n)
converges to 1.
g ∈ Pf (X) ⋊ F the sequence ff(gE
(En )
Proof. Without loss of generality it can be assumed that λi = 1 since the conditions of
Theorem 11 are invariant under scaling by a positive number.
Let ϕi : X → R be the functions producing fi . As in the previous proof, we can
assume inf ϕi = 0 for all i.
Denote by Bn the set of all points in X at a distance at most n from p and put
ε = min fi (Bn ) = min ϕi (x).
i=1,k

i=1,k, x∈Bn

Now for each i = 1, k let xi be an arbitrary point on Xsk satisfying ϕi (xi ) <
(+n2 )
(+n2 )
{x1
, . . . , xk
}

f (gEn )
f (En )

ε
.
4n2

We

− 1 < n1 for words g of length
claim the set En =
satisfies
≤ n.
As in the previous proof, assume first that the instruction given by g contains only
(+n2 +s1 )
(+n2 +sk )
moves by a, b and their inverses. Then gEn = {x1
, . . . , xk
}, where −n ≤
si ≤ n (in fact, there are only two possible values of si depending on whether xi is a left
(+n2 )
(+n2 +si )
or right child on the binary tree). For convenience, denote yi = xi
and zi = xi
.
By definition, fi (En ) = min ϕi (yj ) and
1≤j≤n

fi (gEn ) = min ϕi (zj ).
1≤j≤n

Using the concavity analogously to the proof of Theorem 11, we have that


1
1
ϕi (zj ) ∈ (1 − )ϕi (yj ), (1 + )ϕi (yj ) .
n
n
By Lemma 8 we conclude that


1
1
fi (gEn ) ∈ (1 − )fi (En ), (1 + )fi (En ) .
n
n
Taking the sum over all i, we get


1
1
f (gEn ) ∈ (1 − )f (En ), (1 + )f (En ) ,
n
n

16

MAKSYM CHORNYI

n)
which is equivalent to ff(gE
− 1 < n1 .
(En )
Again, if g contains at least one switch, it means that in the process of applying the
word’s instruction to En we might add some new points and, possibly, move them along
(+n2 +s1 )
(+n2 +sk )
tree edges. In this case, gEn = F1 ∪ F2 , where F1 = {x1
, . . . , xk
} as defined
previously and F2 ⊂ Bn .
For all n ≥ 4 we can estimate that

(+n2 +sj )

fi (F1 ) = min ϕi (xj
1≤j≤n

) ≤ min (3n2 + 3n + 1)ϕi (xj ) ≤
1≤j≤n

≤ (3n2 + 3n + 1)ϕi (xi ) ≤ ε ≤ fi (Bn ) ≤ fi (F2 ),
where the last inequality follows from the definition of fi as the minimum over a set.
Finally, we conclude that
f (gEn ) =

n
X
i=1

fi (gEn ) =

n
X

min(fi (F1 ), fi (F2 )) =

fi (F1 ) = f (F1 ).

i=1

i=1

From the proof of the first case we know that
proof.

n
X

f (F1 )
f (En )

−1 <

1
,
n

which completes the


Another generalization can be made by using the fact that the Markov operator
preserves superharmonicity.
Theorem 13. Let f : Pf (X) → R be a superharmonic function with the strong approximation property: there is a sequence En ∈ Pf (X), n ∈ N, such that for any
n)
converges to 1. Then P f , where P is the
word g ∈ Pf (X) ⋊ F the sequence ff(gE
(En )
corresponding Markov operator, satisfies the same property for the same sequence En .
Proof. Note that P f (E) = 51 (f (aE) + f (bE) + f (a−1 E) + f (b−1 E) + f (E∆{p})).
Let g be an arbitrary word. Then
f (agEn ) + f (bgEn ) + f (a−1 gEn ) + f (b−1 gEn ) + f (gEn ∆{p})
P f (gEn )
=
.
P f (En )
f (aEn ) + f (bEn ) + f (a−1 En ) + f (b−1 En ) + f (En ∆{p})
n)
n )/f (En )
From the properties of En , we have that ff(agE
= ff(agE
→ 1, n → ∞, or
(aEn )
(aEn )/f (En )
f (agEn ) ∼ f (aEn ), n → ∞. Summing up the equivalences for all five generators, we
obtain the desired conclusion.


Now we can move on to a more general observation involving linear combinations
and iterations of the Markov operator.
Lemma 9. Let fi , i = 1, k, be the min-functions obtained from ϕi (not necessarily
distinct. Let si and λi > 0, i = 1, k, be fixed elements of G and real numbers respectively.

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

17

Then there is a sequence {En } such that for any word g ∈ Pf (X) ⋊ F :
P
λi fi (si gEn )
1≤i≤k
P
→ 1, n → ∞.
λi fi (si En )
1≤i≤k

Proof. First we show that for each n ≥ 4 there is a finite set En such that for each
i = 1, k and for any word g of length ≤ n the following two estimates hold:
•

fi (si gEn )
f (En )

•

fi (si En )
f (En )

− 1 < n1 ;

− 1 < n1 .

This holds because according to the proof of Theorem 12, there exists a finite set E
such that for all elements g such that |g| ≤ m = n + max |si | and for all i = 1, k we
i=1,k

| ffii(gE)
(E)

1
m

1
.
n

have that
− 1| < <
Since the lengths of si g and si do not exceed m, both
inequalities are true for En := E. Thus, for any g and all i = 1, k:
fi (si gEn )
fi (si gEn )/fi (En )
1
=
→ = 1.
fi (si En )
fi (si En )/fi (En )
1
Fix ε > 0. From the convergence above, there is a number N ∈ N such that for all
n ≥ N:
fi (si gEn ) ∈ ((1 − ε)fi (si En ), (1 + ε)fi (si En )) .
Summing up the inequalities above with corresponding weights, we get
X

λi fi (si gEn ) ∈

(1 − ε)

1≤i≤k

which implies

X

λi fi (si En ), (1 + ε)

1≤i≤k

P

1≤i≤k

!

λi fi (si En ) ,

λi fi (si gEn )

1≤i≤k

P

X

λi fi (si En )

∈ (1 − ε, 1 + ε).

1≤i≤k

The latter is equivalent to convergence to 1.

Theorem 14. Let fi , i = 1, k, be min-functions and let P be the Markov operator as in
Theorem 13. Then for any integers ni ≥ 0, P n1 f1 + . . . + P nk fk has an approximation
in a strong sense.
P
Proof. Note that P (n1 ) f1 (En ) = µ(n) (s)f1 (sEn ), where µ(n) is the n-th convolution of
s

the uniform measure and the summation is taken over its support. Now it can be seen
that

18

MAKSYM CHORNYI

P

P ni fi (gEn )
i
P
=
P ni fi (En )
i

which converges to 1 by Lemma 9.

P

µ(ni ) fi (si gEn )

i,|si |≤ni

P

µ(ni ) fi (si En )

,

i,|si |≤ni



The same result is true for countable sums of min-functions whenever they are welldefined.
Theorem 15. If ϕi , i ≥ 1, are functions satisfying the condition above such that
∞
P
ϕn (p) < ∞, and fi are the corresponding min-functions, then there is a sequence

i=1

{En } for f =

∞
P

i=1

fi satisfying

f (gEn )
f (En )

→ 1, n → ∞, for all g ∈ Pf (X) ⋊ F .

Proof. As in the proof of Theorem 12, denote by Bn the set of all points in X at a
distance at most n from p. Put εi = min fi (x).
x∈Bn
∞
∞
P
P
Put ti = ϕi (p). Without loss of generality, we can assume
tn =
ϕn (p) = 1.
i=1

i=1

As before, we are trying to construct a sequence of sets En such that for all words g
n)
− 1 < n1 .
of length not exceeding n, we have ff(gE
(En )
Fix n ∈ N. First, we take a point z1 in the skeleton of the tree such that δ := ϕ1 (z1 ) <
(+4n2 )
ε1
1
1
1 })
and define y1 = z1
. We can verify that if |g| ≤ n, then ff11(g{y
∈ (1− 2n
, 1+ 2n
),
16n2
({y1 })
because if f (g{y1}) has any points outside the hair, they are in Bn and hence do not
influence the value of f as
ε1
(+4n2 +n)
≤ ε1 .
f (z1
) ≤ (12n2 + 3n + 1)f (z1 ) < (12n2 + 3n + 1)
16n2
(+4n2 +s)

Outside Bn , the only point g({yn }) can contain is z1
, |s| ≤ n, for which the proof
is analogous to that in Theorem 11.
∞
P
δ
Let N be an integer index such that
ti < 3n
. For each 2 ≤ i ≤ N, we can find
i=N +1

1
1
i })
∈ (1 − 2n
, 1 + 2n
).
a point yi such that ffii(g{y
({yi })
εi
In order to do it, we choose zi on the skeleton such that fi (zi ) < 16n
2 and then define
(+4n2 )
1
1
i })
∈ (1 − 2n
, 1 + 2n
) is equivalent to the case n = 1.
yi = zi
. The proof that ffii(g{z
({zi })

n)
Finally, define En = {y1 , y2 , . . . , yN }. From the construction it follows that ffii(gE
∈
(En )
1
1
(1 − 2n , 1 + 2n ) for all 1 ≤ i ≤ n. This is true because gEn consists of two subsets: a
(+4n2 +s1 )
(+4n2 +sN )
subset of Bn and a set of the form {z1
, . . . , zN
}. The subset of Bn does
not influence the values of fi , and hence f (by construction). For the latter set, we use

the argument from Theorem 12. This statement also implies

N
P

fi (gEn )

i=1
N
P

fi (En )

i=1

1
1
∈ (1− 2n
, 1+ 2n
).

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

It remains to notice that

∞
P

δ
3n

fi (gEn ) <

i=N +1
N
P

and

∞
P

fi (En ) <

i=N +1

fi (En ) = δ + r, where r > 0. Then f (En ) ∈ [δ + r, δ(1 +

i=1

1
)
3n

δ
.
3n

19

Define S1 =

+ r].

Now we can see that

f (gEn ) =

N
X
i=1

fi (gEn ) +

∞
X

fi (gEn ) ≤ (1 +

i=N +1

δ
1
)(δ + r) +
≤
2n
3n
≤ (1 +

The central inequality is equivalent to
Similarly,
f (gEn ) ≥

N
X
i=1

fi (gEn ) ≥ (1 −

δ
3n

≤

δ+r
,
2n

1
1
)(δ + r) ≤ (1 + )f (En ).
n
n

which is natually true.

1
1
1
1
)(δ + r) ≥ (1 − )(δ(1 + ) + r) ≥ (1 − )f (En ),
2n
n
3n
n

where the central inequality comes from

δ+r
2n

>

δ
2n

>

δ
(1
3n

− n1 ). The proof is complete.


8.1. En can have unbounded size. It is also the case that for some superharmonic
functions f the minimal size of En as a finite set is not necessarily bounded as a function
of n.
The idea of one possible counterexample is to construct an infinite sequence of superharmonic functions ϕn : X → R, each giving rise to a min-function fn on finite subsets
∞
P
of X. As proved before, if the sum f =
fi is defined, it is also superharmonic and
n=0

has an {En }-approximation in the strong sense.
Let us introduce some extra notation.
Denote subtrees of X by T0 , T1 , . . . , Tn , . . . as follows:
T0 includes the right subtree of Xsk with all attached hairs. T1 is the right subtree
of the underlying binary tree of Xs k\T0 , also with all corresponding hairs attached.
Continuing in the same fashion, Tn is the right subtree of the underlying binary tree of
Xs k\Tn−1 with hairs.
Define ϕnon X as follows:
1

/ Tn
 2n , x ∈
1
ϕn (x) = 2d , x ∈ Tn ∩ Xsk , d = d(x, p)

ϕ (z), x = z (+m) , m ∈ N
n
Notice that ϕn is always constant on hairs. The graphs of ϕn on the binary tree for
small values of n are given in Fig. 8.1.
For any n and any finite set E ⊂ X, fn (E) < 21n , hence f (E) is well-defined, bounded
(0 < f (E) < 2) and superharmonic.

20

MAKSYM CHORNYI

p
T0
T0

T1
T2
T2

T1

T0

T1

T2

Figure 2. Structure of subtrees Ti (with no hairs)

φ0

φ1

φ2

1

1/2

1/4

1
1

1/2

1/2

1

1/4

1/4

1/8 1/8 1/8 1/8

1/2

1/4

1/2
1/4

1/2 1/2 1/8 1/8

1/2

1/4

1/2
1/4

1/4
1/4

1/4

1/4

1/8
1/16

1/16

Figure 3. Values of ϕ0 , ϕ1 , ϕ2 on Xsk around p
The amenability criterion from 8 can be reformulated as follows: there is a sequence
{En } such that for any word of length ≤ n representing an element g we have that
n)
n)
| ff(gE
− 1| < 21n . (In previous sections we took the inequality | ff(gE
− 1| < n1 instead,
(En )
(En )
but 21n is more suited for the purposes of this construction).
Proposition 5. Let En be a sequence in Pf (X) such that for any word g ∈ S ∗ of length
n)
≤ n we have that | ff(gE
− 1| < 21n . Then |En | → ∞, n → ∞.
(En )
Proof. Fix n ≥ 2. Let us assume that for some i, 0 ≤ i ≤ n − 2, En contains no points
in Ti . Then it is possible to find a word g, |g| ≤ i + 2, such that:
1
fi (gEn ) ≤ fi (En ) − 2i+1
fk (gEn ) ≤ fk (En ), k 6= i.
Let us construct this word g for a given i. Define the golden path as the set of points
{p, a.p, a2 .p, . . . , ai .p, bai .p}.
If En has no points on the golden path, we add one using the switcher σ at p and
using a and b push it down the golden path. In this case, g = bai σ. Otherwise, we

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

21

p
←T0
←T1
←T2
Figure 4. Golden path for n = 2

take g ∈ {a, b}∗ which pushes the nearest point of the path to bai .p. Note that ϕi
1
is equal to 21i on all points of the golden path except bai .p where it is 2i+1
. In this
1
way, if En contains no points in Ti , we have that f (En ) = 2i , however, with our
1
construction of g, f (gEn ) ≤ 2i+1
. Also, if g ∈ {a, b}∗ or g ∈ {a, b}∗ σ, as in our case,
then fk (gEn ) ≤ fk (En ). This happens because applying σ does not change the value of
any fk , and applying a and b can only make it smaller.
i+1
n)
1
Therefore, ff(gE
− 1 ≥ 1/2
≥ 2i+2
≥ 21n , which contradicts the assumption.
(En )
f (En )
Hence, En must contain at least one point in each of the sets T0 , T1 , . . . , Tn−2 and
|En | ≥ n − 1. This immediately implies the statement of the lemma.

Now we shall explicitly construct a sequence {En } satisfying the condition from Theorem 8. Our construction will produce a sequence with a stronger property: fi (gEn ) =
fi (En ) for any i and for any word g of length ≤ n. This, of course, also means
f (gEn ) = f (En ), which satisfies our requirement.
Take En = {a−n bn .p, a−n bn .ap, . . . , a−n bn an−1 .p} . Let g be a word of length ≤ n.
En has exactly one point in each of the sets T0 , T1 , . . . , Tn−1 . Each of these points is
located in the hair n points away from the binary skeleton. Let i be an index such that
0 ≤ i ≤ n − 1. If g contains only shifts, i.e. letters in {a, b, a−1 , b−1 } without switches,
it cannot change the value of fi since each ϕi is constant on hairs. If the word contains
a switch, it might add a point at p, but to change the value of fi this point should move
at least n + 1 + i times – which is not allowed. Hence, fi (gEn ) = fi (En ) for i < n.
Now take i ≥ n. It is easy to see that fi (En ) = 21i since En has no points in Ti . In
order to get fi (gEn ) < 21i , we need gEn to have at least one point in Ti . By definition
of ϕi , it can be done in at least i + 2 > n steps. Hence, fi (gEn ) = fi (En ) even when
i ≥ n.

22

MAKSYM CHORNYI

p

Figure 5. E2 (in grey) as a subset of X

φ3=1/8
φ3=1/8

1/16

1/32

1/32

φ3=1/8

Figure 6. Location of E3 (in grey) and points in X where ϕ3 <

1
8

9. Generalized min-functions
Denote by T the subspace of sequences in (0, 1]N whose all but finitely many coordinates are equal to 1. Let g : T → R+ be a function satisfying the following:
• g is non-negative and non-decreasing in any variable;
• g is concave, i.e. λg(u) + (1 − λ)g(v) ≤ g(λu + (1 − λ)v) for 0 ≤ λ ≤ 1 and
u, v ∈ T ;
• g is symmetric, i.e. g(x1 , x2 , . . . , xn , . . .) = g(xπ(1) , . . . , xπ(n) , . . .) for any bijection π : N → N.

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

23

Let ϕ be a superharmonic function on X achieving its maximum 1 at the root point
p. Let E = {q1 , . . . , qn } ∈ Pf (X) be a finite set. Define
f (E) = g(ϕ(q1 ), . . . , ϕ(qn ), 1, 1, 1, . . .). Then f is non-negative, superharmonic on
Pf (X) and invariant with respect to the switch.
Alternatively, one could view g as a collection of concave functions gn , n ≥ 0, where
gn (x1 , . . . , xn ) = g(x1 , . . . , xn , 1, 1, 1, . . .). In this way, each gn is a restriction of gn+1
where an arbitrary coordinate is taken to be 1, and gn are defined by the same properties
as g.
This gives us a big class of superharmonic functions on the Lamplighter group
Pf (X) ⋊ F . The existence of strong approximations for them is not immediately obvious since there is not much information on what happens if we add or delete a point
close to p.
An example of such a function is g(x1 , x2 , . . .) = min(h(x1 ), h(x2 ), . . .), where h :
(0, 1] → R is a non-negative, non-decreasing and concave function. In particular, this
construction produces all min-functions. The theorem below further generalizes this
class.
Theorem 16. Let n be a positive integer and r : (0, 1]n → R+ be a symmetric
non-negative concave function, non-decreasing in each variable. Then the function
g(x1 , . . . , xn , . . .) = r(x1 , . . . , xn ) for x1 ≤ x2 ≤ . . . ≤ xn ≤ . . . = 1, extended to T
by sorting, satisfies the conditions above. In particular, if n = 1 and r(x) = x (or,
more generally, n ∈ N and r(x1 , . . . , xn ) = min(x1 , . . . , xn )), this construction yields
the standard min-function.
If f is obtained from some ϕ as described above and r satisfying the theorem above,
we call it a generalized min-function.
Proof. g is non-negative, symmetric and non-decreasing by construction. It remains to
check the concavity. We notice that
g(λu + (1 − λ)v) = g(λu1 + (1 − λ)v1 , . . . , λun + (1 − λ)vn , . . .) =
= g(λu(1) + (1 − λ)v(1) , . . . , λu(n) + (1 − λ)v(n) , . . .) =
= r(λu(1) + (1 − λ)v(1) , . . . , λu(n) + (1 − λ)v(n) ) ≥
≥ λr(u(1) , . . . , u(n) ) + (1 − λ)r(v(1) , . . . , v(n) ) ≥
≥ λr(u((1)) , . . . , u((n)) ) + (1 − λ)r(v((1)) , . . . , v((n)) ) = λg(u) + (1 − λ)g(v).
The indices are sorted so that u((i)) , v((i)) and λu(i) + (1 − λ)v(i) are all non-decreasing
permutations of ui , vi and λu(i) + (1 − λ)v(i) respectively. This proves that g is concave.

Proposition 6. The function r is continuous.
Proof. Since 0 ≤ r(x1 , . . . , xn ) ≤ r(1, . . . , 1), r is bounded.
Assume the converse. Let (x1 , . . . , xn ) be a point of discontinuity and put t =
r(x1 , . . . , xn ). Denote R(ε) = r(x1 + ε, . . . , xn + ε) for all values ε where it is welldefined, including some open interval around 0. The assumption and the fact that r is

24

MAKSYM CHORNYI

non-decreasing imply that R is discontinuous at 0. On the other hand, R is bounded,
non-decreasing and concave. Let R(−a) = t − b ≤ 0, where −a is an arbitrary negative
for z ≥ 0 and
number for which R is defined. Now it follows that t ≤ R(z) ≤ t + zb
a
zb
t − a ≤ R(z) ≤ t for z ≤ 0, meaning that R is continuous at 0. Contradiction.

Theorem 17. If f is a generalized min-function in the sense of Lemma 16, then f has
an approximation in the strong sense, that is, there is a sequence {En } such that for
n)
→ 1 as n → ∞.
any s ∈ Pf (X) ⋊ F we have ff(sE
(En )
Proof. Let r = r(x1 , . . . , xm ) and ϕ be the function from the definition of a generalized
min-function. As before, without loss of generality we assume inf ϕ = 0.
The properties of r imply that it is also uniformly continuous. By the uniform
continuity theorem for metric spaces, we can continuously extend it to a function defined
on the closed hypercube [0, 1]m , which for convenience we will also call r.
n)
Now, fix n ∈ N in order to construct a set En satisfying | ff(sE
− 1| < n1 . The idea
(En )
is to construct En as a set of m points located on hairs away from p and at a distance
> n from the binary skeleton. In this case sEn will consist of m points located on the
same hairs and, possibly, some points at a distance ≤ n from p.
Let ε = min ϕ(q), where Bn is defined as in the proof of Theorem 12. Then our goal
q∈Bn

is to take En so deep in the tree that ϕ(q) < ε for all q ∈ sEn .
There are two possible cases which define the way we are going to construct the
approximation. The first case is when X has at least m hairs where the supremum of
ϕ is less than ε; the second case is when it has at most m − 1 hairs with this property.
Case 1. X has at least m hairs where the supremum of ϕ is less than ε.
In this case, we are constructing En as a set consisting of m points, one on each hair.
The idea is to choose them far enough from the skeleton so the value of ϕ wouldn’t
change much by perturbing the points.
Denote yi = sup ϕ(x), where Hi is the corresponding hair for i = 1, m satisfying
x∈Hi

n
y . Then it follows
n−1 1
(+n)
(+n)
{z1 , . . . , zm } satisfies

the above property. Let zi ∈ Hi be such a point that ϕ(zi ) ≥

from the concavity properties of ϕ on hairs that the set En =
n)
| ff(sE
− 1| < n1 .
(En )
Case 2. We make the following claim which directly follows from the continuity of
r:
There is a number α > 0 and a tuple (y1 , . . . , ym) such that:
• 0 < yi < ε − α for all i
+α,...,yn +α)
• r(y1r(y
< 1 + n1
1 ,...,yn )
If X has only finitely many hairs where the supremum of ϕ is less than ε, we can pick
α
and lim ϕ(zi+l ) > ε. According to
m points {z1 , . . . , zm } ⊂ Xs k such that ϕ(zi ) < 10n
l→∞

(k+1)

(k)

(k )

(k )

α
the proof of Theorem 11, 0 ≤ zi
−zi < 3n
. Hence, we can pick points z1 1 , . . . , zm m
(k )
(k +q)
(k )
). After applying the word s, zi i moves to zi i , with
such that zi i ∈ (yi + α3 , yi + 2α
3

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

25

(k +q)

−n ≤ q ≤ n. This implies that zi i
∈ (yi , yi + α) and f (sEn ) ∈ (r(y1, . . . , yn ), r(y1 +
α, . . . , yn + α)), however, by construction f (En ) lies in the same range. As a conclusion,
n)
− 1| < n1 .
a simple calculation shows that | ff(sE
(En )

10. Possible further applications
The most important open question related to the topic is whether the approximation
in a strong sense exists for Green’s function G(E, ∅|z) for all values of z where it is
defined. If Thompson’s group is not amenable, we know that:
• G(E, ∅|z) is defined for some z = 1r > 1, and
• G(E, ∅|z) has no approximation for any z > 1 as evidenced by the proof of
Theorem 5.
If it is amenable, then G(E, ∅|z) exists only for z ≤ 1 and, by Northshield’s criterion,
has an approximation in a strong sense.
However, the structure of the graph seems to be too complex to explicitly calculate
Green’s function even in the case z = 1. Even for graphs with relatively simple structure, for instance, the standard Cayley graph of Zn for n ≥ 3, there is no elementary
formula for Green’s function.
Another open question is whether such approximations exist for well-defined countable sums of P ni fi -like expressions from Theorem 14. Since one of the central points of
the proof for finite sums was finding the maximum ni , this approach does not work
when the sum is infinite. A notable subclass of this class is the set of potentials
∞
P
P
Gf (E|z) =
P n f (E)z n =
G(E, F |z)f (F ) for z < 1 and any bounded positive
n=0

F

min-function f . They are always well-defined and the existence of En -approximations
in the strong sense for them has not been proved or disproved.
11. Free group action is amenable but not extensively amenable

Consider the following Schreier graph Z:
First, we take the right Cayley graph of the free group F2 generated by a and b. Then
we cut the edge connecting e and a and replace the part containing a with an infinite
tail isomorphic to Z+ where a acts by moving one edge away from e and b acts trivially.
Define the following superharmonic function ϕ on Z:
• ϕ(x) = 1 if x is on the hair;
• ϕ(x) = 3−|x| if x is outside of the hair at a distance |x| from e.
Now define the corresponding superharmonic min-function f on Pf (Z):
• f (E) = min ϕ(x), E 6= ∅;
x∈E

• f (∅) = 1.
Then there is no sequence En ∈ Pf (X) such that for any word g the sequence
converges to 1.

f (gEn )
f (En )

26

MAKSYM CHORNYI


1/27





1/3

1/2



a
b

1/3

e
1/2



1

1

1/3

1 

1

1

1

1



Figure 7. Fragment of graph Z with values of ϕ
n g)
Proof. Assume such a sequence exists. As before, we can assume | ff(E
− 1| < n1
(En )
Consider two cases:
Case 1. ∃N ∈ N ∀n ≥ N : f (En ) = 1.
This means that starting from some moment all En are subsets of the tail. Take
g = pb, where p is the generator corresponding to the switch at e and b multiplies all
elements by b (here we are assuming the right notation, i.e. when applying g = pb we
apply p first and then b). Then f (En g) = ϕ(b) = 31 , which contradict the assumption.
Case 2. For infinitely many n, En is not a subset of the hair, i.e. f (En ) < 1.
Let xn be the element of En minimizing ϕ (if there are several, pick any). There are
infinitely many xn terminating in the same letter, say, b. Then by taking g to be any
letter different from b−1 we have that f (En g) = ϕ(xg) = −3|x|+1 = 31 ϕ(x) = 13 f (En ) for
n)
to 1.
infinitely many n, which prevents the convergence of ff(gE
(En )
In both cases we arrived at a contradiction.


We have used Theorem 5 to prove that the action of the free group on Z is not
extensively amenable by showing that there is no approximation in a strong sense.
However, the action is clearly amenable since we can take arbitrarily long portions
of the tail to be the Følner sets. This gives us another example of a non-extensively
amenable group action.
12. Some facts about random walks on X
Let the Schreier graph X and the point p be defined as above. We can consider a left
simple random walk on X given by the measure µ(a) = µ(b) = µ(a−1 ) = µ(b−1 ) = 14 .
This random walk is transient and has spectral radius 1 due to the graph’s amenability
(more on spectral radii can be found in [1]). In this section we collect some useful
lemmas which we will need in order to show some other results.

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

27

Lemma 10. The Green’s function of the random walk above satisfies G(p, p|1) = 4.
Proof. For any point x, denote by u(x) the distance between p and the point of the
binary tree closest to x (i.e. u(x) says how many levels down from p the point is
located). It is easy to check that the function f (x) = 22−u(x) satisfies f − P f = δp and
converges to 0 on any Poisson boundary of the tree. Thus, the harmonic component in
its Riesz decomposition (see Section 13 for definitions) is 0 and f is a potential. From
the fact that f − P f = δp it follows that this potential is equal to Green’s function
G(·, p). It remains to notice that f (p) = 22 = 4.

Lemma 11. Let qn be a simple random walk on X as defined above starting at a point q0
and let ϕ be a bounded positive superharmonic function on X. Then there is a non-zero
probability that lim ϕ(qn ) ≤ ϕ(q0 ).
n→∞

Proof. Since ϕ is superharmonic, the sequence ϕ(qn ) can be seen as a supermartingale. Hence, the expectation Eϕ(qn ) is non-increasing and Eϕ(qn ) ≤ ϕ(q0 ) for all n.
Then lim ϕ(qn ) exists almost surely by the supermartingale convergence theorem and
n→∞

E( lim ϕ(qn )) ≤ ϕ(q0 ) by Fatou’s lemma. This immediately implies the statement. 
n→∞

Lemma 12. Let qn be a simple random walk on X as defined above such that q0 = p
and let ϕ be a positive superharmonic function on X such that ϕ(q) ≤ t = ϕ(p) for
any q ∈ X, and inf ϕ(x) = 0. Then for any ε > 0 there is a non-zero probability that
x∈X

lim ϕ(qn ) < ε.

n→∞

Proof. Let r be a point on the binary skeleton of X with ϕ(r) < ε (it exists by the
assumption on ϕ). Denote by Xr the binary tree rooted in r. There is a non-zero
probability that for some number N we have that qn ∈ Xr , n ≥ N and qN = r.
Applying the proof of Lemma 11 to Xr and q̃n = qN +n , we get that lim ϕ(qn ) ≤ ϕ(r) < ε
with positive probability.

13. Min-functions are potentials
Definition 12. Suppose that X is a transient graph with a measure defining the Markov
operator
P . For a function f : X → R, we define its potential to be g(x) = Gf (x) =
P
G(x, y)f (y), where G is the corresponding Green’s function.
y

It was proven in [1] (Chapter 24) that any positive superharmonic function can be
decomposed into the sum of a potential g = Gf and a harmonic function h ≥ 0. We
prove that min-functions, and hence their finite and well-defined countable sums, are
potentials.
∞
P
Another way to look at the potential is in terms of P : g(x) = Gf (x) =
P n f (x).
n=0

The definitions are clearly equivalent due to the definitions of the Green’s function and
Markov operator.

28

MAKSYM CHORNYI

Theorem 18. Let X be the Schreier graph of Thompson’s group F with p being the
root vertex. Let ϕ be a positive superharmonic function on X such that ϕ(q) ≤ ϕ(p)
for any q ∈ X and inf ϕ(x) = 0. As before, define the min-function f : Pf (X) → R by
x∈X

• f (E) = min ϕ(x), E 6= ∅
x∈E

• f (∅) = ϕ(p).
Then f is a potential.
Proof. We will prove the theorem by simulating a random walk En ∈ Pf (X) starting
at an arbitrary subset E0 . The idea is to prove that lim f (En ) = 0 almost surely.
n→∞
We can regard the sequence En from the following prospective: each En is a subset
of points (objects) of X. Each time we make a move from En to En+1 , we either move
each object by a letter (a, b, a−1 or b−1 ), add an object at p to the set (if there is none)
or remove an object from p from it (if there is one).
According to the Borel-Cantelli lemma, since the probability of invoking the generator
σ in one move is 51 and we make infinitely many moves, with probability 1 we will add
or remove a new object infinitely many times. Since initially we have finitely many
objects and we cannot remove an object without adding it first, this implies that as we
go onwards from E0 we will almost surely add a new object infinitely many times.
The trajectory of any object can be described as a (possibly terminated) simple
random walk on the graph X. By Lemma 10 its Green’s function G satisfies G(p, p) = 4,
meaning that a random walk starting at p visits p four times on average, including the
starting position. From Lemma 1.13 (a) in [1] it follows that an object has a 41 chance
of never returning back to p. Applying the Borel-Cantelli argument again, we see that
an infinite number of objects will never be removed.
Since each hair of X is recurrent, any object will converge to some end of the binary
skeleton. Lemma 12 together with the Borel-Cantelli lemma (again!) show that for any
ε > 0 sooner or later some object will converge to an end of the graph such that its
trajectory {qn } will satisfy lim ϕ(qn ) < ε. In this case, lim f (En ) < ε and, since ε is
n→∞

n→∞

arbitrary, lim f (En ) = 0.
n→∞

Now assume f is not a potential. Then let f (E) = g(E)+h(E) be the Riesz decomposition of f , where g is a potential and h is a positive bounded harmonic function. Since
g is non-negative, by the squeeze theorem lim h(En ) = 0. On the other hand, by harn→∞

monicity of h, Eh(En ) = h(E0 ) > 0 and by dominated convergence theorem lim h(En )
n→∞

exists and satisfies E( lim h(En )) = lim Eh(En ) = h(E0 ) > 0. Contradiction.
n→∞

n→∞



References
[1] Wolfgang Woess, Random Walks on Infinite Graphs and Groups (Cambridge Tracts in Mathematics)
[2] José
Burillo,
Introduction
to
Thompson’s
group
F
https://mat-web.upc.edu/people/pep.burillo/F%20book.pdf

SUPERHARMONIC FUNCTIONS ON THE LAMPLIGHTER GRAPH

29

[3] J.W.
Cannon,
W.J.
Floyd,
W.R.
Parry,
Introductory
notes
on
Richard
Thompson’s
groups
http://people.math.binghamton.edu/matt/thompson/cfp.pdf
[4] Daniel Yeow, Introduction to Thompson’s group F (Honours Thesis)
http://www.danielyeow.com/wp-content/uploads/2009/06/
honoursthesisfinal.pdf
[5] J. Burillo, S. Cleary, B. Wiest Computational explorations in Thompson’s group Fhttps://arxiv.org/pdf/math/0506346.pdf
[6] Azer
Akhmedov,
Non-amenability of R.Thompson’s group F
https://arxiv.org/abs/0902.3849
[7] E.T.Shavgulidze, About amenability of subgroups of the group of diffeomorphisms of the interval https://arxiv.org/abs/0906.0107
[8] Juschenko, K., Matte Bon, N., Monod, N., de la Salle, M., Extensive amenability and an application to interval exchanges. arXiv preprint
arXiv:1503.04977.
[9] Juschenko, K., de la Salle, M., Invariant means for the wobbling group.
[10] Juschenko,
K.,
Amenability.
Book
in
preparation.
http://www.math.northwestern.edu/~juschenk/book.html.
[11] Sam
Northshield,
Amenability and Superharmonic Functions
https://digitalcommons.plattsburgh.edu/mathematics facpubs/19/
[12] Y. Hartman, K. Juschenko, O. Tamuz, P. V. Ferdowsi. Thompson’s
group F is not strongly amenable
https://arxiv.org/abs/1607.04915
[13] Dmytro Savchuk. Some graphs related to Thompson’s group F
https://arxiv.org/abs/0803.0043

