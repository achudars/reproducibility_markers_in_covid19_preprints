1

Throughput Maximization with an Average Age
of Information Constraint in Fading Channels
Rajshekhar Vishweshwar Bhat, Member, IEEE, and Rahul Vaze, Member, IEEE

arXiv:1911.07499v1 [cs.IT] 18 Nov 2019

and Mehul Motani, Fellow, IEEE

Abstract
In the emerging fifth generation (5G) technology, communication nodes are expected to support
two crucial classes of information traffic, namely, the enhanced mobile broadband (eMBB) traffic with
high data rate requirements, and ultra-reliable low-latency communications (URLLC) traffic with strict
requirements on latency and reliability. The URLLC traffic, which is usually analyzed by a metric called
the age of information (AoI), is assigned the first priority over the resources at a node. Motivated by this,
we consider long-term average throughput maximization problems subject to average AoI and power
constraints in a single user fading channel, when (i) perfect and (ii) no channel state information at
the transmitter (CSIT) is available. We propose simple age-independent stationary randomized policies
(AI-SRP), which allocate powers at the transmitter based only on the channel state and/or distribution
information, without any knowledge of the AoI. We show that the optimal throughputs achieved by
the AI-SRPs for scenarios (i) and (ii) are at least equal to the half of the respective optimal long-term
average throughputs, independent of all the parameters of the problem, and that they are within additive
gaps, expressed in terms of the optimal dual variable corresponding to their average AoI constraints,
from the respective optimal long-term average throughputs.

I. I NTRODUCTION
In the Internet of Things (IoT) applications supported by the emerging fifth generation (5G)
technology, multiple information streams may need to be transmitted from a source to a destination, in which certain information streams may be more critical than others in the sense that
they may require timely delivery with a certain quality requirement [1]–[4]. For instance, realtime URLLC applications, such as the autonomous driving, remote surgery, augmented reality,
haptic communication and disaster management, require timely information delivery [1]. The
timeliness is measured by the age of information (AoI), the time elapsed since the generation
of the last successful update [3], [4], and the quality of information is quantified by the number

2

of bits delivered for an update [5]. In these applications, timely but low-quality updates are not
useful for subsequent actions. Hence, it is sensible to deem an update to be successful only if
the number of bits delivered per update is above a threshold. Once a fraction of the available
resources has been allocated to satisfy the above requirements, expressed in terms of an average
AoI, the remaining resources at a node can be used for transmission of other information streams,
such as eMBB traffic, in a best-effort manner [1]–[3]. Hence, in this work, we aim to maximize
a long-term average throughput subject to a long-term average AoI. The resource constraint we
account for at the node is a long-term average power constraint.
The optimization of AoI and throughputs, independently, over wireless channels has been
widely studied in the recent and past years [6], [7]. However, AoI minimization and throughput
maximization problems subject to throughput and age constraints, respectively, have not been
widely studied. The authors in [8], [9] consider a problem of AoI minimization at an access point
in an uplink wireless communication channel subject to throughput constraints on information
transmitted from source nodes. The authors prove that a simple age-independent stationary
randomized policy (AI-SRP) has at most twice the average AoI of the optimal policy. The
authors in [10] study a multiple access channel with two objectives: minimization of an average
AoI of age-critical primary nodes subject to an aggregate throughput requirement in secondary
nodes and maximization of an aggregate secondary user throughput subject to an average AoI
constraint. Moreover, the authors in [3] consider the problem of minimizing peak AoI subject to
a throughput constraint over a downlink erasure channel. The authors in [11] consider a wireless
network with a base station serving packets from multiple streams to multiple destinations over
a wireless channel. They derive a lower bound on an average AoI using the queuing theoretic
framework. [12] proposes scheduling policies for the transmission of status updates over an
error-prone communication channel to minimize a long-term average AoI under a constraint on
the average number of transmissions at the source. The authors in [13] consider a wireless fading
channel modeled as a two-state Markov chain, where channel alternates between a good and a
bad state with certain transition probabilities, and derive a closed-form expression for an average
AoI.
Unlike in the above works, where communication occurs over simple two-state channels, we
consider a general wireless fading channel with a random channel power gain. Moreover, our goal
is to obtain transmit powers in every slot to optimize the considered problem, unlike in [3], [8]–
[12], where, the only decision to be made is whether to transmit or not in a given slot. To the best

3

of our knowledge, the only work that considers a power adaptation to minimize an average AoI is
[14], where transmit power is varied based on the number of negative acknowledgments received
by the transmitter, communicating over a fading channel without CSIT. Unlike in [14], our goal
is to adapt transmit powers based on the channel power gain realization and/or distribution.
The main contributions of the work are as follows.
•

We propose AI-SRPs that maximize long-term average throughputs subject to average AoI
and power constraints, based on the knowledge of the current channel state and distribution
information, when perfect CSIT is available, and only the channel distribution information,
when no CSIT is available, in a single-user fading channel.

•

For the proposed AI-SRPs, when perfect CSIT is available, we provide a closed-form
expression for the optimal transmit power. When no CSIT is available, we adopt a broadcast
strategy where codewords are designed for each possible channel realizations and superimposed before transmissions, and depending on the channel realization, the receiver can
reliably recover a fraction of the codewords.

•

We show that the maximum long-term average throughputs achieved in the proposed AISRPs under perfect and no CSIT cases are at least half of the respective optimal long-term
average throughputs, independent of all the parameters of the problems, and that they are
within additive gaps from the respective optimal long-term average throughputs. We express
the additive gaps in terms of the optimal dual variables corresponding to the respective AoI
constraints.

In summary, we find that age-independent policies are near-optimal for maximization of longterm average throughputs subject to average AoI and power constraints in fading channels.
The remainder of the paper is organized as follows. We present the system model, problem
formulation and an upper-bound to the problem in Section II. We propose AI-SRPs and bound
their performance for the perfect and no CSIT cases in Section III and Section IV, respectively.
We present numerical results in Section V and conclude in Section VI.
II. S YSTEM M ODEL

AND

P ROBLEM F ORMULATION

In this section, we first describe the channel, rate and AoI models considered in the work.
We then present the long-term average AoI and power constraints followed by the long-term
average throughput maximization problem subject to these constraints. We finally present an
optimization problem whose optimal objective value is an upper-bound to that of the original

4

problem, based on a technique proposed in [8]. We will exploit this upper-bound to obtain
bounds on the AI-SRPs that we propose in the subsequent sections.
A. Channel Model
We consider a block-fading channel in which the channel power gain realization remains
constant over a fixed duration of time, referred to as the channel coherence block length,
and changes across blocks independently. Let the random channel power gain in block k be
denoted by H(k). We assume that {H(1), H(2), . . .} is a sequence of independent and identically
distributed (i.i.d.) random variables, distributed as H over alphabets in H, a compact subset of
R+ , where R+ is the set of positive non-zero real numbers. We consider two cases: (i) when
the CSIT is perfectly available and (ii) when no CSIT is available, at the start of a channel
coherence block. For ease of presentation, we consider H to be a continuous random variable
R
with the probability density function, fh , where h∈H fh dh = 1 for (i), and a discrete random

variable with N non-zero discrete realizations such that H = hi with probability pi > 0 for all

i ∈ {1, . . . , N}, where hi ’s are ordered such that 0 < h1 < h2 < . . . < hN and ΣN
i=1 pi = 1
for (ii). The results presented in the paper for (i) and (ii) can be easily adapted for discrete and
continuous channel power gain distributions, respectively. Without loss of generality, we assume
that the length of each coherence block is unity.
B. Rate Model
In the emerging latency and age-critical applications, it is important to adopt packets with short
lengths to minimize overheads, such as transmission and processing delays [1], [2]. Motivated
by this, we consider the case when the status update packets (codewords) span a single channel
coherence block. Let P (k) and Rp (k) respectively be the transmit power and transmit rate in
frame k. In this case, depending on the channel realization, only a fraction of the transmitted
bits can be successfully decoded. Let Rs (k) ≤ Rp (k) be the number of bits that are reliably
decoded in frame k, which can be possibly random. Then, the long-term average number of bits
successfully delivered, referred to as the long-term average throughput, is given by
K
1 X
E[Rs (k)],
R̄ = lim
K→∞ K
k=1

where the expectation is with respect to the channel power gain process {H(1), H(2) . . .}.

(1)

5

C. AoI Model
Let the instantaneous AoI in block k be denoted by a(k). We deem an update to be successful
in frame k if the number of bits reliably decoded in frame k, Rs (k), is strictly greater than R0 .
Whenever an update is successful, the age of information (AoI) is reset to 1, otherwise, the AoI
increases by 1. That is, the AoI evolves as follows:


1
Rs (k) > R0 ,
a(k + 1) =

a(k) + 1 otherwise.

(2)

Without loss of generality, we assume a(0) = 0. Then, the long-term average AoI is given by
K
1 X
E[a(k)],
ā , lim
K→∞ K
k=1

(3)

where the expectation is with respect to the channel power gain process {H(1), H(2) . . .}.
D. Constraints
As discussed in the introduction, in various emerging applications, the timeliness of information, measure by the AoI, is an important requirement. In order to incorporate this, we impose
the following average AoI constraint: ā ≤ α. We also impose the following average power
constraint:
K
1 X
E[P (k)] ≤ P̄ ,
lim
K→∞ K
k=1

(4)

where we recall that P (k) is the transmit power in frame k. The expectation in (4) is with
respect to the channel power gain process {H(1), H(2) . . .}.
E. Average Throughput Maximization
With the above setting, our goal is to maximize the long-term average throughput subject to
the long-term average AoI and long-term average power constraints, which can be accomplished
by solving the following optimization problem:

∗

R =

max

P (1),P (2),...

K
1 X
E[Rs (k)],
lim
K→∞ K

(5a)

k=1

K
1 X
E[a(k)] ≤ α,
subject to lim
K→∞ K
k=1

(5b)

6

K
1 X
E[P (k)] ≤ P̄ ,
lim
K→∞ K
k=1

(5c)

where (5b) and (5c) are the average AoI and power constraints, respectively.
The optimization problem in (5) has the structure of a constrained Markov decision process
[15], [16], with the state space given by the set H ∪ A, where A is the set of all possible
realizations of age, and the action space is given by R+ ∪ {0}. In slot k ∈ {1, 2, . . .}, the
policy P (k) is a mapping (possibly random) from (h(1), a(1), P (1), h(2), a(2), P (2), . . . , h(k −
1), a(k − 1), P (k − 1), h(k), a(k)) to R+ ∪ {0}. Let Π be the space of all such policies. A
stationary policy is of the form π = (φ, φ, . . .), where φ is a mapping (possibly random) from
H ∪ A to R+ ∪ {0}. In this work, we are interested in an AI-SRP with a bounded performance
gap from the optimal R∗ in (5). An AI-SRP is of the form π ′ = (ψ, ψ, . . .), where ψ is a mapping
(possibly random) from H to R+ ∪ {0}.
Before we proceed to obtain AI-SRPs for the perfect and no CSIT cases in the subsequent
sections, in the following, we present an upper-bound to R∗ , which we will eventually exploit
to bound the performance of AI-SRPs.
F. An Upper Bound on (5)
Define the following indicator variable:
u(k) ,



1 Rs (k) > R0 ,

(6)


0 otherwise,

and consider the following optimization problem:
U=

max

P (1),P (2),...

K
1 X
E[Rs (k)],
lim
K→∞ K
k=1

K
1 X
1
subject to lim
E[u(k)] ≥
,
K→∞ K
2α − 1
k=1

We now have the following result.

K
1 X
lim
E[P (k)] ≤ P̄ .
K→∞ K
k=1

(7a)

(7b)

(7c)

Proposition 1. The optimal value of (7), U, is an upper-bound to the optimal objective value
of (5).

7

Proof. For obtaining the result, we first note the fact that
K
1
1
1 X
E[a(k)] ≥
+ 1,
lim
PK
1
K→∞ K
2 limK→∞ K k=1 E [u(k)]
k=1

which can be proved along the lines in the proof of Theorem 1 in [8]. Now, applying the
constraint on the long-term average AoI in (5b), and re-arranging the terms, we get (7b). By
doing so, since we are constraining a lower bound on the long-term average AoI, the optimal
solution with (7b) is an upper-bound to that of (5). See Appendix A for details.
From the definition of u(k) in (6), the left-hand side of (7b) physically signifies the long-term
average number of successful updates.
III. P ERFECT CSIT C ASE
Since perfect CSIT is available, we can always transmit at the maximum rate of reliable
communication, i.e., we can transmit with rate Rp (k) = Rs (k). When the channel realization in
frame k is h(k) and transmit power is P (k), we assume Rs (k) = r(h(k)P (k)), where r(x) is
the maximum rate of reliable communication when the received signal-to-noise ratio is x, and
r(·) is an invertible, concave, strictly increasing function defined over [0, ∞) such that r(0) = 0.
Hence, when perfect CSIT is available, (5) can be re-written as
∗
RCSIT
=

max

P (1),P (2),...

K
1 X
E[r(h(k)P (k))],
K→∞ K

lim

(8a)

k=1

subject to (5b), (5c),

(8b)

and the upper-bound problem in (7) can be re-written as
UCSIT =

max

P (1),P (2),...

K
1 X
E[r(h(k)P (k))],
K→∞ K
k=1

lim

subject to (7b), (7c).

(9a)
(9b)

In the remaining part of the section, we first propose an AI-SRP. We then transform the upperbound problem in (9) to an equivalent problem, which is identical to the proposed AI-SRP with
the average AoI constraint of α relaxed to 2α − 1. We finally note that the optimal throughput
of the proposed AI-SRP is concave in α and use this fact to obtain additive and multiplicative
bounds on its performance.

8

A. AI-SRP
In this policy, when the channel power gain is h, we transmit with power


P 1 with probability µh ,
h
Ph =

P 2 otherwise,
h

(10)

where Ph1 > r −1 (R0 )/h and Ph2 ≤ r −1 (R0 )/h. Clearly, when Ph = Ph1 , the update will be
successful always, as Rs > R0 and the AoI will be reset to 1. Hence, the probability of success,
P(Rs > R0 ) = E[µh ]. Since the channel power gains are i.i.d. across slots, the inter-success
interval, the number of blocks between two consecutive successful updates, is geometrically
distributed random variables with mean 1/E[µh ] and we can evaluate the long-term average AoI
in (3) to be 1/E[µh ] [8]. Now, the average AoI constraint in (5b) can be rewritten as E[µh ] ≥ 1/α.
Further, the long-term average throughput in (8a) and the average power constraint in (5c) can be
R
R
re-written as h∈H (µh r(hPh1 ) + (1 − µh )r(hPh2 )) fh dh and h∈H (µh Ph1 + (1 − µh )Ph2 ) fh dh ≤

P̄ , respectively. We can now rewrite (8) as follows:
Z

2
1
µ
max
h r(hPh ) + (1 − µh )r(hPh ) fh dh,
Ph1 ,Ph2 ,µh h∈H
Z
1
subject to
µh fh dh ≥ , 0 ≤ µh ≤ 1,
α
Z h∈H

µh Ph1 + (1 − µh )Ph2 fh dh ≤ P̄ ,

(11a)
(11b)
(11c)

h∈H

P1h

r −1 (R0 + ǫ)
r −1 (R0 )
h
≥
, 0 ≤ P2 ≤
,
h
h

(11d)

for an arbitrarily small ǫ > 0. The above problem is non-convex, i.e., it is not jointly convex
in Ph1 , Ph2 and µh . To transform it into a jointly convex problem, define vh1 , µh Ph1 and vh2 ,
(1 − µh )Ph2 . We can now re-write (11) as the following jointly convex optimization problem:



 1
Z
hvh2
hvh
AI SRP
RCSIT (α) = max
+ (1 − µh )r
fh dh,
(12a)
µh r
1 ,v 2 ≥0
µh
1 − µh
µh ,vh
h∈H
h
Z
1
subject to
µh fh dh ≥ , 0 ≤ µh ≤ 1,
(12b)
α
h∈H
Z

vh1 + vh2 fh dh ≤ P̄ ,
(12c)
h∈H

r −1 (R0 + ǫ)
,
h
r −1 (R0 + ǫ) 2
, vh ≥ 0,
v2h ≤ (1 − µh )
h
v1h ≥ µh

for an arbitrarily small ǫ > 0.

(12d)
(12e)

9

B. An Analytical Optimal Solution for the AI-SRP
Let µ∗h , vh1∗ , vh2∗ respectively be the optimal µh , vh1 , vh2 that solve (12). Then the optimal solution
to (11) is given by Ph1∗ = vh1∗ /µ∗h and Ph2∗ = vh2∗ /µ∗h . In the following theorem, we now present
the optimal u∗h , Ph1∗ and Ph2∗ .
Theorem 2. For some λ ≥ 0, let
Pλ,h , min{P : hr ′ (hP ) = λ, P ≥ 0}, ∀ h ∈ H,
 Z ∞

1
hα , max h :
fh dh =
,
α
h


r −1 (R0 + ǫ)
,
hλ , min h : h =
Pλ,h

where r ′ (x) is the first derivative of r(x) with respect to x. Then, we have


1, ∀ h ≥ hα ,
∗
µh =
,

0, otherwise,


 r−1 (R0 +ǫ) , ∀ hα ≤ h < hλ ,
∗
h
1∗
Ph =
, Ph2 = Pλ,h , ∀ h ≤ hα ,

Pλ,h ,
∀ h ≥ hλ ,

(13)

for an arbitrarily small ǫ > 0, where λ is chosen to satisfy the average power constraint in
(11c), or equivalently, (12c).
Proof. The result can be obtained by first finding µ∗h , vh1∗ , vh2∗ of (12) and then assigning Ph1∗ =
vh1∗ /µ∗h and Ph2∗ = vh2∗ /µ∗h . The average AoI constraint in (12b) can be treated as an outage
probability constraint, when an outage event is said to occur if Rs (k) ≤ R0 . With this observation,
if we let r(x) = log(1 + x), the optimization in (12) is in fact the throughput maximization
problem subject to an outage probability and average power constraints studied in [17], whose
optimal solution is given in Theorem 1 of [17] using the Karush-Kuhn-Tucker (KKT) conditions.
In other words, Theorem 1 of [17] provides the optimal solution to (12) when r(x) = log(1 + x).
Following the proof of Theorem 1 of [17], we can obtain the solution of (12) for any invertible
concave increasing function r(x) with r(0) = 0, as stated in (13).
We now make the following comments on the above result. Note that the proposed AI-SRP
in (13) is achievable as it satisfies both the average power and AoI constraints, by design.

10

Further, when r(x) = log(1 + x), as mentioned in the proof of Theorem 2, (13) specializes to
the following power allocation policy obtained in Theorem 1 of [17]:


 exp(R0 +ǫ)−1 , ∀ hα ≤ h < λ exp(R0 + ǫ),
h
∗
Ph =


 1 − 1 + , otherwise.
λ
h

(14)

The optimal power allocation given in (14) can be interpreted as a combination of the wellknown channel inversion and water-filling algorithms [7], [17]. To see this, note that, for h ∈

[hα , λ exp(R0 + ǫ)), the optimal transmit power is inversely proportional to the channel power
gain, similar to the channel inversion algorithm. Otherwise, the optimal transmit power is
identical to the water-filling algorithm with water level 1/λ.
C. Multiplicative and Additive Bounds on the Performance of AI-SRP
In this subsection, we obtain additive and multiplicative bounds on the AI-SRP proposed in
(13). We begin by expressing the optimal objective value of the upper-bound problem, UCSIT in
AI SRP
(·) in (12).
(9) in terms of RCSIT

Theorem 3. The optimal objective value of the upper-bound problem in (9),
AI SRP
(2α − 1),
UCSIT = RCSIT
AI SRP
(·) is given by (12).
where RCSIT

Proof. To prove the above theorem, we first note that (9) has the form of a constrained Markov
decision process (MDP). We then transform it to an unconstrained MDP using the Lagrangian
method and note that it will have a stationary randomized policy (SRP) as the optimal policy.
We then show that the most general SRP one can employ in this case is similar to the AI-SRP
proposed in the previous subsection. See Appendix B for the details.
We now have the following main result of this section, where we obtain multiplicative and
additive bounds on the performance of the AI-SRP in (13).
Theorem 4. The following bounds hold true for the long-term average throughput achieved by
the AI-SRP in (13), obtained as the optimal solution to (12).
•

∗
AI SRP
For any (R0 , H, α, P̄ ), we have, RCSIT
≤ 2RCSIT
.

•

∗
AI SRP
≤ να (α − 1), where να is the optimal dual variable corresponding to the
RCSIT
− RCSIT

AoI constraint in (12b).

11

Proof. Consider (12) with α being replaced by x. Hence, when x = α and x = 2α−1, we obtain
AI SRP
and UCSIT (follows from Theorem 3), respectively. From Exercise 5.32 in [18], since (12)
RCSIT
AI SRP
is an concave maximization problem, the optimal value function, RCSIT
(·) is a concave non-

increasing function of 1/x. Moreover, since 1/x is convex in [1, ∞) and because the composition
of a convex function and a concave non-increasing function is a concave function (see Section
AI SRP
(x) is concave in x. Since, increasing the x is relaxing the
3.2 in [18]), we conclude that RCSIT
AI SRP
(x) must be non-decreasing. Now, noting that for any concave
average AoI constraint, RCSIT

function, g(x), x ∈ R, the inequality, g(y + δ) − g(y) ≤ g(x + δ) − g(x) holds, for all y ≥ x
AI SRP
AI SRP
and δ ≥ 0, and letting, y = α, x = 1 and δ = α − 1, we have, RCSIT
(2α − 1) − RCSIT
(α) ≤
AI SRP
AI SRP
AI SRP
(α) − RCSIT
(1). Since, RCSIT
(1) ≥ 0, we have
RCSIT
AI SRP
AI SRP
RCSIT
(2α − 1) ≤ 2RCSIT
(α).

(15)

Hence, we have
∗
AI SRP
RCSIT
RCSIT
UCSIT
(2α − 1)
=
≤ 2,
≤
AI SRP
AI SRP
AI SRP
RCSIT
RCSIT (α)
RCSIT (α)

where the last inequality follows from (15).
We now make the following comments on the above theorem. For any parameter tuple of the
problem, (R0 , H, α, P̄ ), the first bound says that the maximum long-term average throughput of
AI-SRP is at least half of the optimal long-term average throughput. Moreover, for a specific
parameter tuple, (R0 , H, α, P̄ ), we can obtain a potentially better bound from the second result.
For this, we need to find the optimal dual variables, να , corresponding to the average AoI
constraint.
IV. N O CSIT C ASE
We now consider the case when the realization of the channel power gain, h(k) is not available
at the start of slot k. In this case, since we do not have knowledge of the instantaneous channel
state information, we allocate the transmit powers based only on the knowledge of the distribution
of channel power gain, H, by adopting the following broadcast strategy.
1) Broadcast Strategy: As pointed out in the system model section, in this case, we assume
H to be a discrete random variable, which can take N non-zero discrete values, such that
H = hi with probability pi > 0 for all i ∈ {1, . . . , N}, where hi ’s are ordered such that
0 < h1 < h2 < . . . < hN , and ΣN
i=1 pi = 1.

12

In the broadcast strategy, in a fading block, we first design N codebooks with rates,
!
hi Pi
, ∀ i = 1, . . . , N,
Ri = r
P
1 + hi N
P
j
j=i+1

(16)

where Pi is the constant transmit power of codewords in the ith codebook, r(x) is the maximum
rate of reliable communication when the received signal-to-noise ratio is x, and r(·) is an
invertible, concave, strictly increasing function defined over [0, ∞) such that r(0) = 0. We
then superimpose and transmit N codewords, one from each of the above codebooks. We refer
to the transmitted codeword with rate Ri (from the ith codebook), corresponding to the channel
power gain of hi , as the ith layer. At the receiver, we adopt the following successive interference
cancellation (SIC) decoding: We first decode the 1st layer, treating the symbols from the other
higher layers as noise. Then, the decoded symbols from the 1st layer are subtracted from the
corresponding symbols of the received codeword, following which the layer 2 is decoded treating
the higher layers as noise. This process is continued until the last layer has been decoded.
We now obtain the average achievable rate of the above broadcast strategy. When the channel
power gain, H = hj , the received signal power corresponding to the ith codeword is hj Pi
for i, j = 1, . . . , N. In this case, in layer i, the maximum rate of reliable communication is
P
Cij , r(1 + hj Pi /(1 + hj N
k=i+1 Pk )) for i, j = 1, . . . , N. This implies that when H = hj ,

we can reliably decode only the layers 1, . . . , j, as Ri ≤ Cij for i = 1, . . . , j. For layers

i = j + 1, . . . , N, we have, Ri > Cij and hence we cannot reliably decode them. Hence,
P
the number of bits that can be reliably decoded when H = hj is ji=1 Ri bits. Note that in the
above broadcast technique, the higher the channel power gain, the higher is the average rate,

and this shows that the broadcast strategy facilitates adaptation of communication rates to the
realized channel state, without requiring the CSIT.
Since prob[H = hj ] = pj , the number of bits reliably decoded, Rs , is a random variable with
P
the following distribution: Rs = ji=1 Ri with probability pj . Hence, the average achievable rate
P
PN
is E[Rs ] = N
i=1 qi Ri , where qi ,
j=i pj . From (16), we note that the total transmit power,
PN
i=1 Pi , and the rates, R1 , . . . , RN , are related as follows:
N
X
i=1

Pi =

N
X
i=1


i−1
−1
−1
h−1
i r (Ri )Πl=1 r (Rl ) + 1 .

(17)

Hence, given the total transmit power, P , in order to maximize the average rate, E[Rs ], we need

13

to solve the following optimization problem:
max

R1 ,...,RN ≥0

subject to

N
X

qi Ri ,

(18a)


−1
−1
i−1
h−1
i r (Ri )Πl=1 r (Rl ) + 1 ≤ P.

(18b)

i=1

N
X
i=1

We now comment on the convexity of (18). Clearly, the objective function is convex. In (18b),
we encounter products of the form r −1 (R1 )r −1(R2 ) . . . r −1 (Ri ) for i = 1, . . . , N. Since r(·)
is invertible, strictly increasing and concave, its inverse, r −1 (·), is convex and non-decreasing.
Moreover, r −1 (·) is positive. Now, since the product of convex, non-decreasing positive functions
is convex, r −1 (R1 )r −1 (R2 ) . . . r −1 (Ri ) is convex [18], and hence (18b) is convex. This implies
that (18) is convex and it can be solved using standard numerical techniques. However, when
r(x) = log(1 + x), based on the KKT conditions, a simple analytical solution to (18) has been
obtained in [19], which we present in Appendix C. We will use this solution to propose an
iterative algorithm for the AI-SRP presented later in the section, when r(x) = log(1 + x).
2) Reformulation of (5) and (7) Under the Broadcast Strategy: When no CSIT is available,
we apply the broadcast strategy in (16) in every block for transmission. Let Ri (k) and Pi (k),
respectively, be the transmit rate and power for layer i in block k. Then the expected throughput
P
in block k with the broadcast strategy is given by E[Rs (k)] = N
i=1 qi Ri (k). Now, under the
broadcast strategy, (5) can be re-written as
∗
RNoCSIT
=

K
1 X
qi E[Ri (k)],
Pi (1),Pi (2),... K→∞ K
k=1
" N
#
K
X
1 X
E
Pi (k) ≤ P̄ ,
subject to (5b), lim
K→∞ K
i=1
k=1

max

lim

(19a)

(19b)

and the upper-bound problem in (7) can be re-written as
UNoCSIT

K
1 X
qi E[Ri (k)],
= max
lim
P (1),P (2),... K→∞ K
k=1
" N
#
K
X
1 X
subject to (7b), lim
E
Pi (k) ≤ P̄ .
K→∞ K
i=1

(20a)

(20b)

k=1

In the remaining part of the section, we will first propose a simple AI-SRP under the broadcast
strategy. We then present an equivalent problem to (20) to obtain an upper-bound to (19) under

14

the broadcast strategy. We finally present multiplicative and additive bounds on the maximum
achievable throughput of the proposed AI-SRP. We also obtain a simple iterative solution to
AI-SRP when r(x) = log(1 + x) in Appendix D, based on the discussion in Appendix C.
A. AI-SRP Under the Broadcast Strategy
j
In this policy, we design N rate tuples, each with N elements, represented by (R1j , . . . , RN
),

such that
Rij = r
where

Pj

i=1

Rij > R0 ,

Pj−1
i=1

1 + hi

hi Pij
PN

j
k=i+1 Pk

!

, ∀ i = 1, . . . , N,

Rij ≤ R0 , for all j = 1, . . . , N and Pij is the transmit power

corresponding to the ith entry in the j th rate tuple. In any given fading block, we choose the j th
j
rate tuple, (R1j , . . . , RN
), with probability µj . We then design N codebooks in which the rate

of the ith codebook is Rij and select N codewords (layers), one from each of the codebooks,
superimpose and transmit them. At the receiver, the SIC decoding is adopted.
We now specialize (19) for the above AI-SRP. Conditioned on the event that codewords
generated from the j th rate-tuple have been transmitted, the average achievable throughput is
P
j
equal to N
i=1 qi Ri . Hence, the overall average throughput, averaged over all the possible rateP
PN
PN PN
j
j
tuples, is given by N
j=1 µj
i=1 qi Ri =
j=1
i=1 µj qi Ri . Recall that an update is deemed

to be successful if the number of bits delivered in the update is greater than R0 . In the above
broadcast strategy, when the j th rate-tuple is transmitted and when the channel power gain is
P
H = hk , the maximum achievable throughput is equal to ki=1 Rij and, by design, we have,
Pl
j
th
i=1 Ri > R0 for all l ≥ j. Hence, conditioned on the event that j rate-tuple is transmitted,

the probability of success, P(success|j th rate-tuple is transmitted) = qj , as P(H ≥ hj ) = qj .
PN
Hence, the probability of success is given by
j=1 qj µj and, along the lines in the perfect

CSIT case in the previous section, the average AoI constraint in (5b) can be re-written as
PN
j=1 qj µj ≥ 1/α. Finally, recalling that the transmit power for layer i, corresponding to the
PN
P
j
j th rate-tuple is Pij , the long-term average power is given by N
i=1 Pi . From (17), it
j=1 µj

P
PN −1 −1 j i−1 −1 j
j
follows that N
i=1 Pi =
i=1 hi r (Ri )Πl=1 r (Rl ) + 1 . Now, under the above AI-SRP,
(19) can be specialized to the following optimization problem:
max

Rj1 ,...,RjN ,µj

N X
N
X
j=1 i=1

µj qi Rij ,

(21a)

15

subject to

N
X

µj

j=1

N
X

N
X
i=1

qj µj ≥

j=1

Rij ,

j
j
−1
−1
i−1
h−1
i r (Ri )Πl=1 r (Rl ) + 1

N
1 X
,
µj = 1,
α j=1
j
X

µj ≥ 0,



!

≤ P̄ ,

(21b)

(21c)

Rij ≥ R0 + ǫ,

(21d)

i=1

for all j, i = 1, . . . , N, for an arbitrarily small ǫ > 0. The inequalities in (21b) and (21c) are
the average power and AoI constraints, respectively. The above problem is non-convex due to
coupling between the variables. Defining vij , µj Rij , the above problem can be transformed to
the following jointly convex problem:
AI SRP
RNoCSIT
(α)

=

max

j
,µj
v1j ,...,vN

subject to

N X
N
X

qi vij ,

(22a)

j=1 i=1

N
X
j=1

N
X
j=1

µj

N
X

−1
h−1
i r

i=1

qj µj ≥

vij
µj

!

Πi−1
l=1

r −1

vlj
µj

!

+1

!!

≤ P̄ ,

N
1 X
µj ≤ 1,
,
α j=1

vij , µj ≥ 0, ∀j, i = 1, . . . , N,
j
X

vij ≥ µj (R0 + ǫ), ∀j = 1, . . . , N.

(22b)

(22c)
(22d)
(22e)

i=1

Since the optimization problem (22) is jointly convex, it can be solved using standard numerical
techniques for any invertible concave increasing r(·), defined over [0, ∞), such that r(0) = 0.
However, when r(x) = log(1 + x), in Appendix D, we obtain a simple iterative algorithm for
solving (22).
B. Upper Bound
In the following theorem, we express the optimal objective value of the upper-bound problem
AI SRP
(·) of the AI-SRP policy in (22).
in (20) in terms of the optimal objective value, RNoCSIT

Theorem 5. In the no CSIT case, when the broadcast strategy is adopted, the optimal objective
value of the upper-bound problem in (20),
AI SRP
(2α − 1),
UNoCSIT = RNoCSIT

16

AI SRP
(·) is given by (22).
where RNoCSIT

Proof. To prove the above theorem, we first argue that (20) must have a stationary randomized
policy (SRP) as the optimal policy. We then show that the most general SRP one can employ
in this case is similar to the AI-SRP proposed in the previous subsection. See Appendix E for
the details.
C. Multiplicative and Additive Bounds on AI-SRP
In the following theorem, we present multiplicative and additive bounds on the AI-SRP.
Theorem 6. Under the broadcast strategy, the following bounds hold true:
•

∗
AI SRP
For any (R0 , H, α, P̄ ), we have, RNoCSIT
≤ 2RNoCSIT
.

•

∗
AI SRP
≤ να (α − 1), where να is the optimal dual variable corresponding to
RNoCSIT
− RNoCSIT

the average AoI constraint in (22c).
Proof. The above results follow from the concavity of the optimal long-term average throughput
in α and they can be proved along the lines in the proof of Theorem 4.
V. N UMERICAL R ESULTS
In this section, we obtain simulation results, for which we consider an exponentially distributed
channel power gain H with unit mean with the PDF, fh = e−h . We truncate fh at h = hmax
and quantize h to N evenly spaced levels in [0, hmax ], obtaining hi = ihmax /N with probability
R ihmax /N
R∞
pi = h=(i−1)h
f
dh
for
i
=
1,
.
.
.
,
N
−
1,
h
=
h
and
p
=
f dh. We
h
N
max
N
h=(N −1)hmax /N h
max /N

let hmax = 5 for all the plots.

In Fig. 1 and Fig. 2, we plot the variation of the multiplicative and additive bounds on the
performance gaps of the proposed AI-SRPs from the optimal performance under the perfect and
no CSIT cases with α and R0 , respectively. From Theorem 4, recall that RxAI
RxAI

SRP

SRP

≥ Rx∗ /2 and

≥ Rx∗ − να (α − 1) for x ∈ {CSIT, NoCSIT}. However, from Fig. 1a and Fig. 2a we

note that, for the selected parameters, the multiplicative bound is much smaller than 2 both in
the perfect and no CSIT cases. Further, from Fig. 1b and Fig. 2b, it can be seen that Rx∗ is only
a fraction of bits away from the corresponding optimal performance for x ∈ {CSIT, NoCSIT}.
From the figures, it is also interesting to note that as α increases (R0 decreases), the gap between
performance of the proposed and the optimal policy decreases, and for a sufficiently large α
(small R0 ), the gap becomes zero.

17

1.25
0.16

With CSIT, P̄ = 1, R0 = 1, N = 50
No CSIT, P̄ = 5, R0 = 1, N = 50

1.2

0.12
A , να (α − 1)

1.15
M , Ux /Rx∗

With CSIT, P̄ = 1, R0 = 1, N = 50.
No CSIT, P̄ = 1.75, R0 = 0.5, N = 10.

0.14

1.1
1.05

0.1
0.08
0.06
0.04

1

0.02
0.95
1.2

(a)

1.4

1.6

1.8

Multiplicative

2

bound:

2.2
α

2.4

2.6

AI SRP
Rx

2.8

3

≥

3.2

R∗x /M ,

x ∈ {CSIT, NoCSIT}.

0

1.4

1.6

1.8

AI
(b) Additive bound: Rx

2

SRP

2.2
α

2.4

2.6

2.8

3

3.2

≥ R∗x − A, x ∈ {CSIT, NoCSIT}.

SRP and RAI SRP , of the proposed AI-SRPs
Fig. 1: The variation of multiplicative and additive bounds on the optimal objective values, RAI
CSIT
NoCSIT

under the perfect and no CSIT cases, respectively, with the average AoI, α.

In Fig. 3a and Fig. 3b, we plot the variation of the long-term average throughput with average
power, P̄ in the proposed AI-SRPs under the perfect and no CSIT cases, respectively. The longterm average throughput is a concave function of P̄ . This is because, the AI-SRPs proposed in
(12) and (22) for the CSIT and no CSIT cases, respectively, are convex optimization problems
and hence, they are concave functions of P̄ (see Exercise 5.32 in [18]). Further, as expected, the
long-term average throughput is non-increasing with the decreasing α and increasing R0 . This is
because, for a smaller α and larger R0 , more power needs to be allocated to lower channel power
gain realizations, to satisfy the average AoI constraint, and this results in a lower throughput,
due to the concavity of the rate function, r(·).
1.08
0.1

With CSIT, P̄ = 1, α = 4
No CSIT, P̄ = 10, α = 1.5

With CSIT, P̄ = 1, α = 4
No CSIT, P̄ = 10, α = 1.5

1.06

1.04

A , να (α − 1)

M , Ux /Rx∗

0.08

1.02

0.06

0.04

1
0.02
0.98

0.2

0.4

0.6

0.8

1

1.2

1.4

1.6

1.8

2

R0

(a)

Multiplicative

bound:

RAI
x

SRP

≥

x ∈ {CSIT, NoCSIT}.

R∗x /M ,

0

0.2

0.4

AI
(b) Additive bound: Rx

0.6

SRP

0.8
R0

1

1.2

1.4

≥ R∗x − A, x ∈ {CSIT, NoCSIT}.

SRP and RAI SRP , of the proposed AI-SRPs
Fig. 2: The variation of multiplicative and additive bounds on the optimal objective values, RAI
CSIT
NoCSIT

under the perfect and no CSIT cases, respectively, with R0 .

18

1.2

1.4

AI SRP
Average Throughput, RNoCSIT

AI SRP
Average Throughput, RCSIT

1.6

1.2

1
R0
R0
R0
R0

0.8

0.6

1

1.5

2

2.5
3
3.5
Average Power, P̄

= 0.5,
= 1.5,
= 0.5,
= 1.5,

4

α = 1.25
α = 1.25
α=5
α=5
4.5

5

1.1
1
0.9
0.8
R0
R0
R0
R0

0.7
0.6

5

5.5

(a) Perfect CSIT case.

6

6.5

7
7.5
8
Average Power, P̄

8.5

= 0.5, α = 2
= 2, α = 2
= 0.5, α = 5
= 2, α = 5
9

9.5

10

(b) No CSIT case.

Fig. 3: The variation of the long-term average throughput of the proposed AI-SRP in the perfect and no CSIT cases with the maximum average
power, P̄ .

VI. C ONCLUSIONS
We considered long-term average throughput maximization problems subject to average AoI
and power constraints in a single user fading channel, when perfect and no CSIT is available.
We proposed simple age-independent stationary randomized policies (AI-SRP), whose optimal
throughputs are at least equal to the half of the respective optimal long-term average throughputs,
independent of all parameters of the problem. Moreover, the optimal throughputs are within
additive gaps from the respective optimal long-term average throughputs, where we express the
additive gaps in terms of the optimal dual variable corresponding to their average AoI constraints.
We also obtain efficient algorithms to solve the proposed AI-SRPs. In summary, we found that
age-independent policies are near-optimal in maximizing long-term average throughputs subject
to average AoI and power constraints in fading channels.
A PPENDIX
A. Proof of Proposition 1
Consider a feasible policy, π = (P (1), P (2), . . . , P (K)), over a finite horizon of K slots.
Now, for a given sample path of the channel gain process, (h(1), . . . , h(K)), the total number
P
of updates is equal to M(k) , K
k=1 u(k). For all l ∈ {1, . . . , M(k)}, let the number of slots

between (l − 1)th and lth updates be denoted by I[l]. Let S be the number of slots since the last
update in K slots. Then, we have,
M (k)

K=

X
l=1

I[l] + S.

(23)

19

In the slot following the (l − 1)th update, the AoI is reset to 1. Then, the AoI increases as
{1, 2, . . . , I[l]} until the lth update. Hence, the total AoI from the (l − 1)th update to the lth
update is I(l)(I(l) + 1)/2. Hence, the time average of AoI over K slots can be expressed as


M (k)
K
X
X
1 
I(l)(I(l) + 1) S(S + 1) 
1
a(k) =
,
+
K k=1
K l=1
2
2


M (k)
2
X
S
M(k) 1
(a) 1
I 2 [l] +
+ 1 ,
= 
2
K M(k) l=1
K




M (k)

2

2



1  M(k)  1 X
S
I[l] +
+ 1 ,
2
K
M(k) l=1
K
!
1 (K − S)2 S 2
(c) 1
+
+1 ,
=
2 K M(k)
K


(d) 1
K
≥
+1 ,
2 M(k) + 1
(b)

≥

(24)
(25)

where we substitute the linear terms in the above equation by (23) for (a), (b) is because of
2
P
P
the CauchySchwartz inequality, n1 ni=1 a ≤ n1 ni=1 a2 for a1 , . . . , an ≥ 0, (c) is obtained by
PM (k)
replacing l=1 I[l] by K − S from (23), and (d) is obtained by analytically minimizing (24)

with respect to S.

Taking expectation of (25), we have,
" K
#
X
1
EH ,...,HK
a(k) ,
K 1
k=1


K
1
+1 ,
≥ EH1 ,...,HK
2
M(k) + 1

K
1
+ 1,
2 EH1 ,...,HK [M(k)] + 1
1
1
= 1
+ 1,
2 K EH1 ,...,HK [M(k)] + K1
1
(b) 1
+ 1,
= 1 PK
2 K k=1 EH [u(k)] + K1
(a)

≥

(26)

where (a) is due to Jensen’s inequality and (b) is obtained by using the definition of M(k).
Now, applying the limit K → ∞ to (26), we have,
" K
#
X
1
EH1 ,...,HK
a(k) ,
lim
K→∞ K
k=1

20

1
K→∞ 2

≥ lim
=

1
1
K

PK

k=1

EH [u(k)] +

1
K

+1

1
1
+ 1.
PK
1
2 limK→∞ K k=1 EH [u(k)]

(27)

Now, applying the constraint on the long-term average age, and re-arranging the terms, we get
the constraint, (7b). Since we are constraining a lower bound on the long-term average age, the
optimal solution with (7b) is an upper-bound to the original problem in (5).
B. Proof of Theorem 3
The upper-bound problem in (7) has the structure of a constrained MDP [15], [16], with state
space H and action space R+ ∪ {0}. Since the channel power gains are i.i.d. across frames, we
have, fh (h′′ |h′ , P ) = fh (h′′ ) for h′′ , h′ ∈ H, i.e., the next state does not depend on the current
action or the state. When action P (k) is taken, we define two instantaneous rewards, namely
Rs (k) and u(k), and an instantaneous cost, P (k). Now, the optimization problem in (7) can be
transformed into the following unconstrained problem by the Lagrangian method:
min

P (1),P (2),...

K
K
K
1 X
1 X
1 X
E[Rs (k)] − ν lim
E[u(k)] + λ lim
E[P (k)],
lim −
K→∞ K
K→∞ K
K→∞
K
k=1

k=1

subject to P (k) ≥ 0, ∀k ∈ {1, 2, . . .},

k=1

(28a)
(28b)

where λ, ν ≥ 0 are Lagrange multipliers. We now have the below result on the structure of the
optimal solution to (28).
Lemma 7. An SRP is optimal for solving (28).
Proof. For any given λ and ν, (28) is an infinite horizon expected average reward MDP. In this
case, it will have an SRP as the optimal policy, if the conditions W1-W3 in [20] hold for this
problem. We now present W1-W3 (in italics) and argue that (28) satisfies these conditions in
the following.
W1. H is a locally compact space with a countable base.
This condition holds because H is a subset of R, which is locally compact with a countable
base.
W2. The one-step cost function, −Rs (k) − νu(k) + λP (k) must be inf-compact, i.e., for all
β ∈ R, the set D(β) = {(h(k), P (k)) | −Rs (k) − νu(k) + λP (k) ≤ β} must be compact.

21

This condition holds because, for any β ∈ R, ν, λ ≥ 0, R0 ≥ 0 and h(k) ∈ H, we can
find P0 < ∞ such that −Rs (k) − νu(k) + λP (k) ≤ β for all P (k) ∈ [0, P0], which is a
compact set. Note that for some negative values of β and ν, λ ≥ 0, R0 ≥ 0 and h(k) ∈ H,
there may not exist a P (k) ≥ 0 such that −Rs (k) − νu(k) + λP (k) ≤ β. In this case, the
set D(β) will be the null set, which is compact.
W3. Let r(h′ |h, P ) denote the probability density of a transition from a state h to the state
h′ . Then, r(h′ |h, P ) must be weakly continuous. That is, for any bounded and continuous
function, l : H → R,
Z

l(h′ )r(h′|h, P )dh′ ,

(29)

H

must be continuous in (h, P ).
This condition holds because of the following. Since fh (h′ |h, P ) = fh (h′ ), (29) evaluates to
a constant value irrespective of the value of h and P and a constant function is continuous.
Since the conditions W1-W3 hold for (28), it must have an SRP as the optimal policy [20].
Now, for a given λ, ν ≥ 0, the following is the most general randomized power policy one
can adopt: When the channel realization is h, transmit with random power Phrand ≥ 0 with PDF,
R∞
g(Phrand) ≥ 0, where 0 g(Phrand)dPhrand = 1. The above policy is the most general SRP in the
sense that any SRP is a special case of the above policy, as the PDF, g(Phrand), is arbitrary. We

now have the following important lemma.
Lemma 8. For a given λ, ν ≥ 0, when the channel power gain is h, for the most general random
power policy, Phrand , there exists a power policy of cardinality two with the following structure:
Transmit with power
Ph =

where, µh , P Phrand >

r −1 (R0 )
h



P 1
h

P 2
h


, Ph1 >

with probability µh ,

(30)

otherwise,

r −1 (R0 )
h

and Ph2 ≤

r −1 (R0 )
,
h

such that





Efh Eg [Phrand ] = Efh µh Ph1 + (1 − µh )Ph2 ,



 

Efh Eg r(hPhrand ) ≤ Efh µh r hPh1 + (1 − µh )r hPh2 .

(31)
(32)

22

Proof. The result can be proved along the lines in the proof of Proposition 3.1 in [21]. Essentially,
the result follows because of the concavity of r(·). Consider the fully randomized policy, Phrand
and define the following deterministic quantities for a given h ∈ H:


r −1 (R0 )
1
rand
rand
,
P̃h , Eg Ph | Ph >
h


r −1 (R0 )
2
rand
rand
.
P̃h , Eg Ph | Ph ≤
h
Now, we note the following:




r −1 (R0 )
r −1 (R0 )
rand
rand
rand
rand
Eg [Ph ] =Eg Ph | Ph >
× P Ph >
+
h
h




r −1 (R0 )
r −1 (R0 )
rand
rand
rand
× P Ph ≤
,
Eg Ph | Ph ≤
h
h
=P̃h1 µh + P̃h2 (1 − µh ),
h
i
h
i


=⇒ Efh Eg [Phrand ] = Efh P̃h1 µh + Efh P̃h2 (1 − µh ) .

This proves (31). To prove (32), note that





r −1 (R0 ) (a)
r −1 (R0 )
rand
rand
rand
rand
Eg log(1 + hPh ) | Ph >
≤ r hEg Ph | Ph >
h
h


(b)
= r hP̃h1 ,

(33)

where (a) is due to the Jensen’s inequality and (b) follows from the definition of P̃h1 . Similarly,
we have


Eg log(1 +

hPhrand )

|

Phrand

From (33) and (34), we get (32).




r −1 (R0 )
≤ r hP̃h2 .
≤
h

(34)

The above lemma says that in each fading state, for every fully general SRP, Phrand with
some average power consumption, there exists another policy having the structure in (30) that
achieves the same or a higher throughput, with the same average power consumption as the fully
general policy. This implies that the optimal SRP that solves (28) has the structure of (30). In
the following, we apply (30) and re-write (28).
With (30), E[Rs (k)], E[u(k)] and E[P (k)] are given by (11a), and left-hand-sides of (11b)
and (11c), respectively. Defining vh1 , µh Ph1 and vh2 , (1 − µh )Ph2, (28) can be re-written as



 1
Z
Z
hvh2
hvh
+ (1 − µh )r
fh dh + ν
µh fh dh
µh r
max
1 ,v 2 ≥0
µh
1 − µh
µh ,vh
h∈H
h∈H
h

23

Z


vh1 + vh2 fh dh,
h∈H

 −1

 −1
r (R0 )
r (R0 + ǫ)
h
h
, µh ≤ 1, v2 ≤ (1 − µh )
.
subject to v1 ≥ µh
h
h
−λ

(35a)
(35b)

The above optimization problem is jointly convex and we can optimally solve it for various
values of λ, ν ≥ 0. Now, solving (35) for a choice of (λ, ν) pair gives the optimal solution to
R
the original constrained optimization problem, if it results in h∈H µh fh dh ≥ 1/(2α − 1) and
R
(vh1 + vh2 ) fh dh ≤ P̄ , and the optimal objective function does not attain a higher value
h∈H

for any other choice of (λ, ν). In order to obtain the optimal (λ, ν), consider the following

optimization problem.

 1


hvh
hvh2
µh r
+ (1 − µh )r
fh dh,
max
1 ,v 2 ≥0
µh
1 − µh
µh ,vh
h∈H
h
Z
1
subject to
µh fh dh ≥
, µh ≤ 1,
2α − 1
h∈H
Z

vh1 + vh2 fh dh ≤ P̄ ,
h∈H
 −1

 −1

r (R0 + ǫ)
r (R0 )
h
h
v1 ≥ µh
, v2 ≤ (1 − µh )
,
h
h
Z

(36a)
(36b)
(36c)
(36d)

By inspection, we can see that (35) is a Lagrangian formulation of (36), with λ and ν being the
Lagrange multipliers corresponding to (36c) and (36b), respectively. Hence, the optimal λ and
ν for which (35) attains its maximum value are respectively the optimal Lagrange multipliers
corresponding to (36c) and (36b).
We finally note that (36) is identical to (12) except that the α in (12) has been replaced by
AI SRP
(2α − 1).
2α − 1 in (36). Hence, we conclude that, UCSIT = RCSIT

C. The Optimal Solution to (18) with r(x) = log(1 + x)
When r(x) = log(1 + x), an efficient algorithm, referred to as the layered water-filling (LWF)
algorithm, has been obtained in [19] as the optimal solution to (18). We present it here, as the
algorithm and its structural properties are useful in obtaining an iterative algorithm for optimally
solving the proposed AI-SRP, when r(x) = log(1 + x).
When r(x) = log(1 + x), (18b) becomes
N
X
i=1

−1
(h−1
i − hi+1 ) exp

i
X
k=1

Rk

!!

− h−1
1 ≤ P.

24

Pamax
=
l

−1
pal (h−1
al−1 − hal )
−1
pal−1 (h−1
al − hal+1 )

!
A
X
−1
− 1 h−1
al − hal+1 +

−1
(h−1
aj − haj+1 ) exp

j=l+1

j
X

i=l+1

log

−1
pai (h−1
ai−1 − hai )
−1
pai−1 (h−1
ai − hai+1 )

!!!

(38)

Since (18) is convex, the KKT conditions are necessary and sufficient for optimality. Let λ, βi ≥ 0
be the Lagrange multipliers corresponding to (18b) and the inequality Ri ≥ 0, respectively. Then,
based on the KKT conditions, we can find that the optimal solution to (18) admits the following:
!
i
X
pi
βi − βi+1
λ exp
Rm = −1
(37)
−1 + −1
−1 ,
h
−
h
h
−
h
i
i+1
i
i+1
m=1

where hi+1 , ∞. Further, the complementary slackness condition requires βi Ri = 0. Hence,

whenever Ri > 0, we must have, βi = 0. Moreover, based on the KKT conditions, an algorithm,
referred to as the layered water-filling (LWF) algorithm, presented in Algorithm 1 has been shown
to be optimal in [19]. The LWF algorithm has the following two important characteristics:
•

Not every layer may be allocated a non-zero amount of power. Let A = {a1 , . . . , aL },
L ≤ N, be the set of active layers for which a non-zero power is allocated. Further, let
a1 , . . . , aL be such that ha1 < ha2 < . . . haL . The set A can be found as follows [19], [22]:

−1
Assume that all the layers are active, i.e., let A = {1, . . . , N}. If pi / h−1
≤
i − hi+1

−1
pi−1 / h−1
for any i ∈ A, then we must have Ri ≤ 0 in order to satisfy (37). Since
i−1 − hi
Ri cannot be negative, we must have, Ri = 0. Noting this, we remove layer i from A and

assign pi−1 = pi−1 + pi as the probability mass of hi−1 . We continue to merge the layers


−1
is strictly increasing with i = 1 . . . , L, where we recall that ai is
until pai / h−1
−
h
ai
ai+1

the ith element in A such that ha1 < . . . < haL and L = |A|. We summarize the above

procedure for computing A in steps 2-11 of Algorithm 1. Note that A depends only on the
channel power gain distribution.
•

Among the active layers, power is allocated first to layer aL , followed by the consecutive
lower layers. The optimal power allocated to layer al , l = 1, . . . , L, is given by

PL
max
max
max


P
if
P
≤
P
−
a
a
 l
j=l+1 Paj ,
l

L
Pa∗l =
X


P−
Pamax
otherwise.

j


(39)

j=l+1

where Pamax
= ∞ and Pamax
for l = 2, . . . , L is given by (38). Now, the corresponding rates
1
l

can be computed from (16). We summarize the above procedure for computing optimal
transmit powers and rates in steps 12-15 of Algorithm 1.

25

Algorithm 1 The layered water-filling (LWF) algorithm
1: procedure LWF((h1 , . . . , hN ), (p1 , . . . , pN ), P )
2:

A := {1, . . . , N }, Ri , Pi := 0 ∀ i ∈ {1, . . . , N }.

3:

ai := ith element in A such that ha1 < . . . < ha|A| .

4:

L := |A|.

5:

for i = 2 to L do
if

6:

pai
−1
h−1
ai −hai+1

≤

pai−1
−1
h−1
ai−1 −hai

then

7:

Update mass of hai−1 as pai−1 := pai−1 + pai .

8:

Remove ai from A, i.e., A := A \ {ai }.
end if

9:
10:

end for

11:

Repeat 3-10 until

12:

14:

for j = aL to a1 do


PL
max
, where Pamax
is defined in (38).
,
P
−
P
Pal := min Pamax
i=l+1 ai
l
l

15:

end for

16:

Output (R1 , . . . , RN ).

13:

pai
−1
h−1
ai −hai+1

>

pai−1
−1
h−1
ai−1 −hai

∀ i = 2, . . . , L.

Compute Ri from (16).

17: end procedure

D. Optimal Solution to (22) with r(x) = log(1 + x)
In this subsection, we obtain an algorithm to solve (22) when r(x) = log(1 + x). Since (22) is
jointly convex, the KKT conditions are necessary and sufficient for optimality. The Lagrangian
of (22) is given by
L=λ

N
X

µj

j=1

− λP̄ −

N
X
i=1

N
N X
X

qi vij

j=1 i=1

−

N
X
j=1

where

λ, δ, β, ωj , νij , ψj

∂L
, ∂L
j
∂vij ∂vi+1

j

ωj

−1
(h−1
i − hi+1 ) exp

X
i=1

vij

−δ

N
X

Pi

qj µj − α

j=1

− µj (R0 + ǫ)

!

−

−1

j
k=1 vk
µj
!

N
N X
X
j=1 i=1

+β

νij vij

!!
N
X

− h−1
1

!

µj − β

j=1

−

N
X

ψj µj ,

(40)

j=1

≥ 0 are the Lagrange multipliers. The optimal solution must satisfy,

= 0 for all i, j = 1, . . . , N, from which we can obtain the following equation:
!
Pi
j
j
νij − νi+1
v
pi
m=1 m
λ exp
= −1
+
−1 , for i = 1, . . . , j − 1, j + 1, . . . , N, (41a)
µj
hi − h−1
h−1
i+1
i − hi+1
!
Pj
j
j
νjj − νj+1
pj + ω j
v
m
m=1
λ exp
= −1
+ −1
,
(41b)
µj
hj − h−1
hj − h−1
j+1
j+1

26

for all j = 1, . . . , N. Note that the above equations are identical to (37) when pj is replaced
PN
j
by pj + ωj . Suppose we know ωj and P j ,
i=1 Pi , we can apply the LWF algorithm in
j,opt
Algorithm 1 and obtain optimal rates R1j,opt , . . . , RN
as follows.

j,opt
a) Obtaining Optimal Rates, R1j,opt , . . . , RN
, for known ωj for j = 1, . . . , N: From the

LWF algorithm, we can obtain the following:
•

The set of active layers for the j th rate tuple, which we denote by {aj1 , . . . , ajLj } and

•

The maximum transmit power and rate in the ith active layer of the j th rate-tuple, which
we denote by Pij,max and Rij,max, respectively, for i = aj2 , . . . , ajLj and j = 1, . . . , L.

Given Pij,max and Rij,max for i = aj2 , . . . , ajLj and j = 1, . . . , L, in order to find the transmit
power in the first layer of the j th rate tuple, P1j , and the optimal transmit probability, µj , we
need to solve the following optimization problem:


Lj
N
N
j
j
X
X
X
h̃
E
j
1
1
 +
Rkj,max,
µj
max
µj q̃1 log 1 + 
PLj
j
j,max
j
E1 ,µj j=1
µj 1 + h̃1 k=2 Pk
j=1
k=2


Lj
N
X
X
j

E1 + µj
Pkj,max ≤ P̄ ,
subject to
j=1

(42b)

k=2

N
X

N
1 X
qj µj ≥ ,
µj ≤ 1,
α
j=1
j=1

j
X

(42a)

(42c)

vij ≥ µj (R0 + ǫ), ∀j = 1, . . . , N,

(42d)

i=1

µj , E1j ≥ 0, ∀j = 1, . . . , N,
where E1j , P1j µj , h̃ji , haj , p̃ji , paj and q̃ij =
i

i

(42e)

PLj

k=i

p̃jk for all i = 1, . . . , Lj and j = 1, . . . , N.

The above problem is jointly convex and we note the following.
•

For fixed values of µj , using the KKT conditions, we can find that the optimal solution of
the above problem is
Lj

P1j,opt

X j,max
1
1
= − j −
Pi
, ∀ j = 1, . . . , N,
δ h̃1
i=2

(43)

where δ is chosen to satisfy (42b) with equality.
•

Now, for the fixed values of E1j,opt = P1j,opt µj , ∀ j = 1, . . . , N, the above problem is convex
and we can solve it for obtaining optimal µ∗j using standard numerical techniques.

27

From the above observations, it is clear that we can optimally solve (42) by repeating the above
steps in alternating manner until convergence to the global optimal solution, E1j,opt , µ∗j for all


PLj
Pkj,max) , ∀ j =
j = 1, . . . , N. Then, the optimal R1j,opt = log 1 + (h̃j1 E1j,opt /µ∗j )/(1 + h̃j1 k=2
1, . . . , N.

j,opt
for j = 1, . . . , N: In order to obtain
b) Obtaining Optimal ωj for known R1j,opt , . . . , RN

the optimal ωj ’s, consider the following dual function.
g(ω1 , . . . , ωN ) = −

N X
N
X
j=1 i=1

qi vij

−

N
X

ωj

j=1

j
X

vij

!

− µj (R0 + ǫ) ,

i=1

where we recall that vij = µj Rij,opt . From [18], we note that g(ω1, . . . , ωN ) must necessarily be
∗
concave, and the optimal ω1∗ , . . . , ωN
are given by
∗
) = argmax g(ω1 , . . . , ωN ).
(ω1∗ , . . . , ωN

(44)

The above problem can be efficiently solved using a sub-gradient descent method.
j,opt
Finally, we can obtain the optimal solution to (22) by finding optimal R1j,opt , . . . , RN
for

fixed ωj for j = 1, . . . , N and vice versa, until convergence. Since (22) is jointly convex, the
above alternating optimization will converge to the global optimal solution.
E. Proof of Theorem 5
In order to solve the upper-bound problem in (20), we note that since the CSIT is unavailable,
the decision on transmit powers in each block is made using only the channel power gain
distribution. Moreover, the action we take in a block does not impact the channel power gain
distribution in the subsequent fading blocks. Hence, the optimal action we take must be stationary
(possibly random). In the following, we show that the most general SRP one can adopt to solve
the upper-bound problem is identical to the AI-SRP proposed in Section IV-A.
The most general SRP under the broadcast strategy is the following: At each slot, a rate-tuple
(R1 , . . . , RN ), with corresponding power-tuple (P1 , . . . , PN ), is chosen with an arbitrary joint
PDF, g(R1 , . . . , RN ). The above policy is the most general SRP in the sense that any SRP is a
special case of the above policy, as the PDF, g(R1 , . . . , RN ), is arbitrary. Then, N codewords
with rates R1 , . . . , RN are selected, superimposed and transmitted. Define
!
j−1
j
X
X
Ri ≤ R0 ,
µj , P
Ri > R0 ,
i=1

i=1

(45)

28

for j = 1, . . . , N. Now, in the broadcast strategy, conditioned on the event that the transmitted
P
Pj−1
rate-tuple satisfies ji=1 Ri > R0 and i=1
Ri ≤ R0 , it will be successful whenever H ≥ hj ,
P
i.e., with probability qj . Hence, the success probability is given by N
j=1 µj qj . Further, define
)
( j
j−1
X
X


Rk ≤ R0
and Rij , Eg Ri | G j ,
(46)
Rk > R0 ,
Gj ,
k=1

k=1

for j = 1, . . . , N. Now, the long-term average throughput achievable by the above policy is
hP
i
N
Eg
q
R
i=1 i i , and we have
" N
#
" N
#
N
X
X
X
Eg
qi Ri =
µj Eg
qi Ri | G j ,
i=1

j=1

(a)

=

N
X
j=1

i=1

µj

N
X
i=1

N
N
X

 X
j (b)
qi Eg Ri | G =
µj
qi Rij ,
j=1

(47)

i=1

where (a) follows from the Fubini’s theorem and (b) follows from (46). Moreover, the long-term
i
hP
N
P
average power is given by Eg
i=1 i and we note the following:
" N
#
#
" N
X
X

−1
−1
i−1
Eg
,
Pi = Eg
h−1
j r (Ri )Πl=1 r (Rl ) + 1
i=1

i=1

=

N
X

µj Eg

j=1

(a)

=

N
X

i=1

µj

≥

N
X

µj

j=1

(c)

=

N
X
j=1

N
X
i=1

j=1

(b)

" N
X

N
X
i=1

µj

N
X
i=1

#

i−1
−1
j
−1
,
h−1
j r (Ri )Πl=1 r (Rl ) + 1 | G



 j

−1
−1
i−1
Eg h−1
r
(R
)
+
1
|G ,
r
(R
)Π
l
i
j
l=1




 i−1 −1
j
−1
j
h−1
j r (Eg Ri | G )Πl=1 r (Eg Rl | G ) + 1 ,
N
N
X
 (d) X
j
j
−1
−1
i−1
r
(R
)
+
1
=
µ
Pij ,
h−1
r
(R
)Π
j
j
i
l
l=1
j=1

(48)

i=1

where (a) follows from the Fubini’s theorem, (b) is due to the Jensen’s inequality, (c) follows

j
j
i−1
−1
−1
from (46), and (d) is because, we define Pij , h−1
j r (Ri )Πl=1 r (Rl ) + 1 .
Now, consider the following policy, which we refer to as the UB-NoCSIT policy: We design N

j
rate-tuples, each with N elements, represented by (R1j , . . . , RN
), where Rij is defined in (46). In
j
), with probability µj , defined in (45).
any given frame, we choose the j th rate-tuple, (R1j , . . . , RN

Note that the UB-NoCSIT policy is identical to the AI-SRP proposed in Section IV-A. Moreover,
PN
P
j
in the UB-NoCSIT policy, the long-term average throughput is given by N
i=1 qi Ri , the
j=1 µj
P
PN
j
long-term average power is given by N
j=1 µj
i=1 Pi and the success probability is given by

29

PN

j=1 µj qj ,

which is the same as the success probability in the most general policy described

above. Now, from (47) and (48), it follows that the long-term average throughputs of both of the
above policies are the same, to achieve which, the average power consumed in the UB-NoCSIT
policy is less than or equal to that for the most general policy.
From the above discussion, we conclude that for every fully general SRP, with a certain
long-term average throughput, there exists another policy, similar to the AI-SRP proposed in
Section IV-A, that consumes the same or a lower power with the same long-term average
throughput as the fully general policy. This implies that the optimal SRP that solves (20) has
the structure of of the proposed AI-SRP without CSIT in Section IV-A. With this strategy,
P
PK
PK
1
1
limK→∞ K1 K
k=1 E[Rs (k)], limK→∞ K
k=1 E[u(k)] and limK→∞ K
k=1 E[P (k)] in (20) are

respectively given by (21a) and the left-hand sides of (21c) and (21b). Hence, the upper-bound
problem in (20) can be re-written as

max

Rj1 ,...,RjN ,µj

N X
N
X

µj qi Rij ,

(49a)

j=1 i=1

N
X

N
X
1
qj µj ≥
subject to (21b), (21d)
,
µj = 1,
2α
−
1
j=1
j=1

(49b)

The optimization problems (21) (or equivalently (22)) and (49) are identical except that the
P
PN
inequality N
j=1 qj µj ≥ 1/α in (21) is replaced by
j=1 qj µj ≥ 1/(2α − 1) in (49). Hence, we

AI SRP
AI SRP
(2α − 1), where RNoCSIT
(2α − 1) is given by (22).
have, UNoCSIT = RNoCSIT

R EFERENCES
[1] G. J. Sutton et al., “Enabling technologies for ultra-reliable and low latency communications: From PHY and MAC layer
perspectives,” IEEE Commun. Surveys Tuts., vol. 21, no. 3, pp. 2488–2524, 2019.
[2] G. A. Akpakwu, B. J. Silva, G. P. Hancke, and A. M. Abu-Mahfouz, “A survey on 5G networks for the internet of things:
Communication technologies and challenges,” IEEE Access, vol. 6, pp. 3619–3647, 2018.
[3] A. Srivastava, A. Sinha, and K. Jagannathan, “On minimizing the maximum age-of-information for wireless erasure
channels,” 2019. [Online]. Available: http://arxiv.org/abs/1904.00647
[4] M. K. Abdel-Aziz et al., “Ultra-reliable low-latency vehicular networks: Taming the age of information tail,” CoRR, vol.
abs/1811.03981, 2018.
[5] N. Rajaraman, R. Vaze, and G. Reddy, “Not just age but age and quality of information,” CoRR, vol. abs/1812.08617,
2018. [Online]. Available: http://arxiv.org/abs/1812.08617
[6] A. Kosta, N. Pappas, and V. Angelakis, “Age of information: A new concept, metric, and tool,” Foundations and Trends
in Networking, vol. 12, no. 3, pp. 162–259, 2017.

30

[7] D. Tse and P. Viswanath, Fundamentals of Wireless Communication. New York, NY, USA: Cambridge University Press,
2005.
[8] I. Kadota, A. Sinha, and E. Modiano, “Optimizing age of information in wireless networks with throughput constraints,”
in IEEE INFOCOM, April 2018, pp. 1844–1852.
[9] ——, “Scheduling algorithms for optimizing age of information in wireless networks with throughput constraints,”
IEEE/ACM Trans. on Netw., vol. 27, no. 4, pp. 1359–1372, Aug 2019.
[10] A. Kosta, N. Pappas, A. Ephremides, and V. Angelakis, “Age of information and throughput in a shared access network
with heterogeneous traffic,” in IEEE GLOBECOM, Dec 2018, pp. 1–6.
[11] I. Kadota and E. Modiano, “Minimizing the age of information in wireless networks with stochastic arrivals,” in ACM
Mobihoc.

New York, NY, USA: ACM, 2019, pp. 221–230.

[12] E. T. Ceran, D. Gunduz, and A. Gyorgy, “Average age of information with hybrid ARQ under a resource constraint,” IEEE
Trans. on Wireless Commun., vol. 18, no. 3, pp. 1900–1913, March 2019.
[13] L. Huang and L. P. Qian, “Age of information for transmissions over markov channels,” in IEEE GLOBECOM, Dec 2017,
pp. 1–6.
[14] D. Qiao and M. C. Gursoy, “Age-optimal power control for status update systems with packet based transmissions,” IEEE
Wireless Commun. Lett., pp. 1–1, 2019.
[15] M. Goyal, A. Kumar, and V. Sharma, “Power constrained and delay optimal policies for scheduling transmission over a
fading channel,” in IEEE INFOCOM, vol. 1, March 2003, pp. 311–320.
[16] D. J. Ma, A. M. Makowski, and A. Shwartz, “Estimation and optimal control for constrained markov chains,” in IEEE
CDC, Dec 1986, pp. 994–999.
[17] Jianghong Luo, Lang Lin, R. Yates, and P. Spasojevic, “Service outage based power and rate allocation,” IEEE Trans. on
Inform. Theory, vol. 49, no. 1, pp. 323–330, Jan 2003.
[18] S. Boyd and L. Vandenberghe, Convex Optimization.

New York, NY, USA: Cambridge University Press, 2004.

[19] R. V. Bhat, M. Motani, and T. J. Lim, “Energy harvesting communications without transmitter channel state information
using layered coding,” IEEE Trans. on Green Commun. and Netw., vol. 2, no. 1, pp. 127–142, March 2018.
[20] E. Feinberg and M. Lewis, “Optimality inequalities for average cost markov decision processes and the optimality of (s,
S) policies,” May 2005.
[21] L. Li, N. Jindal, and A. Goldsmith, “Outage capacities and optimal power allocation for fading multiple-access channels,”
IEEE Trans. on Inform. Theory, vol. 51, no. 4, pp. 1326–1347, April 2005.
[22] C. Tian et al., “Successive refinement via broadcast: Optimizing expected distortion of a Gaussian source over a Gaussian
fading channel,” IEEE Trans. Inf. Theory, vol. 54, no. 7, pp. 2903–2918, July 2008.

